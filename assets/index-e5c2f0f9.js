(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qV(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var WP={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=Symbol.for("react.element"),zV=Symbol.for("react.portal"),GV=Symbol.for("react.fragment"),HV=Symbol.for("react.strict_mode"),WV=Symbol.for("react.profiler"),KV=Symbol.for("react.provider"),QV=Symbol.for("react.context"),YV=Symbol.for("react.forward_ref"),XV=Symbol.for("react.suspense"),JV=Symbol.for("react.memo"),ZV=Symbol.for("react.lazy"),ZC=Symbol.iterator;function eB(e){return e===null||typeof e!="object"?null:(e=ZC&&e[ZC]||e["@@iterator"],typeof e=="function"?e:null)}var KP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QP=Object.assign,YP={};function ml(e,t,n){this.props=e,this.context=t,this.refs=YP,this.updater=n||KP}ml.prototype.isReactComponent={};ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function XP(){}XP.prototype=ml.prototype;function $E(e,t,n){this.props=e,this.context=t,this.refs=YP,this.updater=n||KP}var qE=$E.prototype=new XP;qE.constructor=$E;QP(qE,ml.prototype);qE.isPureReactComponent=!0;var eN=Array.isArray,JP=Object.prototype.hasOwnProperty,zE={current:null},ZP={key:!0,ref:!0,__self:!0,__source:!0};function eD(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)JP.call(t,r)&&!ZP.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Zf,type:e,key:s,ref:a,props:i,_owner:zE.current}}function tB(e,t){return{$$typeof:Zf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function GE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zf}function nB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tN=/\/+/g;function L0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nB(""+e.key):t.toString(36)}function pp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zf:case zV:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+L0(a,0):r,eN(i)?(n="",e!=null&&(n=e.replace(tN,"$&/")+"/"),pp(i,t,n,"",function(h){return h})):i!=null&&(GE(i)&&(i=tB(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(tN,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",eN(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+L0(s,l);a+=pp(s,t,n,c,i)}else if(c=eB(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+L0(s,l++),a+=pp(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xd(e,t,n){if(e==null)return e;var r=[],i=0;return pp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function rB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bn={current:null},vp={transition:null},iB={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:vp,ReactCurrentOwner:zE};Ee.Children={map:xd,forEach:function(e,t,n){xd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xd(e,function(){t++}),t},toArray:function(e){return xd(e,function(t){return t})||[]},only:function(e){if(!GE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=ml;Ee.Fragment=GV;Ee.Profiler=WV;Ee.PureComponent=$E;Ee.StrictMode=HV;Ee.Suspense=XV;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iB;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=QP({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=zE.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)JP.call(t,c)&&!ZP.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Zf,type:e.type,key:i,ref:s,props:r,_owner:a}};Ee.createContext=function(e){return e={$$typeof:QV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:KV,_context:e},e.Consumer=e};Ee.createElement=eD;Ee.createFactory=function(e){var t=eD.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:YV,render:e}};Ee.isValidElement=GE;Ee.lazy=function(e){return{$$typeof:ZV,_payload:{_status:-1,_result:e},_init:rB}};Ee.memo=function(e,t){return{$$typeof:JV,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=vp.transition;vp.transition={};try{e()}finally{vp.transition=t}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(e,t){return bn.current.useCallback(e,t)};Ee.useContext=function(e){return bn.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return bn.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return bn.current.useEffect(e,t)};Ee.useId=function(){return bn.current.useId()};Ee.useImperativeHandle=function(e,t,n){return bn.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return bn.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return bn.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return bn.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return bn.current.useReducer(e,t,n)};Ee.useRef=function(e){return bn.current.useRef(e)};Ee.useState=function(e){return bn.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return bn.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return bn.current.useTransition()};Ee.version="18.2.0";WP.exports=Ee;var vn=WP.exports;const G=qV(vn);var W_={},tD={exports:{}},or={},nD={exports:{}},rD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,ne){var ce=K.length;K.push(ne);e:for(;0<ce;){var xe=ce-1>>>1,rt=K[xe];if(0<i(rt,ne))K[xe]=ne,K[ce]=rt,ce=xe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],ce=K.pop();if(ce!==ne){K[0]=ce;e:for(var xe=0,rt=K.length,vs=rt>>>1;xe<vs;){var Qr=2*(xe+1)-1,La=K[Qr],bi=Qr+1,io=K[bi];if(0>i(La,ce))bi<rt&&0>i(io,La)?(K[xe]=io,K[bi]=ce,xe=bi):(K[xe]=La,K[Qr]=ce,xe=Qr);else if(bi<rt&&0>i(io,ce))K[xe]=io,K[bi]=ce,xe=bi;else break e}}return ne}function i(K,ne){var ce=K.sortIndex-ne.sortIndex;return ce!==0?ce:K.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,g=null,m=3,y=!1,w=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(K){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=K)r(h),ne.sortIndex=ne.expirationTime,t(c,ne);else break;ne=n(h)}}function D(K){if(b=!1,S(K),!w)if(n(c)!==null)w=!0,wi(L);else{var ne=n(h);ne!==null&&Ei(D,ne.startTime-K)}}function L(K,ne){w=!1,b&&(b=!1,T(H),H=-1),y=!0;var ce=m;try{for(S(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||K&&!R());){var xe=g.callback;if(typeof xe=="function"){g.callback=null,m=g.priorityLevel;var rt=xe(g.expirationTime<=ne);ne=e.unstable_now(),typeof rt=="function"?g.callback=rt:g===n(c)&&r(c),S(ne)}else r(c);g=n(c)}if(g!==null)var vs=!0;else{var Qr=n(h);Qr!==null&&Ei(D,Qr.startTime-ne),vs=!1}return vs}finally{g=null,m=ce,y=!1}}var P=!1,U=null,H=-1,W=5,le=-1;function R(){return!(e.unstable_now()-le<W)}function ro(){if(U!==null){var K=e.unstable_now();le=K;var ne=!0;try{ne=U(!0,K)}finally{ne?Sr():(P=!1,U=null)}}else P=!1}var Sr;if(typeof I=="function")Sr=function(){I(ro)};else if(typeof MessageChannel<"u"){var Dh=new MessageChannel,jl=Dh.port2;Dh.port1.onmessage=ro,Sr=function(){jl.postMessage(null)}}else Sr=function(){C(ro,0)};function wi(K){U=K,P||(P=!0,Sr())}function Ei(K,ne){H=C(function(){K(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,wi(L))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(K){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var ce=m;m=ne;try{return K()}finally{m=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ce=m;m=K;try{return ne()}finally{m=ce}},e.unstable_scheduleCallback=function(K,ne,ce){var xe=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?xe+ce:xe):ce=xe,K){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=ce+rt,K={id:p++,callback:ne,priorityLevel:K,startTime:ce,expirationTime:rt,sortIndex:-1},ce>xe?(K.sortIndex=ce,t(h,K),n(c)===null&&K===n(h)&&(b?(T(H),H=-1):b=!0,Ei(D,ce-xe))):(K.sortIndex=rt,t(c,K),w||y||(w=!0,wi(L))),K},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(K){var ne=m;return function(){var ce=m;m=ne;try{return K.apply(this,arguments)}finally{m=ce}}}})(rD);nD.exports=rD;var oB=nD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD=vn,tr=oB;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oD=new Set,cf={};function ba(e,t){Vu(e,t),Vu(e+"Capture",t)}function Vu(e,t){for(cf[e]=t,e=0;e<t.length;e++)oD.add(t[e])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K_=Object.prototype.hasOwnProperty,sB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nN={},rN={};function aB(e){return K_.call(rN,e)?!0:K_.call(nN,e)?!1:sB.test(e)?rN[e]=!0:(nN[e]=!0,!1)}function uB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lB(e,t,n,r){if(t===null||typeof t>"u"||uB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function In(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zt[e]=new In(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zt[t]=new In(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zt[e]=new In(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zt[e]=new In(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zt[e]=new In(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zt[e]=new In(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zt[e]=new In(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zt[e]=new In(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zt[e]=new In(e,5,!1,e.toLowerCase(),null,!1,!1)});var HE=/[\-:]([a-z])/g;function WE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(HE,WE);zt[t]=new In(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(HE,WE);zt[t]=new In(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(HE,WE);zt[t]=new In(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zt[e]=new In(e,1,!1,e.toLowerCase(),null,!1,!1)});zt.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zt[e]=new In(e,1,!1,e.toLowerCase(),null,!0,!0)});function KE(e,t,n,r){var i=zt.hasOwnProperty(t)?zt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lB(t,n,i,r)&&(n=null),r||i===null?aB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zi=iD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ld=Symbol.for("react.element"),vu=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),QE=Symbol.for("react.strict_mode"),Q_=Symbol.for("react.profiler"),sD=Symbol.for("react.provider"),aD=Symbol.for("react.context"),YE=Symbol.for("react.forward_ref"),Y_=Symbol.for("react.suspense"),X_=Symbol.for("react.suspense_list"),XE=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),uD=Symbol.for("react.offscreen"),iN=Symbol.iterator;function bc(e){return e===null||typeof e!="object"?null:(e=iN&&e[iN]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,M0;function Uc(e){if(M0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M0=t&&t[1]||""}return`
`+M0+e}var F0=!1;function U0(e,t){if(!e||F0)return"";F0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{F0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Uc(e):""}function cB(e){switch(e.tag){case 5:return Uc(e.type);case 16:return Uc("Lazy");case 13:return Uc("Suspense");case 19:return Uc("SuspenseList");case 0:case 2:case 15:return e=U0(e.type,!1),e;case 11:return e=U0(e.type.render,!1),e;case 1:return e=U0(e.type,!0),e;default:return""}}function J_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gu:return"Fragment";case vu:return"Portal";case Q_:return"Profiler";case QE:return"StrictMode";case Y_:return"Suspense";case X_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aD:return(e.displayName||"Context")+".Consumer";case sD:return(e._context.displayName||"Context")+".Provider";case YE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XE:return t=e.displayName||null,t!==null?t:J_(e.type)||"Memo";case bo:t=e._payload,e=e._init;try{return J_(e(t))}catch{}}return null}function fB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J_(t);case 8:return t===QE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hB(e){var t=lD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Md(e){e._valueTracker||(e._valueTracker=hB(e))}function cD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Lp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Z_(e,t){var n=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ko(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fD(e,t){t=t.checked,t!=null&&KE(e,"checked",t,!1)}function ew(e,t){fD(e,t);var n=Ko(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tw(e,t.type,n):t.hasOwnProperty("defaultValue")&&tw(e,t.type,Ko(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tw(e,t,n){(t!=="number"||Lp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jc=Array.isArray;function Au(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ko(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(jc(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ko(n)}}function hD(e,t){var n=Ko(t.value),r=Ko(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fd,pD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fd=Fd||document.createElement("div"),Fd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ff(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dB=["Webkit","ms","Moz","O"];Object.keys(zc).forEach(function(e){dB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zc[t]=zc[e]})});function vD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zc.hasOwnProperty(e)&&zc[e]?(""+t).trim():t+"px"}function gD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var pB=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iw(e,t){if(t){if(pB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function ow(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sw=null;function JE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aw=null,Ru=null,Pu=null;function lN(e){if(e=nh(e)){if(typeof aw!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Zv(t),aw(e.stateNode,e.type,t))}}function mD(e){Ru?Pu?Pu.push(e):Pu=[e]:Ru=e}function yD(){if(Ru){var e=Ru,t=Pu;if(Pu=Ru=null,lN(e),t)for(e=0;e<t.length;e++)lN(t[e])}}function _D(e,t){return e(t)}function wD(){}var j0=!1;function ED(e,t,n){if(j0)return e(t,n);j0=!0;try{return _D(e,t,n)}finally{j0=!1,(Ru!==null||Pu!==null)&&(wD(),yD())}}function hf(e,t){var n=e.stateNode;if(n===null)return null;var r=Zv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var uw=!1;if(qi)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){uw=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{uw=!1}function vB(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var Gc=!1,Mp=null,Fp=!1,lw=null,gB={onError:function(e){Gc=!0,Mp=e}};function mB(e,t,n,r,i,s,a,l,c){Gc=!1,Mp=null,vB.apply(gB,arguments)}function yB(e,t,n,r,i,s,a,l,c){if(mB.apply(this,arguments),Gc){if(Gc){var h=Mp;Gc=!1,Mp=null}else throw Error(V(198));Fp||(Fp=!0,lw=h)}}function Ia(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cN(e){if(Ia(e)!==e)throw Error(V(188))}function _B(e){var t=e.alternate;if(!t){if(t=Ia(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cN(i),e;if(s===r)return cN(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function ID(e){return e=_B(e),e!==null?TD(e):null}function TD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=TD(e);if(t!==null)return t;e=e.sibling}return null}var SD=tr.unstable_scheduleCallback,fN=tr.unstable_cancelCallback,wB=tr.unstable_shouldYield,EB=tr.unstable_requestPaint,ct=tr.unstable_now,bB=tr.unstable_getCurrentPriorityLevel,ZE=tr.unstable_ImmediatePriority,kD=tr.unstable_UserBlockingPriority,Up=tr.unstable_NormalPriority,IB=tr.unstable_LowPriority,CD=tr.unstable_IdlePriority,Qv=null,fi=null;function TB(e){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(Qv,e,void 0,(e.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:CB,SB=Math.log,kB=Math.LN2;function CB(e){return e>>>=0,e===0?32:31-(SB(e)/kB|0)|0}var Ud=64,jd=4194304;function Vc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Vc(l):(s&=a,s!==0&&(r=Vc(s)))}else a=n&~i,a!==0?r=Vc(a):s!==0&&(r=Vc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$r(t),i=1<<n,r|=e[n],t&=~i;return r}function NB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-$r(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=NB(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function cw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ND(){var e=Ud;return Ud<<=1,!(Ud&4194240)&&(Ud=64),e}function V0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$r(t),e[t]=n}function RB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$r(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function eb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$r(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Oe=0;function AD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var RD,tb,PD,DD,OD,fw=!1,Vd=[],Lo=null,Mo=null,Fo=null,df=new Map,pf=new Map,So=[],PB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hN(e,t){switch(e){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":df.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(t.pointerId)}}function Tc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=nh(t),t!==null&&tb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function DB(e,t,n,r,i){switch(t){case"focusin":return Lo=Tc(Lo,e,t,n,r,i),!0;case"dragenter":return Mo=Tc(Mo,e,t,n,r,i),!0;case"mouseover":return Fo=Tc(Fo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return df.set(s,Tc(df.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pf.set(s,Tc(pf.get(s)||null,e,t,n,r,i)),!0}return!1}function xD(e){var t=zs(e.target);if(t!==null){var n=Ia(t);if(n!==null){if(t=n.tag,t===13){if(t=bD(n),t!==null){e.blockedOn=t,OD(e.priority,function(){PD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sw=r,n.target.dispatchEvent(r),sw=null}else return t=nh(n),t!==null&&tb(t),e.blockedOn=n,!1;t.shift()}return!0}function dN(e,t,n){gp(e)&&n.delete(t)}function OB(){fw=!1,Lo!==null&&gp(Lo)&&(Lo=null),Mo!==null&&gp(Mo)&&(Mo=null),Fo!==null&&gp(Fo)&&(Fo=null),df.forEach(dN),pf.forEach(dN)}function Sc(e,t){e.blockedOn===t&&(e.blockedOn=null,fw||(fw=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,OB)))}function vf(e){function t(i){return Sc(i,e)}if(0<Vd.length){Sc(Vd[0],e);for(var n=1;n<Vd.length;n++){var r=Vd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lo!==null&&Sc(Lo,e),Mo!==null&&Sc(Mo,e),Fo!==null&&Sc(Fo,e),df.forEach(t),pf.forEach(t),n=0;n<So.length;n++)r=So[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<So.length&&(n=So[0],n.blockedOn===null);)xD(n),n.blockedOn===null&&So.shift()}var Du=Zi.ReactCurrentBatchConfig,Vp=!0;function xB(e,t,n,r){var i=Oe,s=Du.transition;Du.transition=null;try{Oe=1,nb(e,t,n,r)}finally{Oe=i,Du.transition=s}}function LB(e,t,n,r){var i=Oe,s=Du.transition;Du.transition=null;try{Oe=4,nb(e,t,n,r)}finally{Oe=i,Du.transition=s}}function nb(e,t,n,r){if(Vp){var i=hw(e,t,n,r);if(i===null)Y0(e,t,r,Bp,n),hN(e,r);else if(DB(i,e,t,n,r))r.stopPropagation();else if(hN(e,r),t&4&&-1<PB.indexOf(e)){for(;i!==null;){var s=nh(i);if(s!==null&&RD(s),s=hw(e,t,n,r),s===null&&Y0(e,t,r,Bp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Y0(e,t,r,null,n)}}var Bp=null;function hw(e,t,n,r){if(Bp=null,e=JE(r),e=zs(e),e!==null)if(t=Ia(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bp=e,null}function LD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bB()){case ZE:return 1;case kD:return 4;case Up:case IB:return 16;case CD:return 536870912;default:return 16}default:return 16}}var Po=null,rb=null,mp=null;function MD(){if(mp)return mp;var e,t=rb,n=t.length,r,i="value"in Po?Po.value:Po.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return mp=i.slice(e,1<r?1-r:void 0)}function yp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bd(){return!0}function pN(){return!1}function sr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bd:pN,this.isPropagationStopped=pN,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bd)},persist:function(){},isPersistent:Bd}),t}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ib=sr(yl),th=nt({},yl,{view:0,detail:0}),MB=sr(th),B0,$0,kc,Yv=nt({},th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ob,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kc&&(kc&&e.type==="mousemove"?(B0=e.screenX-kc.screenX,$0=e.screenY-kc.screenY):$0=B0=0,kc=e),B0)},movementY:function(e){return"movementY"in e?e.movementY:$0}}),vN=sr(Yv),FB=nt({},Yv,{dataTransfer:0}),UB=sr(FB),jB=nt({},th,{relatedTarget:0}),q0=sr(jB),VB=nt({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),BB=sr(VB),$B=nt({},yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qB=sr($B),zB=nt({},yl,{data:0}),gN=sr(zB),GB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WB[e])?!!t[e]:!1}function ob(){return KB}var QB=nt({},th,{key:function(e){if(e.key){var t=GB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ob,charCode:function(e){return e.type==="keypress"?yp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YB=sr(QB),XB=nt({},Yv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mN=sr(XB),JB=nt({},th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ob}),ZB=sr(JB),e$=nt({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),t$=sr(e$),n$=nt({},Yv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r$=sr(n$),i$=[9,13,27,32],sb=qi&&"CompositionEvent"in window,Hc=null;qi&&"documentMode"in document&&(Hc=document.documentMode);var o$=qi&&"TextEvent"in window&&!Hc,FD=qi&&(!sb||Hc&&8<Hc&&11>=Hc),yN=String.fromCharCode(32),_N=!1;function UD(e,t){switch(e){case"keyup":return i$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mu=!1;function s$(e,t){switch(e){case"compositionend":return jD(t);case"keypress":return t.which!==32?null:(_N=!0,yN);case"textInput":return e=t.data,e===yN&&_N?null:e;default:return null}}function a$(e,t){if(mu)return e==="compositionend"||!sb&&UD(e,t)?(e=MD(),mp=rb=Po=null,mu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FD&&t.locale!=="ko"?null:t.data;default:return null}}var u$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u$[e.type]:t==="textarea"}function VD(e,t,n,r){mD(r),t=$p(t,"onChange"),0<t.length&&(n=new ib("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wc=null,gf=null;function l$(e){XD(e,0)}function Xv(e){var t=wu(e);if(cD(t))return e}function c$(e,t){if(e==="change")return t}var BD=!1;if(qi){var z0;if(qi){var G0="oninput"in document;if(!G0){var EN=document.createElement("div");EN.setAttribute("oninput","return;"),G0=typeof EN.oninput=="function"}z0=G0}else z0=!1;BD=z0&&(!document.documentMode||9<document.documentMode)}function bN(){Wc&&(Wc.detachEvent("onpropertychange",$D),gf=Wc=null)}function $D(e){if(e.propertyName==="value"&&Xv(gf)){var t=[];VD(t,gf,e,JE(e)),ED(l$,t)}}function f$(e,t,n){e==="focusin"?(bN(),Wc=t,gf=n,Wc.attachEvent("onpropertychange",$D)):e==="focusout"&&bN()}function h$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xv(gf)}function d$(e,t){if(e==="click")return Xv(t)}function p$(e,t){if(e==="input"||e==="change")return Xv(t)}function v$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:v$;function mf(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!K_.call(t,i)||!Hr(e[i],t[i]))return!1}return!0}function IN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function TN(e,t){var n=IN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IN(n)}}function qD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zD(){for(var e=window,t=Lp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lp(e.document)}return t}function ab(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g$(e){var t=zD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qD(n.ownerDocument.documentElement,n)){if(r!==null&&ab(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=TN(n,s);var a=TN(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m$=qi&&"documentMode"in document&&11>=document.documentMode,yu=null,dw=null,Kc=null,pw=!1;function SN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pw||yu==null||yu!==Lp(r)||(r=yu,"selectionStart"in r&&ab(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kc&&mf(Kc,r)||(Kc=r,r=$p(dw,"onSelect"),0<r.length&&(t=new ib("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yu)))}function $d(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _u={animationend:$d("Animation","AnimationEnd"),animationiteration:$d("Animation","AnimationIteration"),animationstart:$d("Animation","AnimationStart"),transitionend:$d("Transition","TransitionEnd")},H0={},GD={};qi&&(GD=document.createElement("div").style,"AnimationEvent"in window||(delete _u.animationend.animation,delete _u.animationiteration.animation,delete _u.animationstart.animation),"TransitionEvent"in window||delete _u.transitionend.transition);function Jv(e){if(H0[e])return H0[e];if(!_u[e])return e;var t=_u[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in GD)return H0[e]=t[n];return e}var HD=Jv("animationend"),WD=Jv("animationiteration"),KD=Jv("animationstart"),QD=Jv("transitionend"),YD=new Map,kN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(e,t){YD.set(e,t),ba(t,[e])}for(var W0=0;W0<kN.length;W0++){var K0=kN[W0],y$=K0.toLowerCase(),_$=K0[0].toUpperCase()+K0.slice(1);ss(y$,"on"+_$)}ss(HD,"onAnimationEnd");ss(WD,"onAnimationIteration");ss(KD,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(QD,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function CN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yB(r,t,void 0,e),e.currentTarget=null}function XD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;CN(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;CN(i,l,h),s=c}}}if(Fp)throw e=lw,Fp=!1,lw=null,e}function $e(e,t){var n=t[_w];n===void 0&&(n=t[_w]=new Set);var r=e+"__bubble";n.has(r)||(JD(t,e,2,!1),n.add(r))}function Q0(e,t,n){var r=0;t&&(r|=4),JD(n,e,r,t)}var qd="_reactListening"+Math.random().toString(36).slice(2);function yf(e){if(!e[qd]){e[qd]=!0,oD.forEach(function(n){n!=="selectionchange"&&(w$.has(n)||Q0(n,!1,e),Q0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qd]||(t[qd]=!0,Q0("selectionchange",!1,t))}}function JD(e,t,n,r){switch(LD(t)){case 1:var i=xB;break;case 4:i=LB;break;default:i=nb}n=i.bind(null,t,n,e),i=void 0,!uw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Y0(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=zs(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}ED(function(){var h=s,p=JE(n),g=[];e:{var m=YD.get(e);if(m!==void 0){var y=ib,w=e;switch(e){case"keypress":if(yp(n)===0)break e;case"keydown":case"keyup":y=YB;break;case"focusin":w="focus",y=q0;break;case"focusout":w="blur",y=q0;break;case"beforeblur":case"afterblur":y=q0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=vN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=UB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ZB;break;case HD:case WD:case KD:y=BB;break;case QD:y=t$;break;case"scroll":y=MB;break;case"wheel":y=r$;break;case"copy":case"cut":case"paste":y=qB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=mN}var b=(t&4)!==0,C=!b&&e==="scroll",T=b?m!==null?m+"Capture":null:m;b=[];for(var I=h,S;I!==null;){S=I;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,T!==null&&(D=hf(I,T),D!=null&&b.push(_f(I,D,S)))),C)break;I=I.return}0<b.length&&(m=new y(m,w,null,n,p),g.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==sw&&(w=n.relatedTarget||n.fromElement)&&(zs(w)||w[zi]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?zs(w):null,w!==null&&(C=Ia(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(b=vN,D="onMouseLeave",T="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(b=mN,D="onPointerLeave",T="onPointerEnter",I="pointer"),C=y==null?m:wu(y),S=w==null?m:wu(w),m=new b(D,I+"leave",y,n,p),m.target=C,m.relatedTarget=S,D=null,zs(p)===h&&(b=new b(T,I+"enter",w,n,p),b.target=S,b.relatedTarget=C,D=b),C=D,y&&w)t:{for(b=y,T=w,I=0,S=b;S;S=au(S))I++;for(S=0,D=T;D;D=au(D))S++;for(;0<I-S;)b=au(b),I--;for(;0<S-I;)T=au(T),S--;for(;I--;){if(b===T||T!==null&&b===T.alternate)break t;b=au(b),T=au(T)}b=null}else b=null;y!==null&&NN(g,m,y,b,!1),w!==null&&C!==null&&NN(g,C,w,b,!0)}}e:{if(m=h?wu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=c$;else if(wN(m))if(BD)L=p$;else{L=h$;var P=f$}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=d$);if(L&&(L=L(e,h))){VD(g,L,n,p);break e}P&&P(e,m,h),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&tw(m,"number",m.value)}switch(P=h?wu(h):window,e){case"focusin":(wN(P)||P.contentEditable==="true")&&(yu=P,dw=h,Kc=null);break;case"focusout":Kc=dw=yu=null;break;case"mousedown":pw=!0;break;case"contextmenu":case"mouseup":case"dragend":pw=!1,SN(g,n,p);break;case"selectionchange":if(m$)break;case"keydown":case"keyup":SN(g,n,p)}var U;if(sb)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else mu?UD(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(FD&&n.locale!=="ko"&&(mu||H!=="onCompositionStart"?H==="onCompositionEnd"&&mu&&(U=MD()):(Po=p,rb="value"in Po?Po.value:Po.textContent,mu=!0)),P=$p(h,H),0<P.length&&(H=new gN(H,e,null,n,p),g.push({event:H,listeners:P}),U?H.data=U:(U=jD(n),U!==null&&(H.data=U)))),(U=o$?s$(e,n):a$(e,n))&&(h=$p(h,"onBeforeInput"),0<h.length&&(p=new gN("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=U))}XD(g,t)})}function _f(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $p(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hf(e,n),s!=null&&r.unshift(_f(e,s,i)),s=hf(e,t),s!=null&&r.push(_f(e,s,i))),e=e.return}return r}function au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function NN(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=hf(n,s),c!=null&&a.unshift(_f(n,c,l))):i||(c=hf(n,s),c!=null&&a.push(_f(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var E$=/\r\n?/g,b$=/\u0000|\uFFFD/g;function AN(e){return(typeof e=="string"?e:""+e).replace(E$,`
`).replace(b$,"")}function zd(e,t,n){if(t=AN(t),AN(e)!==t&&n)throw Error(V(425))}function qp(){}var vw=null,gw=null;function mw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yw=typeof setTimeout=="function"?setTimeout:void 0,I$=typeof clearTimeout=="function"?clearTimeout:void 0,RN=typeof Promise=="function"?Promise:void 0,T$=typeof queueMicrotask=="function"?queueMicrotask:typeof RN<"u"?function(e){return RN.resolve(null).then(e).catch(S$)}:yw;function S$(e){setTimeout(function(){throw e})}function X0(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vf(t)}function Uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function PN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _l=Math.random().toString(36).slice(2),ai="__reactFiber$"+_l,wf="__reactProps$"+_l,zi="__reactContainer$"+_l,_w="__reactEvents$"+_l,k$="__reactListeners$"+_l,C$="__reactHandles$"+_l;function zs(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zi]||n[ai]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=PN(e);e!==null;){if(n=e[ai])return n;e=PN(e)}return t}e=n,n=e.parentNode}return null}function nh(e){return e=e[ai]||e[zi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Zv(e){return e[wf]||null}var ww=[],Eu=-1;function as(e){return{current:e}}function ze(e){0>Eu||(e.current=ww[Eu],ww[Eu]=null,Eu--)}function Ve(e,t){Eu++,ww[Eu]=e.current,e.current=t}var Qo={},nn=as(Qo),xn=as(!1),aa=Qo;function Bu(e,t){var n=e.type.contextTypes;if(!n)return Qo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(e){return e=e.childContextTypes,e!=null}function zp(){ze(xn),ze(nn)}function DN(e,t,n){if(nn.current!==Qo)throw Error(V(168));Ve(nn,t),Ve(xn,n)}function ZD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,fB(e)||"Unknown",i));return nt({},n,r)}function Gp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qo,aa=nn.current,Ve(nn,e),Ve(xn,xn.current),!0}function ON(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=ZD(e,t,aa),r.__reactInternalMemoizedMergedChildContext=e,ze(xn),ze(nn),Ve(nn,e)):ze(xn),Ve(xn,n)}var Di=null,eg=!1,J0=!1;function eO(e){Di===null?Di=[e]:Di.push(e)}function N$(e){eg=!0,eO(e)}function us(){if(!J0&&Di!==null){J0=!0;var e=0,t=Oe;try{var n=Di;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Di=null,eg=!1}catch(i){throw Di!==null&&(Di=Di.slice(e+1)),SD(ZE,us),i}finally{Oe=t,J0=!1}}return null}var bu=[],Iu=0,Hp=null,Wp=0,hr=[],dr=0,ua=null,Oi=1,xi="";function Us(e,t){bu[Iu++]=Wp,bu[Iu++]=Hp,Hp=e,Wp=t}function tO(e,t,n){hr[dr++]=Oi,hr[dr++]=xi,hr[dr++]=ua,ua=e;var r=Oi;e=xi;var i=32-$r(r)-1;r&=~(1<<i),n+=1;var s=32-$r(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Oi=1<<32-$r(t)+i|n<<i|r,xi=s+e}else Oi=1<<s|n<<i|r,xi=e}function ub(e){e.return!==null&&(Us(e,1),tO(e,1,0))}function lb(e){for(;e===Hp;)Hp=bu[--Iu],bu[Iu]=null,Wp=bu[--Iu],bu[Iu]=null;for(;e===ua;)ua=hr[--dr],hr[dr]=null,xi=hr[--dr],hr[dr]=null,Oi=hr[--dr],hr[dr]=null}var er=null,Xn=null,We=!1,jr=null;function nO(e,t){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Xn=Uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ua!==null?{id:Oi,overflow:xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,er=e,Xn=null,!0):!1;default:return!1}}function Ew(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bw(e){if(We){var t=Xn;if(t){var n=t;if(!xN(e,t)){if(Ew(e))throw Error(V(418));t=Uo(n.nextSibling);var r=er;t&&xN(e,t)?nO(r,n):(e.flags=e.flags&-4097|2,We=!1,er=e)}}else{if(Ew(e))throw Error(V(418));e.flags=e.flags&-4097|2,We=!1,er=e}}}function LN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Gd(e){if(e!==er)return!1;if(!We)return LN(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mw(e.type,e.memoizedProps)),t&&(t=Xn)){if(Ew(e))throw rO(),Error(V(418));for(;t;)nO(e,t),t=Uo(t.nextSibling)}if(LN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xn=Uo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xn=null}}else Xn=er?Uo(e.stateNode.nextSibling):null;return!0}function rO(){for(var e=Xn;e;)e=Uo(e.nextSibling)}function $u(){Xn=er=null,We=!1}function cb(e){jr===null?jr=[e]:jr.push(e)}var A$=Zi.ReactCurrentBatchConfig;function Mr(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Kp=as(null),Qp=null,Tu=null,fb=null;function hb(){fb=Tu=Qp=null}function db(e){var t=Kp.current;ze(Kp),e._currentValue=t}function Iw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ou(e,t){Qp=e,fb=Tu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function wr(e){var t=e._currentValue;if(fb!==e)if(e={context:e,memoizedValue:t,next:null},Tu===null){if(Qp===null)throw Error(V(308));Tu=e,Qp.dependencies={lanes:0,firstContext:e}}else Tu=Tu.next=e;return t}var Gs=null;function pb(e){Gs===null?Gs=[e]:Gs.push(e)}function iO(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,pb(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gi(e,r)}function Gi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Io=!1;function vb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gi(e,n)}return i=r.interleaved,i===null?(t.next=t,pb(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gi(e,n)}function _p(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eb(e,n)}}function MN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yp(e,t,n,r){var i=e.updateQueue;Io=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;a=0,p=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,b=l;switch(m=t,y=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){g=w.call(y,g,m);break e}g=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,m=typeof w=="function"?w.call(y,g,m):w,m==null)break e;g=nt({},g,m);break e;case 2:Io=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=y,c=g):p=p.next=y,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ca|=a,e.lanes=a,e.memoizedState=g}}function FN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var sO=new iD.Component().refs;function Tw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tg={isMounted:function(e){return(e=e._reactInternals)?Ia(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yn(),i=Bo(e),s=Ui(r,i);s.payload=t,n!=null&&(s.callback=n),t=jo(e,s,i),t!==null&&(qr(t,e,i,r),_p(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yn(),i=Bo(e),s=Ui(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jo(e,s,i),t!==null&&(qr(t,e,i,r),_p(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yn(),r=Bo(e),i=Ui(n,r);i.tag=2,t!=null&&(i.callback=t),t=jo(e,i,r),t!==null&&(qr(t,e,r,n),_p(t,e,r))}};function UN(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!mf(n,r)||!mf(i,s):!0}function aO(e,t,n){var r=!1,i=Qo,s=t.contextType;return typeof s=="object"&&s!==null?s=wr(s):(i=Ln(t)?aa:nn.current,r=t.contextTypes,s=(r=r!=null)?Bu(e,i):Qo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function jN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tg.enqueueReplaceState(t,t.state,null)}function Sw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=sO,vb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=wr(s):(s=Ln(t)?aa:nn.current,i.context=Bu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Tw(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&tg.enqueueReplaceState(i,i.state,null),Yp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Cc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===sO&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Hd(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function VN(e){var t=e._init;return t(e._payload)}function uO(e){function t(T,I){if(e){var S=T.deletions;S===null?(T.deletions=[I],T.flags|=16):S.push(I)}}function n(T,I){if(!e)return null;for(;I!==null;)t(T,I),I=I.sibling;return null}function r(T,I){for(T=new Map;I!==null;)I.key!==null?T.set(I.key,I):T.set(I.index,I),I=I.sibling;return T}function i(T,I){return T=$o(T,I),T.index=0,T.sibling=null,T}function s(T,I,S){return T.index=S,e?(S=T.alternate,S!==null?(S=S.index,S<I?(T.flags|=2,I):S):(T.flags|=2,I)):(T.flags|=1048576,I)}function a(T){return e&&T.alternate===null&&(T.flags|=2),T}function l(T,I,S,D){return I===null||I.tag!==6?(I=o_(S,T.mode,D),I.return=T,I):(I=i(I,S),I.return=T,I)}function c(T,I,S,D){var L=S.type;return L===gu?p(T,I,S.props.children,D,S.key):I!==null&&(I.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===bo&&VN(L)===I.type)?(D=i(I,S.props),D.ref=Cc(T,I,S),D.return=T,D):(D=Sp(S.type,S.key,S.props,null,T.mode,D),D.ref=Cc(T,I,S),D.return=T,D)}function h(T,I,S,D){return I===null||I.tag!==4||I.stateNode.containerInfo!==S.containerInfo||I.stateNode.implementation!==S.implementation?(I=s_(S,T.mode,D),I.return=T,I):(I=i(I,S.children||[]),I.return=T,I)}function p(T,I,S,D,L){return I===null||I.tag!==7?(I=Zs(S,T.mode,D,L),I.return=T,I):(I=i(I,S),I.return=T,I)}function g(T,I,S){if(typeof I=="string"&&I!==""||typeof I=="number")return I=o_(""+I,T.mode,S),I.return=T,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ld:return S=Sp(I.type,I.key,I.props,null,T.mode,S),S.ref=Cc(T,null,I),S.return=T,S;case vu:return I=s_(I,T.mode,S),I.return=T,I;case bo:var D=I._init;return g(T,D(I._payload),S)}if(jc(I)||bc(I))return I=Zs(I,T.mode,S,null),I.return=T,I;Hd(T,I)}return null}function m(T,I,S,D){var L=I!==null?I.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:l(T,I,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ld:return S.key===L?c(T,I,S,D):null;case vu:return S.key===L?h(T,I,S,D):null;case bo:return L=S._init,m(T,I,L(S._payload),D)}if(jc(S)||bc(S))return L!==null?null:p(T,I,S,D,null);Hd(T,S)}return null}function y(T,I,S,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(S)||null,l(I,T,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ld:return T=T.get(D.key===null?S:D.key)||null,c(I,T,D,L);case vu:return T=T.get(D.key===null?S:D.key)||null,h(I,T,D,L);case bo:var P=D._init;return y(T,I,S,P(D._payload),L)}if(jc(D)||bc(D))return T=T.get(S)||null,p(I,T,D,L,null);Hd(I,D)}return null}function w(T,I,S,D){for(var L=null,P=null,U=I,H=I=0,W=null;U!==null&&H<S.length;H++){U.index>H?(W=U,U=null):W=U.sibling;var le=m(T,U,S[H],D);if(le===null){U===null&&(U=W);break}e&&U&&le.alternate===null&&t(T,U),I=s(le,I,H),P===null?L=le:P.sibling=le,P=le,U=W}if(H===S.length)return n(T,U),We&&Us(T,H),L;if(U===null){for(;H<S.length;H++)U=g(T,S[H],D),U!==null&&(I=s(U,I,H),P===null?L=U:P.sibling=U,P=U);return We&&Us(T,H),L}for(U=r(T,U);H<S.length;H++)W=y(U,T,H,S[H],D),W!==null&&(e&&W.alternate!==null&&U.delete(W.key===null?H:W.key),I=s(W,I,H),P===null?L=W:P.sibling=W,P=W);return e&&U.forEach(function(R){return t(T,R)}),We&&Us(T,H),L}function b(T,I,S,D){var L=bc(S);if(typeof L!="function")throw Error(V(150));if(S=L.call(S),S==null)throw Error(V(151));for(var P=L=null,U=I,H=I=0,W=null,le=S.next();U!==null&&!le.done;H++,le=S.next()){U.index>H?(W=U,U=null):W=U.sibling;var R=m(T,U,le.value,D);if(R===null){U===null&&(U=W);break}e&&U&&R.alternate===null&&t(T,U),I=s(R,I,H),P===null?L=R:P.sibling=R,P=R,U=W}if(le.done)return n(T,U),We&&Us(T,H),L;if(U===null){for(;!le.done;H++,le=S.next())le=g(T,le.value,D),le!==null&&(I=s(le,I,H),P===null?L=le:P.sibling=le,P=le);return We&&Us(T,H),L}for(U=r(T,U);!le.done;H++,le=S.next())le=y(U,T,H,le.value,D),le!==null&&(e&&le.alternate!==null&&U.delete(le.key===null?H:le.key),I=s(le,I,H),P===null?L=le:P.sibling=le,P=le);return e&&U.forEach(function(ro){return t(T,ro)}),We&&Us(T,H),L}function C(T,I,S,D){if(typeof S=="object"&&S!==null&&S.type===gu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ld:e:{for(var L=S.key,P=I;P!==null;){if(P.key===L){if(L=S.type,L===gu){if(P.tag===7){n(T,P.sibling),I=i(P,S.props.children),I.return=T,T=I;break e}}else if(P.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===bo&&VN(L)===P.type){n(T,P.sibling),I=i(P,S.props),I.ref=Cc(T,P,S),I.return=T,T=I;break e}n(T,P);break}else t(T,P);P=P.sibling}S.type===gu?(I=Zs(S.props.children,T.mode,D,S.key),I.return=T,T=I):(D=Sp(S.type,S.key,S.props,null,T.mode,D),D.ref=Cc(T,I,S),D.return=T,T=D)}return a(T);case vu:e:{for(P=S.key;I!==null;){if(I.key===P)if(I.tag===4&&I.stateNode.containerInfo===S.containerInfo&&I.stateNode.implementation===S.implementation){n(T,I.sibling),I=i(I,S.children||[]),I.return=T,T=I;break e}else{n(T,I);break}else t(T,I);I=I.sibling}I=s_(S,T.mode,D),I.return=T,T=I}return a(T);case bo:return P=S._init,C(T,I,P(S._payload),D)}if(jc(S))return w(T,I,S,D);if(bc(S))return b(T,I,S,D);Hd(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,I!==null&&I.tag===6?(n(T,I.sibling),I=i(I,S),I.return=T,T=I):(n(T,I),I=o_(S,T.mode,D),I.return=T,T=I),a(T)):n(T,I)}return C}var qu=uO(!0),lO=uO(!1),rh={},hi=as(rh),Ef=as(rh),bf=as(rh);function Hs(e){if(e===rh)throw Error(V(174));return e}function gb(e,t){switch(Ve(bf,t),Ve(Ef,e),Ve(hi,rh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rw(t,e)}ze(hi),Ve(hi,t)}function zu(){ze(hi),ze(Ef),ze(bf)}function cO(e){Hs(bf.current);var t=Hs(hi.current),n=rw(t,e.type);t!==n&&(Ve(Ef,e),Ve(hi,n))}function mb(e){Ef.current===e&&(ze(hi),ze(Ef))}var Je=as(0);function Xp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Z0=[];function yb(){for(var e=0;e<Z0.length;e++)Z0[e]._workInProgressVersionPrimary=null;Z0.length=0}var wp=Zi.ReactCurrentDispatcher,e_=Zi.ReactCurrentBatchConfig,la=0,tt=null,wt=null,Pt=null,Jp=!1,Qc=!1,If=0,R$=0;function Gt(){throw Error(V(321))}function _b(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function wb(e,t,n,r,i,s){if(la=s,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wp.current=e===null||e.memoizedState===null?x$:L$,e=n(r,i),Qc){s=0;do{if(Qc=!1,If=0,25<=s)throw Error(V(301));s+=1,Pt=wt=null,t.updateQueue=null,wp.current=M$,e=n(r,i)}while(Qc)}if(wp.current=Zp,t=wt!==null&&wt.next!==null,la=0,Pt=wt=tt=null,Jp=!1,t)throw Error(V(300));return e}function Eb(){var e=If!==0;return If=0,e}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?tt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Er(){if(wt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Pt===null?tt.memoizedState:Pt.next;if(t!==null)Pt=t,wt=e;else{if(e===null)throw Error(V(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Pt===null?tt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Tf(e,t){return typeof t=="function"?t(e):t}function t_(e){var t=Er(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((la&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=g,a=r):c=c.next=g,tt.lanes|=p,ca|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,Hr(r,t.memoizedState)||(Dn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,tt.lanes|=s,ca|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function n_(e){var t=Er(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Hr(s,t.memoizedState)||(Dn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fO(){}function hO(e,t){var n=tt,r=Er(),i=t(),s=!Hr(r.memoizedState,i);if(s&&(r.memoizedState=i,Dn=!0),r=r.queue,bb(vO.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Sf(9,pO.bind(null,n,r,i,t),void 0,null),Lt===null)throw Error(V(349));la&30||dO(n,t,i)}return i}function dO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pO(e,t,n,r){t.value=n,t.getSnapshot=r,gO(t)&&mO(e)}function vO(e,t,n){return n(function(){gO(t)&&mO(e)})}function gO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hr(e,n)}catch{return!0}}function mO(e){var t=Gi(e,1);t!==null&&qr(t,e,1,-1)}function BN(e){var t=oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:e},t.queue=e,e=e.dispatch=O$.bind(null,tt,e),[t.memoizedState,e]}function Sf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yO(){return Er().memoizedState}function Ep(e,t,n,r){var i=oi();tt.flags|=e,i.memoizedState=Sf(1|t,n,void 0,r===void 0?null:r)}function ng(e,t,n,r){var i=Er();r=r===void 0?null:r;var s=void 0;if(wt!==null){var a=wt.memoizedState;if(s=a.destroy,r!==null&&_b(r,a.deps)){i.memoizedState=Sf(t,n,s,r);return}}tt.flags|=e,i.memoizedState=Sf(1|t,n,s,r)}function $N(e,t){return Ep(8390656,8,e,t)}function bb(e,t){return ng(2048,8,e,t)}function _O(e,t){return ng(4,2,e,t)}function wO(e,t){return ng(4,4,e,t)}function EO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bO(e,t,n){return n=n!=null?n.concat([e]):null,ng(4,4,EO.bind(null,t,e),n)}function Ib(){}function IO(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_b(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function TO(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_b(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function SO(e,t,n){return la&21?(Hr(n,t)||(n=ND(),tt.lanes|=n,ca|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=n)}function P$(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=e_.transition;e_.transition={};try{e(!1),t()}finally{Oe=n,e_.transition=r}}function kO(){return Er().memoizedState}function D$(e,t,n){var r=Bo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CO(e))NO(t,n);else if(n=iO(e,t,n,r),n!==null){var i=yn();qr(n,e,r,i),AO(n,t,r)}}function O$(e,t,n){var r=Bo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CO(e))NO(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Hr(l,a)){var c=t.interleaved;c===null?(i.next=i,pb(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=iO(e,t,i,r),n!==null&&(i=yn(),qr(n,e,r,i),AO(n,t,r))}}function CO(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function NO(e,t){Qc=Jp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eb(e,n)}}var Zp={readContext:wr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},x$={readContext:wr,useCallback:function(e,t){return oi().memoizedState=[e,t===void 0?null:t],e},useContext:wr,useEffect:$N,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ep(4194308,4,EO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ep(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ep(4,2,e,t)},useMemo:function(e,t){var n=oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=D$.bind(null,tt,e),[r.memoizedState,e]},useRef:function(e){var t=oi();return e={current:e},t.memoizedState=e},useState:BN,useDebugValue:Ib,useDeferredValue:function(e){return oi().memoizedState=e},useTransition:function(){var e=BN(!1),t=e[0];return e=P$.bind(null,e[1]),oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tt,i=oi();if(We){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Lt===null)throw Error(V(349));la&30||dO(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,$N(vO.bind(null,r,s,e),[e]),r.flags|=2048,Sf(9,pO.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=oi(),t=Lt.identifierPrefix;if(We){var n=xi,r=Oi;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=If++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=R$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L$={readContext:wr,useCallback:IO,useContext:wr,useEffect:bb,useImperativeHandle:bO,useInsertionEffect:_O,useLayoutEffect:wO,useMemo:TO,useReducer:t_,useRef:yO,useState:function(){return t_(Tf)},useDebugValue:Ib,useDeferredValue:function(e){var t=Er();return SO(t,wt.memoizedState,e)},useTransition:function(){var e=t_(Tf)[0],t=Er().memoizedState;return[e,t]},useMutableSource:fO,useSyncExternalStore:hO,useId:kO,unstable_isNewReconciler:!1},M$={readContext:wr,useCallback:IO,useContext:wr,useEffect:bb,useImperativeHandle:bO,useInsertionEffect:_O,useLayoutEffect:wO,useMemo:TO,useReducer:n_,useRef:yO,useState:function(){return n_(Tf)},useDebugValue:Ib,useDeferredValue:function(e){var t=Er();return wt===null?t.memoizedState=e:SO(t,wt.memoizedState,e)},useTransition:function(){var e=n_(Tf)[0],t=Er().memoizedState;return[e,t]},useMutableSource:fO,useSyncExternalStore:hO,useId:kO,unstable_isNewReconciler:!1};function Gu(e,t){try{var n="",r=t;do n+=cB(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function r_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var F$=typeof WeakMap=="function"?WeakMap:Map;function RO(e,t,n){n=Ui(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tv||(tv=!0,Mw=r),kw(e,t)},n}function PO(e,t,n){n=Ui(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){kw(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kw(e,t),typeof r!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function qN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new F$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=X$.bind(null,e,t,n),t.then(e,e))}function zN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function GN(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ui(-1,1),t.tag=2,jo(n,t,1))),n.lanes|=1),e)}var U$=Zi.ReactCurrentOwner,Dn=!1;function cn(e,t,n,r){t.child=e===null?lO(t,null,n,r):qu(t,e.child,n,r)}function HN(e,t,n,r,i){n=n.render;var s=t.ref;return Ou(t,i),r=wb(e,t,n,r,s,i),n=Eb(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(We&&n&&ub(t),t.flags|=1,cn(e,t,r,i),t.child)}function WN(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Pb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,DO(e,t,s,r,i)):(e=Sp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:mf,n(a,r)&&e.ref===t.ref)return Hi(e,t,i)}return t.flags|=1,e=$o(s,r),e.ref=t.ref,e.return=t,t.child=e}function DO(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(mf(s,r)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,Hi(e,t,i)}return Cw(e,t,n,r,i)}function OO(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ku,Wn),Wn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(ku,Wn),Wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(ku,Wn),Wn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ve(ku,Wn),Wn|=r;return cn(e,t,i,n),t.child}function xO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cw(e,t,n,r,i){var s=Ln(n)?aa:nn.current;return s=Bu(t,s),Ou(t,i),n=wb(e,t,n,r,s,i),r=Eb(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(We&&r&&ub(t),t.flags|=1,cn(e,t,n,i),t.child)}function KN(e,t,n,r,i){if(Ln(n)){var s=!0;Gp(t)}else s=!1;if(Ou(t,i),t.stateNode===null)bp(e,t),aO(t,n,r),Sw(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=wr(h):(h=Ln(n)?aa:nn.current,h=Bu(t,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&jN(t,a,r,h),Io=!1;var m=t.memoizedState;a.state=m,Yp(t,r,a,i),c=t.memoizedState,l!==r||m!==c||xn.current||Io?(typeof p=="function"&&(Tw(t,n,p,r),c=t.memoizedState),(l=Io||UN(t,n,l,r,m,c,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,oO(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Mr(t.type,l),a.props=h,g=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=wr(c):(c=Ln(n)?aa:nn.current,c=Bu(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||m!==c)&&jN(t,a,r,c),Io=!1,m=t.memoizedState,a.state=m,Yp(t,r,a,i);var w=t.memoizedState;l!==g||m!==w||xn.current||Io?(typeof y=="function"&&(Tw(t,n,y,r),w=t.memoizedState),(h=Io||UN(t,n,h,r,m,w,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Nw(e,t,n,r,s,i)}function Nw(e,t,n,r,i,s){xO(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&ON(t,n,!1),Hi(e,t,s);r=t.stateNode,U$.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=qu(t,e.child,null,s),t.child=qu(t,null,l,s)):cn(e,t,l,s),t.memoizedState=r.state,i&&ON(t,n,!0),t.child}function LO(e){var t=e.stateNode;t.pendingContext?DN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DN(e,t.context,!1),gb(e,t.containerInfo)}function QN(e,t,n,r,i){return $u(),cb(i),t.flags|=256,cn(e,t,n,r),t.child}var Aw={dehydrated:null,treeContext:null,retryLane:0};function Rw(e){return{baseLanes:e,cachePool:null,transitions:null}}function MO(e,t,n){var r=t.pendingProps,i=Je.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Je,i&1),e===null)return bw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=og(a,r,0,null),e=Zs(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rw(n),t.memoizedState=Aw,e):Tb(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return j$(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=$o(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=$o(l,s):(s=Zs(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Rw(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Aw,r}return s=e.child,e=s.sibling,r=$o(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tb(e,t){return t=og({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wd(e,t,n,r){return r!==null&&cb(r),qu(t,e.child,null,n),e=Tb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function j$(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=r_(Error(V(422))),Wd(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=og({mode:"visible",children:r.children},i,0,null),s=Zs(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&qu(t,e.child,null,a),t.child.memoizedState=Rw(a),t.memoizedState=Aw,s);if(!(t.mode&1))return Wd(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(V(419)),r=r_(s,r,void 0),Wd(e,t,a,r)}if(l=(a&e.childLanes)!==0,Dn||l){if(r=Lt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gi(e,i),qr(r,e,i,-1))}return Rb(),r=r_(Error(V(421))),Wd(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=J$.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Xn=Uo(i.nextSibling),er=t,We=!0,jr=null,e!==null&&(hr[dr++]=Oi,hr[dr++]=xi,hr[dr++]=ua,Oi=e.id,xi=e.overflow,ua=t),t=Tb(t,r.children),t.flags|=4096,t)}function YN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Iw(e.return,t,n)}function i_(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function FO(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(cn(e,t,r.children,n),r=Je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&YN(e,n,t);else if(e.tag===19)YN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(Je,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xp(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),i_(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xp(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}i_(t,!0,n,null,s);break;case"together":i_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=$o(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$o(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function V$(e,t,n){switch(t.tag){case 3:LO(t),$u();break;case 5:cO(t);break;case 1:Ln(t.type)&&Gp(t);break;case 4:gb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ve(Kp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Je,Je.current&1),t.flags|=128,null):n&t.child.childLanes?MO(e,t,n):(Ve(Je,Je.current&1),e=Hi(e,t,n),e!==null?e.sibling:null);Ve(Je,Je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return FO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Je,Je.current),r)break;return null;case 22:case 23:return t.lanes=0,OO(e,t,n)}return Hi(e,t,n)}var UO,Pw,jO,VO;UO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pw=function(){};jO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Hs(hi.current);var s=null;switch(n){case"input":i=Z_(e,i),r=Z_(e,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=nw(e,i),r=nw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qp)}iw(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(cf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(cf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&$e("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};VO=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nc(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function B$(e,t,n){var r=t.pendingProps;switch(lb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return Ln(t.type)&&zp(),Ht(t),null;case 3:return r=t.stateNode,zu(),ze(xn),ze(nn),yb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jr!==null&&(jw(jr),jr=null))),Pw(e,t),Ht(t),null;case 5:mb(t);var i=Hs(bf.current);if(n=t.type,e!==null&&t.stateNode!=null)jO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Ht(t),null}if(e=Hs(hi.current),Gd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ai]=t,r[wf]=s,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<Bc.length;i++)$e(Bc[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":oN(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":aN(r,s),$e("invalid",r)}iw(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&zd(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&zd(r.textContent,l,e),i=["children",""+l]):cf.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&$e("scroll",r)}switch(n){case"input":Md(r),sN(r,s,!0);break;case"textarea":Md(r),uN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ai]=t,e[wf]=r,UO(e,t,!1,!1),t.stateNode=e;e:{switch(a=ow(n,r),n){case"dialog":$e("cancel",e),$e("close",e),i=r;break;case"iframe":case"object":case"embed":$e("load",e),i=r;break;case"video":case"audio":for(i=0;i<Bc.length;i++)$e(Bc[i],e);i=r;break;case"source":$e("error",e),i=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),i=r;break;case"details":$e("toggle",e),i=r;break;case"input":oN(e,r),i=Z_(e,r),$e("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),$e("invalid",e);break;case"textarea":aN(e,r),i=nw(e,r),$e("invalid",e);break;default:i=r}iw(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?gD(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pD(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ff(e,c):typeof c=="number"&&ff(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&$e("scroll",e):c!=null&&KE(e,s,c,a))}switch(n){case"input":Md(e),sN(e,r,!1);break;case"textarea":Md(e),uN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ko(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Au(e,!!r.multiple,s,!1):r.defaultValue!=null&&Au(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)VO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Hs(bf.current),Hs(hi.current),Gd(t)){if(r=t.stateNode,n=t.memoizedProps,r[ai]=t,(s=r.nodeValue!==n)&&(e=er,e!==null))switch(e.tag){case 3:zd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ai]=t,t.stateNode=r}return Ht(t),null;case 13:if(ze(Je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Xn!==null&&t.mode&1&&!(t.flags&128))rO(),$u(),t.flags|=98560,s=!1;else if(s=Gd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[ai]=t}else $u(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),s=!1}else jr!==null&&(jw(jr),jr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?bt===0&&(bt=3):Rb())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return zu(),Pw(e,t),e===null&&yf(t.stateNode.containerInfo),Ht(t),null;case 10:return db(t.type._context),Ht(t),null;case 17:return Ln(t.type)&&zp(),Ht(t),null;case 19:if(ze(Je),s=t.memoizedState,s===null)return Ht(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Nc(s,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Xp(e),a!==null){for(t.flags|=128,Nc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(Je,Je.current&1|2),t.child}e=e.sibling}s.tail!==null&&ct()>Hu&&(t.flags|=128,r=!0,Nc(s,!1),t.lanes=4194304)}else{if(!r)if(e=Xp(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!We)return Ht(t),null}else 2*ct()-s.renderingStartTime>Hu&&n!==1073741824&&(t.flags|=128,r=!0,Nc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ct(),t.sibling=null,n=Je.current,Ve(Je,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return Ab(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function $$(e,t){switch(lb(t),t.tag){case 1:return Ln(t.type)&&zp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zu(),ze(xn),ze(nn),yb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mb(t),null;case 13:if(ze(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));$u()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Je),null;case 4:return zu(),null;case 10:return db(t.type._context),null;case 22:case 23:return Ab(),null;case 24:return null;default:return null}}var Kd=!1,Kt=!1,q$=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Su(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function Dw(e,t,n){try{n()}catch(r){ot(e,t,r)}}var XN=!1;function z$(e,t){if(vw=Vp,e=zD(),ab(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,g=e,m=null;t:for(;;){for(var y;g!==n||i!==0&&g.nodeType!==3||(l=a+i),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(y=g.firstChild)!==null;)m=g,g=y;for(;;){if(g===e)break t;if(m===n&&++h===i&&(l=a),m===s&&++p===r&&(c=a),(y=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gw={focusedElem:e,selectionRange:n},Vp=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,C=w.memoizedState,T=t.stateNode,I=T.getSnapshotBeforeUpdate(t.elementType===t.type?b:Mr(t.type,b),C);T.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(D){ot(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return w=XN,XN=!1,w}function Yc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dw(t,n,s)}i=i.next}while(i!==r)}}function rg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ow(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function BO(e){var t=e.alternate;t!==null&&(e.alternate=null,BO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ai],delete t[wf],delete t[_w],delete t[k$],delete t[C$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $O(e){return e.tag===5||e.tag===3||e.tag===4}function JN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$O(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qp));else if(r!==4&&(e=e.child,e!==null))for(xw(e,t,n),e=e.sibling;e!==null;)xw(e,t,n),e=e.sibling}function Lw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lw(e,t,n),e=e.sibling;e!==null;)Lw(e,t,n),e=e.sibling}var Ut=null,Ur=!1;function vo(e,t,n){for(n=n.child;n!==null;)qO(e,t,n),n=n.sibling}function qO(e,t,n){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(Qv,n)}catch{}switch(n.tag){case 5:Kt||Su(n,t);case 6:var r=Ut,i=Ur;Ut=null,vo(e,t,n),Ut=r,Ur=i,Ut!==null&&(Ur?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(Ur?(e=Ut,n=n.stateNode,e.nodeType===8?X0(e.parentNode,n):e.nodeType===1&&X0(e,n),vf(e)):X0(Ut,n.stateNode));break;case 4:r=Ut,i=Ur,Ut=n.stateNode.containerInfo,Ur=!0,vo(e,t,n),Ut=r,Ur=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Dw(n,t,a),i=i.next}while(i!==r)}vo(e,t,n);break;case 1:if(!Kt&&(Su(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ot(n,t,l)}vo(e,t,n);break;case 21:vo(e,t,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,vo(e,t,n),Kt=r):vo(e,t,n);break;default:vo(e,t,n)}}function ZN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new q$),t.forEach(function(r){var i=Z$.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Or(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,Ur=!1;break e;case 3:Ut=l.stateNode.containerInfo,Ur=!0;break e;case 4:Ut=l.stateNode.containerInfo,Ur=!0;break e}l=l.return}if(Ut===null)throw Error(V(160));qO(s,a,i),Ut=null,Ur=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){ot(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zO(t,e),t=t.sibling}function zO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Or(t,e),ii(e),r&4){try{Yc(3,e,e.return),rg(3,e)}catch(b){ot(e,e.return,b)}try{Yc(5,e,e.return)}catch(b){ot(e,e.return,b)}}break;case 1:Or(t,e),ii(e),r&512&&n!==null&&Su(n,n.return);break;case 5:if(Or(t,e),ii(e),r&512&&n!==null&&Su(n,n.return),e.flags&32){var i=e.stateNode;try{ff(i,"")}catch(b){ot(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&fD(i,s),ow(l,a);var h=ow(l,s);for(a=0;a<c.length;a+=2){var p=c[a],g=c[a+1];p==="style"?gD(i,g):p==="dangerouslySetInnerHTML"?pD(i,g):p==="children"?ff(i,g):KE(i,p,g,h)}switch(l){case"input":ew(i,s);break;case"textarea":hD(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Au(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Au(i,!!s.multiple,s.defaultValue,!0):Au(i,!!s.multiple,s.multiple?[]:"",!1))}i[wf]=s}catch(b){ot(e,e.return,b)}}break;case 6:if(Or(t,e),ii(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){ot(e,e.return,b)}}break;case 3:if(Or(t,e),ii(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vf(t.containerInfo)}catch(b){ot(e,e.return,b)}break;case 4:Or(t,e),ii(e);break;case 13:Or(t,e),ii(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cb=ct())),r&4&&ZN(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(h=Kt)||p,Or(t,e),Kt=h):Or(t,e),ii(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(Q=e,p=e.child;p!==null;){for(g=Q=p;Q!==null;){switch(m=Q,y=m.child,m.tag){case 0:case 11:case 14:case 15:Yc(4,m,m.return);break;case 1:Su(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){ot(r,n,b)}}break;case 5:Su(m,m.return);break;case 22:if(m.memoizedState!==null){tA(g);continue}}y!==null?(y.return=m,Q=y):tA(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vD("display",a))}catch(b){ot(e,e.return,b)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(b){ot(e,e.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Or(t,e),ii(e),r&4&&ZN(e);break;case 21:break;default:Or(t,e),ii(e)}}function ii(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($O(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ff(i,""),r.flags&=-33);var s=JN(e);Lw(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=JN(e);xw(e,l,a);break;default:throw Error(V(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G$(e,t,n){Q=e,GO(e)}function GO(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Kd;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Kt;l=Kd;var h=Kt;if(Kd=a,(Kt=c)&&!h)for(Q=i;Q!==null;)a=Q,c=a.child,a.tag===22&&a.memoizedState!==null?nA(i):c!==null?(c.return=a,Q=c):nA(i);for(;s!==null;)Q=s,GO(s),s=s.sibling;Q=i,Kd=l,Kt=h}eA(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):eA(e)}}function eA(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||rg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&FN(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}FN(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&vf(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Kt||t.flags&512&&Ow(t)}catch(m){ot(t,t.return,m)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function tA(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function nA(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rg(4,t)}catch(c){ot(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ot(t,i,c)}}var s=t.return;try{Ow(t)}catch(c){ot(t,s,c)}break;case 5:var a=t.return;try{Ow(t)}catch(c){ot(t,a,c)}}}catch(c){ot(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var H$=Math.ceil,ev=Zi.ReactCurrentDispatcher,Sb=Zi.ReactCurrentOwner,yr=Zi.ReactCurrentBatchConfig,Te=0,Lt=null,vt=null,$t=0,Wn=0,ku=as(0),bt=0,kf=null,ca=0,ig=0,kb=0,Xc=null,Rn=null,Cb=0,Hu=1/0,Ri=null,tv=!1,Mw=null,Vo=null,Qd=!1,Do=null,nv=0,Jc=0,Fw=null,Ip=-1,Tp=0;function yn(){return Te&6?ct():Ip!==-1?Ip:Ip=ct()}function Bo(e){return e.mode&1?Te&2&&$t!==0?$t&-$t:A$.transition!==null?(Tp===0&&(Tp=ND()),Tp):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:LD(e.type)),e):1}function qr(e,t,n,r){if(50<Jc)throw Jc=0,Fw=null,Error(V(185));eh(e,n,r),(!(Te&2)||e!==Lt)&&(e===Lt&&(!(Te&2)&&(ig|=n),bt===4&&ko(e,$t)),Mn(e,r),n===1&&Te===0&&!(t.mode&1)&&(Hu=ct()+500,eg&&us()))}function Mn(e,t){var n=e.callbackNode;AB(e,t);var r=jp(e,e===Lt?$t:0);if(r===0)n!==null&&fN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fN(n),t===1)e.tag===0?N$(rA.bind(null,e)):eO(rA.bind(null,e)),T$(function(){!(Te&6)&&us()}),n=null;else{switch(AD(r)){case 1:n=ZE;break;case 4:n=kD;break;case 16:n=Up;break;case 536870912:n=CD;break;default:n=Up}n=ZO(n,HO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function HO(e,t){if(Ip=-1,Tp=0,Te&6)throw Error(V(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=jp(e,e===Lt?$t:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rv(e,r);else{t=r;var i=Te;Te|=2;var s=KO();(Lt!==e||$t!==t)&&(Ri=null,Hu=ct()+500,Js(e,t));do try{Q$();break}catch(l){WO(e,l)}while(1);hb(),ev.current=s,Te=i,vt!==null?t=0:(Lt=null,$t=0,t=bt)}if(t!==0){if(t===2&&(i=cw(e),i!==0&&(r=i,t=Uw(e,i))),t===1)throw n=kf,Js(e,0),ko(e,r),Mn(e,ct()),n;if(t===6)ko(e,r);else{if(i=e.current.alternate,!(r&30)&&!W$(i)&&(t=rv(e,r),t===2&&(s=cw(e),s!==0&&(r=s,t=Uw(e,s))),t===1))throw n=kf,Js(e,0),ko(e,r),Mn(e,ct()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:js(e,Rn,Ri);break;case 3:if(ko(e,r),(r&130023424)===r&&(t=Cb+500-ct(),10<t)){if(jp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yw(js.bind(null,e,Rn,Ri),t);break}js(e,Rn,Ri);break;case 4:if(ko(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-$r(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H$(r/1960))-r,10<r){e.timeoutHandle=yw(js.bind(null,e,Rn,Ri),r);break}js(e,Rn,Ri);break;case 5:js(e,Rn,Ri);break;default:throw Error(V(329))}}}return Mn(e,ct()),e.callbackNode===n?HO.bind(null,e):null}function Uw(e,t){var n=Xc;return e.current.memoizedState.isDehydrated&&(Js(e,t).flags|=256),e=rv(e,t),e!==2&&(t=Rn,Rn=n,t!==null&&jw(t)),e}function jw(e){Rn===null?Rn=e:Rn.push.apply(Rn,e)}function W$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ko(e,t){for(t&=~kb,t&=~ig,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$r(t),r=1<<n;e[n]=-1,t&=~r}}function rA(e){if(Te&6)throw Error(V(327));xu();var t=jp(e,0);if(!(t&1))return Mn(e,ct()),null;var n=rv(e,t);if(e.tag!==0&&n===2){var r=cw(e);r!==0&&(t=r,n=Uw(e,r))}if(n===1)throw n=kf,Js(e,0),ko(e,t),Mn(e,ct()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,Rn,Ri),Mn(e,ct()),null}function Nb(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(Hu=ct()+500,eg&&us())}}function fa(e){Do!==null&&Do.tag===0&&!(Te&6)&&xu();var t=Te;Te|=1;var n=yr.transition,r=Oe;try{if(yr.transition=null,Oe=1,e)return e()}finally{Oe=r,yr.transition=n,Te=t,!(Te&6)&&us()}}function Ab(){Wn=ku.current,ze(ku)}function Js(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,I$(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(lb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zp();break;case 3:zu(),ze(xn),ze(nn),yb();break;case 5:mb(r);break;case 4:zu();break;case 13:ze(Je);break;case 19:ze(Je);break;case 10:db(r.type._context);break;case 22:case 23:Ab()}n=n.return}if(Lt=e,vt=e=$o(e.current,null),$t=Wn=t,bt=0,kf=null,kb=ig=ca=0,Rn=Xc=null,Gs!==null){for(t=0;t<Gs.length;t++)if(n=Gs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Gs=null}return e}function WO(e,t){do{var n=vt;try{if(hb(),wp.current=Zp,Jp){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jp=!1}if(la=0,Pt=wt=tt=null,Qc=!1,If=0,Sb.current=null,n===null||n.return===null){bt=1,kf=t,vt=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=$t,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=zN(a);if(y!==null){y.flags&=-257,GN(y,a,l,s,t),y.mode&1&&qN(s,h,t),t=y,c=h;var w=t.updateQueue;if(w===null){var b=new Set;b.add(c),t.updateQueue=b}else w.add(c);break e}else{if(!(t&1)){qN(s,h,t),Rb();break e}c=Error(V(426))}}else if(We&&l.mode&1){var C=zN(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),GN(C,a,l,s,t),cb(Gu(c,l));break e}}s=c=Gu(c,l),bt!==4&&(bt=2),Xc===null?Xc=[s]:Xc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var T=RO(s,c,t);MN(s,T);break e;case 1:l=c;var I=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Vo===null||!Vo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var D=PO(s,l,t);MN(s,D);break e}}s=s.return}while(s!==null)}YO(n)}catch(L){t=L,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(1)}function KO(){var e=ev.current;return ev.current=Zp,e===null?Zp:e}function Rb(){(bt===0||bt===3||bt===2)&&(bt=4),Lt===null||!(ca&268435455)&&!(ig&268435455)||ko(Lt,$t)}function rv(e,t){var n=Te;Te|=2;var r=KO();(Lt!==e||$t!==t)&&(Ri=null,Js(e,t));do try{K$();break}catch(i){WO(e,i)}while(1);if(hb(),Te=n,ev.current=r,vt!==null)throw Error(V(261));return Lt=null,$t=0,bt}function K$(){for(;vt!==null;)QO(vt)}function Q$(){for(;vt!==null&&!wB();)QO(vt)}function QO(e){var t=JO(e.alternate,e,Wn);e.memoizedProps=e.pendingProps,t===null?YO(e):vt=t,Sb.current=null}function YO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$$(n,t),n!==null){n.flags&=32767,vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,vt=null;return}}else if(n=B$(n,t,Wn),n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);bt===0&&(bt=5)}function js(e,t,n){var r=Oe,i=yr.transition;try{yr.transition=null,Oe=1,Y$(e,t,n,r)}finally{yr.transition=i,Oe=r}return null}function Y$(e,t,n,r){do xu();while(Do!==null);if(Te&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(RB(e,s),e===Lt&&(vt=Lt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qd||(Qd=!0,ZO(Up,function(){return xu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yr.transition,yr.transition=null;var a=Oe;Oe=1;var l=Te;Te|=4,Sb.current=null,z$(e,n),zO(n,e),g$(gw),Vp=!!vw,gw=vw=null,e.current=n,G$(n),EB(),Te=l,Oe=a,yr.transition=s}else e.current=n;if(Qd&&(Qd=!1,Do=e,nv=i),s=e.pendingLanes,s===0&&(Vo=null),TB(n.stateNode),Mn(e,ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tv)throw tv=!1,e=Mw,Mw=null,e;return nv&1&&e.tag!==0&&xu(),s=e.pendingLanes,s&1?e===Fw?Jc++:(Jc=0,Fw=e):Jc=0,us(),null}function xu(){if(Do!==null){var e=AD(nv),t=yr.transition,n=Oe;try{if(yr.transition=null,Oe=16>e?16:e,Do===null)var r=!1;else{if(e=Do,Do=null,nv=0,Te&6)throw Error(V(331));var i=Te;for(Te|=4,Q=e.current;Q!==null;){var s=Q,a=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Q=h;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:Yc(8,p,s)}var g=p.child;if(g!==null)g.return=p,Q=g;else for(;Q!==null;){p=Q;var m=p.sibling,y=p.return;if(BO(p),p===h){Q=null;break}if(m!==null){m.return=y,Q=m;break}Q=y}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}Q=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Q=a;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yc(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Q=T;break e}Q=s.return}}var I=e.current;for(Q=I;Q!==null;){a=Q;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Q=S;else e:for(a=I;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rg(9,l)}}catch(L){ot(l,l.return,L)}if(l===a){Q=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,Q=D;break e}Q=l.return}}if(Te=i,us(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(Qv,e)}catch{}r=!0}return r}finally{Oe=n,yr.transition=t}}return!1}function iA(e,t,n){t=Gu(n,t),t=RO(e,t,1),e=jo(e,t,1),t=yn(),e!==null&&(eh(e,1,t),Mn(e,t))}function ot(e,t,n){if(e.tag===3)iA(e,e,n);else for(;t!==null;){if(t.tag===3){iA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vo===null||!Vo.has(r))){e=Gu(n,e),e=PO(t,e,1),t=jo(t,e,1),e=yn(),t!==null&&(eh(t,1,e),Mn(t,e));break}}t=t.return}}function X$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yn(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&($t&n)===n&&(bt===4||bt===3&&($t&130023424)===$t&&500>ct()-Cb?Js(e,0):kb|=n),Mn(e,t)}function XO(e,t){t===0&&(e.mode&1?(t=jd,jd<<=1,!(jd&130023424)&&(jd=4194304)):t=1);var n=yn();e=Gi(e,t),e!==null&&(eh(e,t,n),Mn(e,n))}function J$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),XO(e,n)}function Z$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),XO(e,n)}var JO;JO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)Dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dn=!1,V$(e,t,n);Dn=!!(e.flags&131072)}else Dn=!1,We&&t.flags&1048576&&tO(t,Wp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bp(e,t),e=t.pendingProps;var i=Bu(t,nn.current);Ou(t,n),i=wb(null,t,r,e,i,n);var s=Eb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(r)?(s=!0,Gp(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vb(t),i.updater=tg,t.stateNode=i,i._reactInternals=t,Sw(t,r,e,n),t=Nw(null,t,r,!0,s,n)):(t.tag=0,We&&s&&ub(t),cn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tq(r),e=Mr(r,e),i){case 0:t=Cw(null,t,r,e,n);break e;case 1:t=KN(null,t,r,e,n);break e;case 11:t=HN(null,t,r,e,n);break e;case 14:t=WN(null,t,r,Mr(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),Cw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),KN(e,t,r,i,n);case 3:e:{if(LO(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,oO(e,t),Yp(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Gu(Error(V(423)),t),t=QN(e,t,r,n,i);break e}else if(r!==i){i=Gu(Error(V(424)),t),t=QN(e,t,r,n,i);break e}else for(Xn=Uo(t.stateNode.containerInfo.firstChild),er=t,We=!0,jr=null,n=lO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($u(),r===i){t=Hi(e,t,n);break e}cn(e,t,r,n)}t=t.child}return t;case 5:return cO(t),e===null&&bw(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,mw(r,i)?a=null:s!==null&&mw(r,s)&&(t.flags|=32),xO(e,t),cn(e,t,a,n),t.child;case 6:return e===null&&bw(t),null;case 13:return MO(e,t,n);case 4:return gb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qu(t,null,r,n):cn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),HN(e,t,r,i,n);case 7:return cn(e,t,t.pendingProps,n),t.child;case 8:return cn(e,t,t.pendingProps.children,n),t.child;case 12:return cn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ve(Kp,r._currentValue),r._currentValue=a,s!==null)if(Hr(s.value,a)){if(s.children===i.children&&!xn.current){t=Hi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ui(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Iw(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Iw(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}cn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ou(t,n),i=wr(i),r=r(i),t.flags|=1,cn(e,t,r,n),t.child;case 14:return r=t.type,i=Mr(r,t.pendingProps),i=Mr(r.type,i),WN(e,t,r,i,n);case 15:return DO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),bp(e,t),t.tag=1,Ln(r)?(e=!0,Gp(t)):e=!1,Ou(t,n),aO(t,r,i),Sw(t,r,i,n),Nw(null,t,r,!0,e,n);case 19:return FO(e,t,n);case 22:return OO(e,t,n)}throw Error(V(156,t.tag))};function ZO(e,t){return SD(e,t)}function eq(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,n,r){return new eq(e,t,n,r)}function Pb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tq(e){if(typeof e=="function")return Pb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===YE)return 11;if(e===XE)return 14}return 2}function $o(e,t){var n=e.alternate;return n===null?(n=pr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sp(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Pb(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case gu:return Zs(n.children,i,s,t);case QE:a=8,i|=8;break;case Q_:return e=pr(12,n,t,i|2),e.elementType=Q_,e.lanes=s,e;case Y_:return e=pr(13,n,t,i),e.elementType=Y_,e.lanes=s,e;case X_:return e=pr(19,n,t,i),e.elementType=X_,e.lanes=s,e;case uD:return og(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sD:a=10;break e;case aD:a=9;break e;case YE:a=11;break e;case XE:a=14;break e;case bo:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=pr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Zs(e,t,n,r){return e=pr(7,e,r,t),e.lanes=n,e}function og(e,t,n,r){return e=pr(22,e,r,t),e.elementType=uD,e.lanes=n,e.stateNode={isHidden:!1},e}function o_(e,t,n){return e=pr(6,e,null,t),e.lanes=n,e}function s_(e,t,n){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nq(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V0(0),this.expirationTimes=V0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Db(e,t,n,r,i,s,a,l,c){return e=new nq(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=pr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vb(s),e}function rq(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ex(e){if(!e)return Qo;e=e._reactInternals;e:{if(Ia(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Ln(n))return ZD(e,n,t)}return t}function tx(e,t,n,r,i,s,a,l,c){return e=Db(n,r,!0,e,i,s,a,l,c),e.context=ex(null),n=e.current,r=yn(),i=Bo(n),s=Ui(r,i),s.callback=t??null,jo(n,s,i),e.current.lanes=i,eh(e,i,r),Mn(e,r),e}function sg(e,t,n,r){var i=t.current,s=yn(),a=Bo(i);return n=ex(n),t.context===null?t.context=n:t.pendingContext=n,t=Ui(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jo(i,t,a),e!==null&&(qr(e,i,a,s),_p(e,i,a)),a}function iv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ob(e,t){oA(e,t),(e=e.alternate)&&oA(e,t)}function iq(){return null}var nx=typeof reportError=="function"?reportError:function(e){console.error(e)};function xb(e){this._internalRoot=e}ag.prototype.render=xb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));sg(e,t,null,null)};ag.prototype.unmount=xb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fa(function(){sg(null,e,null,null)}),t[zi]=null}};function ag(e){this._internalRoot=e}ag.prototype.unstable_scheduleHydration=function(e){if(e){var t=DD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<So.length&&t!==0&&t<So[n].priority;n++);So.splice(n,0,e),n===0&&xD(e)}};function Lb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sA(){}function oq(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=iv(a);s.call(h)}}var a=tx(t,r,e,0,null,!1,!1,"",sA);return e._reactRootContainer=a,e[zi]=a.current,yf(e.nodeType===8?e.parentNode:e),fa(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=iv(c);l.call(h)}}var c=Db(e,0,!1,null,null,!1,!1,"",sA);return e._reactRootContainer=c,e[zi]=c.current,yf(e.nodeType===8?e.parentNode:e),fa(function(){sg(t,c,n,r)}),c}function lg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=iv(a);l.call(c)}}sg(t,a,e,i)}else a=oq(n,t,e,i,r);return iv(a)}RD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vc(t.pendingLanes);n!==0&&(eb(t,n|1),Mn(t,ct()),!(Te&6)&&(Hu=ct()+500,us()))}break;case 13:fa(function(){var r=Gi(e,1);if(r!==null){var i=yn();qr(r,e,1,i)}}),Ob(e,1)}};tb=function(e){if(e.tag===13){var t=Gi(e,134217728);if(t!==null){var n=yn();qr(t,e,134217728,n)}Ob(e,134217728)}};PD=function(e){if(e.tag===13){var t=Bo(e),n=Gi(e,t);if(n!==null){var r=yn();qr(n,e,t,r)}Ob(e,t)}};DD=function(){return Oe};OD=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};aw=function(e,t,n){switch(t){case"input":if(ew(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zv(r);if(!i)throw Error(V(90));cD(r),ew(r,i)}}}break;case"textarea":hD(e,n);break;case"select":t=n.value,t!=null&&Au(e,!!n.multiple,t,!1)}};_D=Nb;wD=fa;var sq={usingClientEntryPoint:!1,Events:[nh,wu,Zv,mD,yD,Nb]},Ac={findFiberByHostInstance:zs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aq={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ID(e),e===null?null:e.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||iq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Qv=Yd.inject(aq),fi=Yd}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sq;or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lb(t))throw Error(V(200));return rq(e,t,null,n)};or.createRoot=function(e,t){if(!Lb(e))throw Error(V(299));var n=!1,r="",i=nx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Db(e,1,!1,null,null,n,!1,r,i),e[zi]=t.current,yf(e.nodeType===8?e.parentNode:e),new xb(t)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=ID(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return fa(e)};or.hydrate=function(e,t,n){if(!ug(t))throw Error(V(200));return lg(null,e,t,!0,n)};or.hydrateRoot=function(e,t,n){if(!Lb(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=nx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=tx(t,null,e,1,n??null,i,!1,s,a),e[zi]=t.current,yf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ag(t)};or.render=function(e,t,n){if(!ug(t))throw Error(V(200));return lg(null,e,t,!1,n)};or.unmountComponentAtNode=function(e){if(!ug(e))throw Error(V(40));return e._reactRootContainer?(fa(function(){lg(null,null,e,!1,function(){e._reactRootContainer=null,e[zi]=null})}),!0):!1};or.unstable_batchedUpdates=Nb;or.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ug(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return lg(e,t,n,!1,r)};or.version="18.2.0-next-9e3b772b8-20220608";function rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rx)}catch(e){console.error(e)}}rx(),tD.exports=or;var uq=tD.exports,aA=uq;W_.createRoot=aA.createRoot,W_.hydrateRoot=aA.hydrateRoot;const lq="_headercontainer_x9lu7_1",cq="_menu_x9lu7_21",fq="_filter_x9lu7_43",uA={headercontainer:lq,menu:cq,filter:fq},hq="_buttonstyle_iympr_1",lA={buttonstyle:hq},Li=e=>e.link?G.createElement("a",{href:e.link},G.createElement("button",{className:lA.buttonstyle},e.children)):G.createElement("button",{onClick:e.func,className:lA.buttonstyle,value:e.value},e.children),dq="_nums_5ukm2_1",pq="_text_5ukm2_5",cA={nums:dq,text:pq},ix=e=>{if(e.type==="number")return G.createElement("input",{type:"number",className:cA.nums,value:e.value,onChange:e.onChange});if(e.type==="text")return G.createElement("input",{type:"text",className:cA.text,value:e.value,onChange:e.onChange,required:!0})},vq="_form_edwji_1",gq="_buttons_edwji_15",mq="_non_edwji_24",yq="_low_edwji_28",_q="_med_edwji_32",wq="_hig_edwji_36",Eq="_selected_edwji_40",Hn={form:vq,buttons:gq,non:mq,low:yq,med:_q,hig:wq,selected:Eq};var Vw=function(e,t){return Vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vw(e,t)};function q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Be=function(){return Be=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Be.apply(this,arguments)};function A(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(g){a(g)}}function c(p){try{h(r.throw(p))}catch(g){a(g)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function _n(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ve(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ox={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B=function(e,t){if(!e)throw wl(t)},wl=function(e){return new Error("Firebase Database ("+ox.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sx=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},bq=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,g=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[g],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sx(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):bq(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,g=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),g!==64){var w=h<<6&192|g;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Iq=function(e){var t=sx(e);return Mb.encodeByteArray(t,!0)},fA=function(e){try{return Mb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e){return Cf(void 0,e)}function Cf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!Tq(r)||(e[r]=Cf(e[r],t[r]));return e}function Tq(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ha())}function Sq(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kq(){return typeof self=="object"&&self.self===self}function Ub(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cq(){return ha().indexOf("Electron/")>=0}function Nq(){var e=ha();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Aq(){return ha().indexOf("MSAppHost/")>=0}function lx(){return ox.NODE_ADMIN===!0}function jb(){return"indexedDB"in self&&indexedDB!=null}function Vb(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function cx(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rq="FirebaseError",El=function(e){q(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=Rq,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,ls.prototype.create),s}return t}(Error),ls=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?Pq(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new El(s,c,i);return h},e}();function Pq(e,t){return e.replace(Dq,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var Dq=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(e){return JSON.parse(e)}function Et(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fx=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Nf(fA(s[0])||""),n=Nf(fA(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Oq=function(e){var t=fx(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xq=function(e){var t=fx(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Bw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ov(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mq=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,m,i=0;i<80;i++){i<40?i<20?(g=h^l&(c^h),m=1518500249):(g=l^c^h,m=1859775393):i<60?(g=l&c|h&(l|c),m=2400959708):(g=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+g+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function Fq(e,t){var n=new Uq(e,t);return n.subscribe.bind(n)}var Uq=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jq(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=a_),s.error===void 0&&(s.error=a_),s.complete===void 0&&(s.complete=a_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function jq(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function a_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function br(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument ",i}function Dt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(br(e,t,r)+"must be a valid function.")}function hA(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(br(e,t,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vq=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,B(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},cg=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bq=1e3,$q=2,qq=4*60*60*1e3,zq=.5;function $w(e,t,n){t===void 0&&(t=Bq),n===void 0&&(n=$q);var r=t*Math.pow(n,e),i=Math.round(zq*r*(Math.random()-.5)*2);return Math.min(qq,r+i)}var Bn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hx=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=Eo);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Pn;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=Be({identifier:Eo,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService({instanceIdentifier:s});if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(l){if(i)return null;throw l}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,Hq(t))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}try{for(var i=_n(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Fn(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Eo),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ve(ve([],Fn(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Fn(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Eo),this.instances.has(t)},e.prototype.initialize=function(t){t===void 0&&(t={});var n=t.instanceIdentifier,r=n===void 0?Eo:n,i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(r);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:a,options:s})},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);return!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Gq(n),options:i}),this.instances.set(n,s)),s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Eo:t},e}();function Gq(e){return e===Eo?void 0:e}function Hq(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dx=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new hx(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Lr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fs,Bb=[],pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));var px={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Wq=pe.INFO,Kq=(Fs={},Fs[pe.DEBUG]="log",Fs[pe.VERBOSE]="log",Fs[pe.INFO]="info",Fs[pe.WARN]="warn",Fs[pe.ERROR]="error",Fs),Qq=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=Kq[t];if(s)console[s].apply(console,Lr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},bl=function(){function e(t){this.name=t,this._logLevel=Wq,this._logHandler=Qq,this._userLogHandler=null,Bb.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in pe))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?px[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,pe.DEBUG],t)),this._logHandler.apply(this,Lr([this,pe.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,pe.VERBOSE],t)),this._logHandler.apply(this,Lr([this,pe.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,pe.INFO],t)),this._logHandler.apply(this,Lr([this,pe.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,pe.WARN],t)),this._logHandler.apply(this,Lr([this,pe.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,pe.ERROR],t)),this._logHandler.apply(this,Lr([this,pe.ERROR],t))},e}();function Yq(e){Bb.forEach(function(t){t.setLogLevel(e)})}function Xq(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=px[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:pe[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=Bb;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go,Jq=(go={},go["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",go["bad-app-name"]="Illegal App name: '{$appName}",go["duplicate-app"]="Firebase App named '{$appName}' already exists",go["app-deleted"]="Firebase App named '{$appName}' already deleted",go["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",go["invalid-log-argument"]="First argument to `onLog` must be null or a function.",go),hu=new ls("app","Firebase",Jq),vx="@firebase/app",Zq="0.6.17",ez="@firebase/analytics",tz="@firebase/auth",nz="@firebase/database",rz="@firebase/functions",iz="@firebase/installations",oz="@firebase/messaging",sz="@firebase/performance",az="@firebase/remote-config",uz="@firebase/storage",lz="@firebase/firestore",cz="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,sv="[DEFAULT]",fz=(an={},an[vx]="fire-core",an[ez]="fire-analytics",an[tz]="fire-auth",an[nz]="fire-rtdb",an[rz]="fire-fn",an[iz]="fire-iid",an[oz]="fire-fcm",an[sz]="fire-perf",an[az]="fire-rc",an[uz]="fire-gcs",an[lz]="fire-fst",an["fire-js"]="fire-js",an[cz]="fire-js-all",an);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu=new bl("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kp=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=ax(t),this.container=new dx(n.name),this._addComponent(new Bn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=sv),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=sv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Wu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw hu.create("app-deleted",{appName:this.name_})},e}();kp.prototype.name&&kp.prototype.options||kp.prototype.delete||console.log("dc");var hz="8.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:Yq,onLog:p,apps:null,SDK_VERSION:hz,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:g}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||sv,!Vn(t,m))throw hu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var b=y;b.name===void 0&&(b.name=sv);var C=b.name;if(typeof C!="string"||!C)throw hu.create("bad-app-name",{appName:String(C)});if(Vn(t,C))throw hu.create("duplicate-app",{appName:C});var T=new e(m,b,r);return t[C]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return Wu.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var w=function(I){if(I===void 0&&(I=s()),typeof I[y]!="function")throw hu.create("invalid-app-argument",{appName:y});return I[y]()};m.serviceProps!==void 0&&Cf(w,m.serviceProps),r[y]=w,e.prototype[y]=function(){for(var I=[],S=0;S<arguments.length;S++)I[S]=arguments[S];var D=this._getService.bind(this,y);return D.apply(this,m.multipleInstances?I:[])}}for(var b=0,C=Object.keys(t);b<C.length;b++){var T=C[b];t[T]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,w){var b,C=(b=fz[m])!==null&&b!==void 0?b:m;w&&(C+="-"+w);var T=C.match(/\s|\//),I=y.match(/\s|\//);if(T||I){var S=['Unable to register library "'+C+'" with version "'+y+'":'];T&&S.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),T&&I&&S.push("and"),I&&S.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),Wu.warn(S.join(" "));return}c(new Bn(C+"-version",function(){return{library:C,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw hu.create("invalid-log-argument");Xq(m,y)}function g(m,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){var e=dz(kp);e.INTERNAL=Be(Be({},e.INTERNAL),{createFirebaseNamespace:gx,extendNamespace:t,createSubscribe:Fq,ErrorFactory:ls,deepExtend:Cf});function t(n){Cf(e,n)}return e}var $b=gx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pz=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(vz(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function vz(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(e,t){e.INTERNAL.registerComponent(new Bn("platform-logger",function(n){return new pz(n)},"PRIVATE")),e.registerVersion(vx,Zq,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(kq()&&self.firebase!==void 0){Wu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var dA=self.firebase.SDK_VERSION;dA&&dA.indexOf("LITE")>=0&&Wu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var mz=$b.initializeApp;$b.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Sq()&&Wu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),mz.apply(void 0,e)};var ee=$b;gz(ee);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var v=o[d];v in f||(f[v]={}),f=f[v]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(E){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{E(k.resolve,k.reject)}catch(x){k.reject(x)}}function f(){this.a=null}function d(E){return E instanceof u?E:new u(function(k){k(E)})}if(o)return o;f.prototype.b=function(E){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(E)};var v=r.setTimeout;f.prototype.c=function(E){v(E,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var k=0;k<E.length;++k){var x=E[k];E[k]=null;try{x()}catch(M){this.f(M)}}}this.a=null},f.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(M){return function(se){x||(x=!0,M.call(k,se))}}var k=this,x=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var k=E!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(E):this.h(E)}},u.prototype.v=function(E){var k=void 0;try{k=E.then}catch(x){this.g(x);return}typeof k=="function"?this.u(k,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,k){if(this.b!=0)throw Error("Cannot settle("+E+", "+k+"): Promise already settled in state"+this.b);this.b=E,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)_.b(this.a[E]);this.a=null}};var _=new f;return u.prototype.s=function(E){var k=this.f();E.Qa(k.resolve,k.reject)},u.prototype.u=function(E,k){var x=this.f();try{E.call(k,x.resolve,x.reject)}catch(M){x.reject(M)}},u.prototype.then=function(E,k){function x(Se,At){return typeof Se=="function"?function(Ni){try{M(Se(Ni))}catch(x0){se(x0)}}:At}var M,se,Re=new u(function(Se,At){M=Se,se=At});return this.Qa(x(E,M),x(k,se)),Re},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Qa=function(E,k){function x(){switch(M.b){case 1:E(M.c);break;case 2:k(M.c);break;default:throw Error("Unexpected state: "+M.b)}}var M=this;this.a==null?_.b(x):this.a.push(x)},u.resolve=d,u.reject=function(E){return new u(function(k,x){x(E)})},u.race=function(E){return new u(function(k,x){for(var M=a(E),se=M.next();!se.done;se=M.next())d(se.value).Qa(k,x)})},u.all=function(E){var k=a(E),x=k.next();return x.done?d([]):new u(function(M,se){function Re(Ni){return function(x0){Se[Ni]=x0,At--,At==0&&M(Se)}}var Se=[],At=0;do Se.push(void 0),At++,d(x.value).Qa(Re(Se.length-1),se),x=k.next();while(!x.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function b(o){return y(o)=="function"}function C(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function T(o){return Object.prototype.hasOwnProperty.call(o,I)&&o[I]||(o[I]=++S)}var I="closure_uid_"+(1e9*Math.random()>>>0),S=0;function D(o,u,f){return o.call.apply(o.bind,arguments)}function L(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),o.apply(u,v)}}return function(){return o.apply(u,arguments)}}function P(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P=D:P=L,P.apply(null,arguments)}function U(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}var H=Date.now;function W(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function le(o){return o}function R(o,u,f){this.code=Sr+o,this.message=u||Dh[o]||"",this.a=f||null}W(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function ro(o){var u=o&&o.code;return u?new R(u.substring(Sr.length),o.message,o.serverResponse):null}var Sr="auth/",Dh={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},jl={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function wi(o){for(var u in jl)if(jl[u].id===o)return o=jl[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Ei;Ei=wi("__EID__")?"__EID__":void 0;function K(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function ne(o){if(Error.captureStackTrace)Error.captureStackTrace(this,ne);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}W(ne,Error),ne.prototype.name="CustomError";function ce(o,u){o=o.split("%s");for(var f="",d=o.length-1,v=0;v<d;v++)f+=o[v]+(v<u.length?u[v]:"%s");ne.call(this,f+o[d])}W(ce,ne),ce.prototype.name="AssertionError";function xe(o,u){throw new ce("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function rt(o,u){this.c=o,this.f=u,this.b=0,this.a=null}rt.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function vs(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Qr(){this.b=this.a=null}var La=new rt(function(){return new io},function(o){o.reset()});Qr.prototype.add=function(o,u){var f=La.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function bi(){var o=MT,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function io(){this.next=this.b=this.a=null}io.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},io.prototype.reset=function(){this.next=this.b=this.a=null};var cT=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Ye=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,v=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in v&&u.call(f,v[_],_,o)};function VU(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var BU=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],v=0,_=typeof o=="string"?o.split(""):o,E=0;E<f;E++)if(E in _){var k=_[E];u.call(void 0,k,E,o)&&(d[v++]=k)}return d},Oh=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),v=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in v&&(d[_]=u.call(void 0,v[_],_,o));return d},$U=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,v=0;v<f;v++)if(v in d&&u.call(void 0,d[v],v,o))return!0;return!1};function qU(o){e:{for(var u=b3,f=o.length,d=typeof o=="string"?o.split(""):o,v=0;v<f;v++)if(v in d&&u.call(void 0,d[v],v,o)){u=v;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Ii(o,u){return 0<=cT(o,u)}function xh(o,u){u=cT(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function kr(o,u){var f=0;VU(o,function(d,v){u.call(void 0,d,v,o)&&Array.prototype.splice.call(o,v,1).length==1&&f++})}function am(o){return Array.prototype.concat.apply([],arguments)}function gs(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var fT=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},zU=/&/g,GU=/</g,HU=/>/g,WU=/"/g,KU=/'/g,QU=/\x00/g,YU=/[\x00&<>"']/;function je(o,u){return o.indexOf(u)!=-1}function um(o,u){return o<u?-1:o>u?1:0}var Ma;e:{var hT=c.navigator;if(hT){var dT=hT.userAgent;if(dT){Ma=dT;break e}}Ma=""}function mt(o){return je(Ma,o)}function pT(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function ms(o){for(var u in o)return!1;return!0}function oo(o){var u={},f;for(f in o)u[f]=o[f];return u}var vT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sn(o,u){for(var f,d,v=1;v<arguments.length;v++){d=arguments[v];for(f in d)o[f]=d[f];for(var _=0;_<vT.length;_++)f=vT[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function gT(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[u]<"u"&&(!o||!(o instanceof v[u])&&(o instanceof v.Location||o instanceof v.Element))){if(C(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;xe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Yr(o,u){this.a=o===Lh&&u||"",this.b=mT}Yr.prototype.sa=!0,Yr.prototype.ra=function(){return this.a},Yr.prototype.toString=function(){return"Const{"+this.a+"}"};function lm(o){return o instanceof Yr&&o.constructor===Yr&&o.b===mT?o.a:(xe("expected object of type Const, got '"+o+"'"),"type_error:Const")}var mT={},Lh={},Mh;function yT(){if(Mh===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:le,createScript:le,createScriptURL:le})}catch(f){c.console&&c.console.error(f.message)}Mh=o}else Mh=o}return Mh}function Fa(o,u){this.a=u===wT?o:""}Fa.prototype.sa=!0,Fa.prototype.ra=function(){return this.a.toString()},Fa.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function _T(o){return o instanceof Fa&&o.constructor===Fa?o.a:(xe("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function cm(o,u){var f=lm(o);if(!JU.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(XU,function(d,v){if(!Object.prototype.hasOwnProperty.call(u,v))throw Error('Found marker, "'+v+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[v],d instanceof Yr?lm(d):encodeURIComponent(String(d))}),ZU(o)}var XU=/%{(\w+)}/g,JU=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,wT={};function ZU(o){var u=yT();return o=u?u.createScriptURL(o):o,new Fa(o,wT)}function kn(o,u){this.a=u===Vl?o:""}kn.prototype.sa=!0,kn.prototype.ra=function(){return this.a.toString()},kn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Fh(o){return o instanceof kn&&o.constructor===kn?o.a:(xe("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var e4=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,t4=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ET=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function bT(o){if(o instanceof kn)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),ET.test(o))o=new kn(o,Vl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(t4);o=u&&e4.test(u[1])?new kn(o,Vl):null}return o}function IT(o){return o instanceof kn?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),ET.test(o)||(o="about:invalid#zClosurez"),new kn(o,Vl))}var Vl={},TT=new kn("about:invalid#zClosurez",Vl);function Ua(o,u,f){this.a=f===ST?o:""}Ua.prototype.sa=!0,Ua.prototype.ra=function(){return this.a.toString()},Ua.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function n4(o){return o instanceof Ua&&o.constructor===Ua?o.a:(xe("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var ST={};function r4(o,u){gT(o,"HTMLScriptElement"),o.src=_T(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=g(u.document):(p===null&&(p=g(c.document)),u=p),u&&o.setAttribute("nonce",u)}function kT(o,u,f,d){return o=o instanceof kn?o:IT(o),u=u||c,f=f instanceof Yr?lm(f):f||"",u.open(Fh(o),f,d,void 0)}function CT(o,u){for(var f=o.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<f.length;)d+=f.shift()+v.shift();return d+f.join("%s")}function fm(o){return YU.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(zU,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(GU,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(HU,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(WU,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(KU,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(QU,"&#0;"))),o}function hm(o){return hm[" "](o),o}hm[" "]=m;function i4(o,u){var f=u4;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var o4=mt("Opera"),Cr=mt("Trident")||mt("MSIE"),NT=mt("Edge"),s4=NT||Cr,AT=mt("Gecko")&&!(je(Ma.toLowerCase(),"webkit")&&!mt("Edge"))&&!(mt("Trident")||mt("MSIE"))&&!mt("Edge"),a4=je(Ma.toLowerCase(),"webkit")&&!mt("Edge");function RT(){var o=c.document;return o?o.documentMode:void 0}var Uh;e:{var dm="",pm=function(){var o=Ma;if(AT)return/rv:([^\);]+)(\)|;)/.exec(o);if(NT)return/Edge\/([\d\.]+)/.exec(o);if(Cr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(a4)return/WebKit\/(\S+)/.exec(o);if(o4)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(pm&&(dm=pm?pm[1]:""),Cr){var vm=RT();if(vm!=null&&vm>parseFloat(dm)){Uh=String(vm);break e}}Uh=dm}var u4={};function PT(o){return i4(o,function(){for(var u=0,f=fT(String(Uh)).split("."),d=fT(String(o)).split("."),v=Math.max(f.length,d.length),_=0;u==0&&_<v;_++){var E=f[_]||"",k=d[_]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],E[0].length==0&&k[0].length==0)break;u=um(E[1].length==0?0:parseInt(E[1],10),k[1].length==0?0:parseInt(k[1],10))||um(E[2].length==0,k[2].length==0)||um(E[2],k[2]),E=E[3],k=k[3]}while(u==0)}return 0<=u})}var gm;if(c.document&&Cr){var DT=RT();gm=DT||parseInt(Uh,10)||void 0}else gm=void 0;var so=gm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var l4=!Cr||9<=Number(so);function Bl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function OT(o,u){pT(u,function(f,d){f&&typeof f=="object"&&f.sa&&(f=f.ra()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:xT.hasOwnProperty(d)?o.setAttribute(xT[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var xT={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function c4(o,u,f){var d=arguments,v=document,_=String(d[0]),E=d[1];if(!l4&&E&&(E.name||E.type)){if(_=["<",_],E.name&&_.push(' name="',fm(E.name),'"'),E.type){_.push(' type="',fm(E.type),'"');var k={};Sn(k,E),delete k.type,E=k}_.push(">"),_=_.join("")}return _=jh(v,_),E&&(typeof E=="string"?_.className=E:Array.isArray(E)?_.className=E.join(" "):OT(_,E)),2<d.length&&f4(v,_,d),_}function f4(o,u,f){function d(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var v=2;v<f.length;v++){var _=f[v];if(!w(_)||C(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(C(_)){var E=typeof _.item=="function"||typeof _.item=="string";break e}if(b(_)){E=typeof _.item=="function";break e}}E=!1}Ye(E?gs(_):_,d)}}}function jh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function LT(o){c.setTimeout(function(){throw o},0)}var mm;function h4(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!mt("Presto")&&(o=function(){var v=jh(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var _=v.contentWindow;v=_.document,v.open(),v.close();var E="callImmediate"+Math.random(),k=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;v=P(function(x){(k=="*"||x.origin==k)&&x.data==E&&this.port1.onmessage()},this),_.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(E,k)}}}),typeof o<"u"&&!mt("Trident")&&!mt("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var v=f.Gb;f.Gb=null,v()}},function(v){d.next={Gb:v},d=d.next,u.port2.postMessage(0)}}return function(v){c.setTimeout(v,0)}}function Vh(o,u){Bh||d4(),ym||(Bh(),ym=!0),MT.add(o,u)}var Bh;function d4(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Bh=function(){o.then(FT)}}else Bh=function(){var u=FT;!b(c.setImmediate)||c.Window&&c.Window.prototype&&!mt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(mm||(mm=h4()),mm(u)):c.setImmediate(u)}}var ym=!1,MT=new Qr;function FT(){for(var o;o=bi();){try{o.a.call(o.b)}catch(u){LT(u)}vs(La,o)}ym=!1}function me(o,u){if(this.a=ys,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){_s(f,$l,d)},function(d){if(!(d instanceof ja))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}_s(f,Ti,d)})}catch(d){_s(this,Ti,d)}}var ys=0,$l=2,Ti=3;function UT(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}UT.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var jT=new rt(function(){return new UT},function(o){o.reset()});function _m(o,u,f){var d=jT.get();return d.g=o,d.b=u,d.f=f,d}function re(o){if(o instanceof me)return o;var u=new me(m);return _s(u,$l,o),u}function Ge(o){return new me(function(u,f){f(o)})}function VT(o,u,f){zT(o,u,f,null)||Vh(U(u,o))}function p4(o){return new me(function(u,f){var d=o.length,v=[];if(d)for(var _=function(M,se){d--,v[M]=se,d==0&&u(v)},E=function(M){f(M)},k=0,x;k<o.length;k++)x=o[k],VT(x,U(_,k),E);else u(v)})}function BT(o){return new me(function(u){var f=o.length,d=[];if(f)for(var v=function(k,x,M){f--,d[k]=x?{Pb:!0,value:M}:{Pb:!1,reason:M},f==0&&u(d)},_=0,E;_<o.length;_++)E=o[_],VT(E,U(v,_,!0),U(v,_,!1));else u(d)})}me.prototype.then=function(o,u,f){return qT(this,b(o)?o:null,b(u)?u:null,f)},me.prototype.$goog_Thenable=!0,e=me.prototype,e.oa=function(o,u){return o=_m(o,o,u),o.c=!0,wm(this,o),this},e.o=function(o,u){return qT(this,null,o,u)},e.cancel=function(o){if(this.a==ys){var u=new ja(o);Vh(function(){$T(this,u)},this)}};function $T(o,u){if(o.a==ys)if(o.c){var f=o.c;if(f.b){for(var d=0,v=null,_=null,E=f.b;E&&(E.c||(d++,E.a==o&&(v=E),!(v&&1<d)));E=E.next)v||(_=E);v&&(f.a==ys&&d==1?$T(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):HT(f),WT(f,v,Ti,u)))}o.c=null}else _s(o,Ti,u)}function wm(o,u){o.b||o.a!=$l&&o.a!=Ti||GT(o),o.f?o.f.next=u:o.b=u,o.f=u}function qT(o,u,f,d){var v=_m(null,null,null);return v.a=new me(function(_,E){v.g=u?function(k){try{var x=u.call(d,k);_(x)}catch(M){E(M)}}:_,v.b=f?function(k){try{var x=f.call(d,k);x===void 0&&k instanceof ja?E(k):_(x)}catch(M){E(M)}}:E}),v.a.c=o,wm(o,v),v.a}e.$c=function(o){this.a=ys,_s(this,$l,o)},e.ad=function(o){this.a=ys,_s(this,Ti,o)};function _s(o,u,f){o.a==ys&&(o===f&&(u=Ti,f=new TypeError("Promise cannot resolve to itself")),o.a=1,zT(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,GT(o),u!=Ti||f instanceof ja||g4(o,f)))}function zT(o,u,f,d){if(o instanceof me)return wm(o,_m(u||m,f||null,d)),!0;if(K(o))return o.then(u,f,d),!0;if(C(o))try{var v=o.then;if(b(v))return v4(o,v,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function v4(o,u,f,d,v){function _(x){k||(k=!0,d.call(v,x))}function E(x){k||(k=!0,f.call(v,x))}var k=!1;try{u.call(o,E,_)}catch(x){_(x)}}function GT(o){o.h||(o.h=!0,Vh(o.gc,o))}function HT(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=HT(this);)WT(this,o,this.a,this.i);this.h=!1};function WT(o,u,f,d){if(f==Ti&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,KT(u,f,d);else try{u.c?u.g.call(u.f):KT(u,f,d)}catch(v){QT.call(null,v)}vs(jT,u)}function KT(o,u,f){u==$l?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function g4(o,u){o.g=!0,Vh(function(){o.g&&QT.call(null,u)})}var QT=LT;function ja(o){ne.call(this,o)}W(ja,ne),ja.prototype.name="cancel";function $h(){this.xa=this.xa,this.pa=this.pa}var m4=0;$h.prototype.xa=!1;function YT(o){!o.xa&&(o.xa=!0,o.Da(),m4!=0)&&T(o)}$h.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var y4=Object.freeze||function(o){return o},XT=!Cr||9<=Number(so),_4=Cr&&!PT("9"),w4=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Cn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Cn.prototype.preventDefault=function(){this.defaultPrevented=!0};function ws(o,u){if(Cn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(AT){e:{try{hm(u.nodeName);var v=!0;break e}catch{}v=!1}v||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:E4[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}W(ws,Cn);var E4=y4({2:"touch",3:"pen",4:"mouse"});ws.prototype.preventDefault=function(){ws.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,_4)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},ws.prototype.g=function(){return this.a};var ql="closure_listenable_"+(1e6*Math.random()|0),b4=0;function I4(o,u,f,d,v){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Va=v,this.key=++b4,this.va=this.Pa=!1}function qh(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function zh(o){this.src=o,this.a={},this.b=0}zh.prototype.add=function(o,u,f,d,v){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var E=bm(o,u,d,v);return-1<E?(u=o[E],f||(u.Pa=!1)):(u=new I4(u,this.src,_,!!d,v),u.Pa=f,o.push(u)),u};function Em(o,u){var f=u.type;f in o.a&&xh(o.a[f],u)&&(qh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function bm(o,u,f,d){for(var v=0;v<o.length;++v){var _=o[v];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==d)return v}return-1}var Im="closure_lm_"+(1e6*Math.random()|0),Tm={};function ar(o,u,f,d,v){if(d&&d.once)Sm(o,u,f,d,v);else if(Array.isArray(u))for(var _=0;_<u.length;_++)ar(o,u[_],f,d,v);else f=Cm(f),o&&o[ql]?rS(o,u,f,C(d)?!!d.capture:!!d,v):JT(o,u,f,!1,d,v)}function JT(o,u,f,d,v,_){if(!u)throw Error("Invalid event type");var E=C(v)?!!v.capture:!!v,k=Gh(o);if(k||(o[Im]=k=new zh(o)),f=k.add(u,f,d,E,_),!f.proxy)if(d=T4(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)w4||(v=E),v===void 0&&(v=!1),o.addEventListener(u.toString(),d,v);else if(o.attachEvent)o.attachEvent(eS(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function T4(){var o=S4,u=XT?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Sm(o,u,f,d,v){if(Array.isArray(u))for(var _=0;_<u.length;_++)Sm(o,u[_],f,d,v);else f=Cm(f),o&&o[ql]?Nm(o,u,f,C(d)?!!d.capture:!!d,v):JT(o,u,f,!0,d,v)}function qn(o,u,f,d,v){if(Array.isArray(u))for(var _=0;_<u.length;_++)qn(o,u[_],f,d,v);else d=C(d)?!!d.capture:!!d,f=Cm(f),o&&o[ql]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=bm(_,f,d,v),-1<f&&(qh(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Gh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=bm(u,f,d,v)),(f=-1<o?u[o]:null)&&ZT(f))}function ZT(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[ql])Em(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(eS(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=Gh(u))?(Em(f,o),f.b==0&&(f.src=null,u[Im]=null)):qh(o)}}}function eS(o){return o in Tm?Tm[o]:Tm[o]="on"+o}function tS(o,u,f,d){var v=!0;if((o=Gh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=nS(_,d),v=v&&_!==!1)}return v}function nS(o,u){var f=o.listener,d=o.Va||o.src;return o.Pa&&ZT(o),f.call(d,u)}function S4(o,u){if(o.va)return!0;if(!XT){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new ws(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=u.b;v;v=v.parentNode)d.push(v);for(o=o.type,v=d.length-1;0<=v;v--){u.b=d[v];var _=tS(d[v],o,!0,u);f=f&&_}for(v=0;v<d.length;v++)u.b=d[v],_=tS(d[v],o,!1,u),f=f&&_}return f}return nS(o,new ws(u,this))}function Gh(o){return o=o[Im],o instanceof zh?o:null}var km="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cm(o){return b(o)?o:(o[km]||(o[km]=function(u){return o.handleEvent(u)}),o[km])}function on(){$h.call(this),this.v=new zh(this),this.ac=this,this.gb=null}W(on,$h),on.prototype[ql]=!0,on.prototype.addEventListener=function(o,u,f,d){ar(this,o,u,f,d)},on.prototype.removeEventListener=function(o,u,f,d){qn(this,o,u,f,d)},on.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var d=o.type||o;if(typeof o=="string")o=new Cn(o,f);else if(o instanceof Cn)o.target=o.target||f;else{var v=o;o=new Cn(d,f),Sn(o,v)}if(v=!0,u)for(var _=u.length-1;0<=_;_--){var E=o.b=u[_];v=Hh(E,d,!0,o)&&v}if(E=o.b=f,v=Hh(E,d,!0,o)&&v,v=Hh(E,d,!1,o)&&v,u)for(_=0;_<u.length;_++)E=o.b=u[_],v=Hh(E,d,!1,o)&&v;return v},on.prototype.Da=function(){if(on.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)qh(f[d]);delete o.a[u],o.b--}}this.gb=null};function rS(o,u,f,d,v){o.v.add(String(u),f,!1,d,v)}function Nm(o,u,f,d,v){o.v.add(String(u),f,!0,d,v)}function Hh(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var v=!0,_=0;_<u.length;++_){var E=u[_];if(E&&!E.va&&E.capture==f){var k=E.listener,x=E.Va||E.src;E.Pa&&Em(o.v,E),v=k.call(x,d)!==!1&&v}}return v&&!d.defaultPrevented}function Am(o,u,f){if(b(o))f&&(o=P(o,f));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Va(o){var u=null;return new me(function(f,d){u=Am(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function iS(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function oS(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function k4(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Ye(o,u,void 0);else for(var f=oS(o),d=iS(o),v=d.length,_=0;_<v;_++)u.call(void 0,d[_],f&&f[_],o)}function Ba(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof Ba)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=Ba.prototype,e.W=function(){Rm(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Rm(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Rm(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];Es(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var v={};for(f=u=0;u<o.a.length;)d=o.a[u],Es(v,d)||(o.a[f++]=d,v[d]=1),u++;o.a.length=f}}e.get=function(o,u){return Es(this.b,o)?this.b[o]:u},e.set=function(o,u){Es(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var v=f[d],_=this.get(v);o.call(u,_,v,this)}};function Es(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var sS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function C4(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),v=null;if(0<=d){var _=o[f].substring(0,d);v=o[f].substring(d+1)}else _=o[f];u(_,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function ao(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof ao?(this.i=u!==void 0?u:o.i,zl(this,o.c),this.l=o.l,this.a=o.a,Gl(this,o.g),this.f=o.f,Pm(this,cS(o.b)),this.h=o.h):o&&(f=String(o).match(sS))?(this.i=!!u,zl(this,f[1]||"",!0),this.l=Hl(f[2]||""),this.a=Hl(f[3]||"",!0),Gl(this,f[4]),this.f=Hl(f[5]||"",!0),Pm(this,f[6]||"",!0),this.h=Hl(f[7]||"")):(this.i=!!u,this.b=new bs(null,this.i))}ao.prototype.toString=function(){var o=[],u=this.c;u&&o.push(Wl(u,aS,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(Wl(u,aS,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(Wl(f,f.charAt(0)=="/"?R4:A4,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",Wl(f,D4)),o.join("")},ao.prototype.resolve=function(o){var u=new ao(this),f=!!o.c;f?zl(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)Gl(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=u.f.lastIndexOf("/");v!=-1&&(d=u.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(je(v,"./")||je(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var _=[],E=0;E<v.length;){var k=v[E++];k=="."?d&&E==v.length&&_.push(""):k==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&E==v.length&&_.push("")):(_.push(k),d=!0)}d=_.join("/")}else d=v}return f?u.f=d:f=o.b.toString()!=="",f?Pm(u,cS(o.b)):f=!!o.h,f&&(u.h=o.h),u};function zl(o,u,f){o.c=f?Hl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function Gl(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Pm(o,u,f){u instanceof bs?(o.b=u,O4(o.b,o.i)):(f||(u=Wl(u,P4)),o.b=new bs(u,o.i))}function at(o,u,f){o.b.set(u,f)}function ur(o,u){return o.b.get(u)}function Nn(o){return o instanceof ao?new ao(o):new ao(o,void 0)}function Wh(o,u,f,d){var v=new ao(null,void 0);return o&&zl(v,o),u&&(v.a=u),f&&Gl(v,f),d&&(v.f=d),v}function Hl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Wl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,N4),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function N4(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var aS=/[#\/\?@]/g,A4=/[#\?:]/g,R4=/[#\?]/g,P4=/[#\?@]/g,D4=/#/g;function bs(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function uo(o){o.a||(o.a=new Ba,o.b=0,o.c&&C4(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function uS(o){var u=oS(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new bs(null,void 0);o=iS(o);for(var d=0;d<u.length;d++){var v=u[d],_=o[d];Array.isArray(_)?lS(f,v,_):f.add(v,_)}return f}e=bs.prototype,e.add=function(o,u){uo(this),this.c=null,o=$a(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Xr(o,u){uo(o),u=$a(o,u),Es(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Es(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Rm(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Dm(o,u){return uo(o),u=$a(o,u),Es(o.a.b,u)}e.forEach=function(o,u){uo(this),this.a.forEach(function(f,d){Ye(f,function(v){o.call(u,v,d,this)},this)},this)},e.Y=function(){uo(this);for(var o=this.a.W(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var v=o[d],_=0;_<v.length;_++)f.push(u[d]);return f},e.W=function(o){uo(this);var u=[];if(typeof o=="string")Dm(this,o)&&(u=am(u,this.a.get($a(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=am(u,o[f])}return u},e.set=function(o,u){return uo(this),this.c=null,o=$a(this,o),Dm(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function lS(o,u,f){Xr(o,u),0<f.length&&(o.c=null,o.a.set($a(o,u),gs(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],v=encodeURIComponent(String(d));d=this.W(d);for(var _=0;_<d.length;_++){var E=v;d[_]!==""&&(E+="="+encodeURIComponent(String(d[_]))),o.push(E)}}return this.c=o.join("&")};function cS(o){var u=new bs;return u.c=o.c,o.a&&(u.a=new Ba(o.a),u.b=o.b),u}function $a(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function O4(o,u){u&&!o.f&&(uo(o),o.c=null,o.a.forEach(function(f,d){var v=d.toLowerCase();d!=v&&(Xr(this,d),lS(this,v,f))},o)),o.f=u}function fS(o){var u=[];return Om(new x4,o,u),u.join("")}function x4(){}function Om(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var v="",_=0;_<u;_++)f.push(v),Om(o,d[_],f),v=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),v="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(v),dS(d,f),f.push(":"),Om(o,_,f),v=","));f.push("}");return}}switch(typeof u){case"string":dS(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var hS={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},L4=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function dS(o,u){u.push('"',o.replace(L4,function(f){var d=hS[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),hS[f]=d),d}),'"')}function xm(){var o=Mt();return Cr&&!!so&&so==11||/Edge\/\d+/.test(o)}function Kl(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function pS(o,u){u=u||c.window;var f="about:blank";o&&(f=Fh(bT(o)||TT)),u.location.href=f}function vS(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<vS(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function M4(){var o=Mt();return o=qa(o)!=_S?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Cr||!so||9<so}function gS(o){return o=(o||Mt()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Is(o){o=o||c.window;try{o.close()}catch{}}function mS(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var v=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<v?v:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=Mt().toLowerCase(),d&&(u.target=d,je(f,"crios/")&&(u.target="_blank")),qa(Mt())==Fm&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof kn?f:bT(typeof f.href<"u"?f.href:String(f))||TT,f=o.target||f.target,v=[];for(E in o)switch(E){case"width":case"height":case"top":case"left":v.push(E+"="+o[E]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(E+"="+(o[E]?1:0))}var E=v.join(",");if((mt("iPhone")&&!mt("iPod")&&!mt("iPad")||mt("iPad")||mt("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(E=jh(document,"A"),gT(E,"HTMLAnchorElement"),u=u instanceof kn?u:IT(u),E.href=Fh(u),E.setAttribute("target",f),o.noreferrer&&E.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),E.dispatchEvent(o),E={}):o.noreferrer?(E=kT("",d,f,E),o=Fh(u),E&&(s4&&je(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),E.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+fm(o)+'">',o=(d=yT())?d.createHTML(o):o,o=new Ua(o,null,ST),d=E.document)&&(d.write(n4(o)),d.close())):(E=kT(u,d,f,E))&&o.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function F4(o){return new me(function(u){function f(){Va(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var U4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j4=/^[^@]+@[^@]+$/;function Kh(){var o=null;return new me(function(u){c.document.readyState=="complete"?u():(o=function(){u()},Sm(window,"load",o))}).o(function(u){throw qn(window,"load",o),u})}function V4(){return Lm(void 0)?Kh().then(function(){return new me(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):Ge(Error("Cordova must run in an Android or iOS file scheme."))}function Lm(o){return o=o||Mt(),!(Ga()!=="file:"&&Ga()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mm(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Nr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Jr(){return ee.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ee.INTERNAL.hasOwnProperty("node")?"Node":Nr()?"Worker":"Browser"}function yS(){var o=Jr();return o==="ReactNative"||o==="Node"}function B4(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Fm="Firefox",_S="Chrome";function qa(o){var u=o.toLowerCase();if(je(u,"opera/")||je(u,"opr/")||je(u,"opios/"))return"Opera";if(je(u,"iemobile"))return"IEMobile";if(je(u,"msie")||je(u,"trident/"))return"IE";if(je(u,"edge/"))return"Edge";if(je(u,"firefox/"))return Fm;if(je(u,"silk/"))return"Silk";if(je(u,"blackberry"))return"Blackberry";if(je(u,"webos"))return"Webos";if(!je(u,"safari/")||je(u,"chrome/")||je(u,"crios/")||je(u,"android"))if(!je(u,"chrome/")&&!je(u,"crios/")||je(u,"edge/")){if(je(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return _S;else return"Safari";return"Other"}var wS={md:"FirebaseCore-web",od:"FirebaseUI-web"};function za(o,u){u=u||[];var f=[],d={},v;for(v in wS)d[wS[v]]=!0;for(v=0;v<u.length;v++)typeof d[u[v]]<"u"&&(delete d[u[v]],f.push(u[v]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Jr(),f==="Browser"?(d=Mt(),f=qa(d)):f==="Worker"&&(d=Mt(),f=qa(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function Mt(){return c.navigator&&c.navigator.userAgent||""}function He(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Um(){try{var o=c.localStorage,u=Ss();if(o)return o.setItem(u,"1"),o.removeItem(u),xm()?!!c.indexedDB:!0}catch{return Nr()&&!!c.indexedDB}return!1}function Ts(){return(Qh()||Ga()==="chrome-extension:"||Lm())&&!yS()&&Um()&&!Nr()}function Qh(){return Ga()==="http:"||Ga()==="https:"}function Ga(){return c.location&&c.location.protocol||null}function Ql(o){return o=o||Mt(),!(gS(o)||qa(o)==Fm)}function Yl(o){return typeof o>"u"?null:fS(o)}function ES(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function Ha(o){if(o!==null)return JSON.parse(o)}function Ss(o){return o||Math.floor(1e9*Math.random()).toString()}function bS(o){return o=o||Mt(),!(qa(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function IS(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function lo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Mt(),u=Jr(),this.b=gS(o)||u==="ReactNative"}lo.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(Qh()||Ga()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function jm(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function $4(){var o=c.document,u=null;return jm()||!o?re():new me(function(f){u=function(){jm()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function Xl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function TS(){return!(!He("fireauth.oauthhelper",c)&&!He("fireauth.iframe",c))}function q4(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function z4(){var o=c.navigator;return o&&o.serviceWorker?re().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):re(null)}var SS={};function Vm(o){SS[o]||(SS[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var Bm;try{var $m={};Object.defineProperty($m,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($m,"abcd",{configurable:!0,enumerable:!0,value:2}),Bm=$m.abcd==2}catch{Bm=!1}function X(o,u,f){Bm?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function sn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&X(o,f,u[f])}function Zr(o){var u={};return sn(u,o),u}function G4(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function H4(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function qm(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)X(u,f,qm(o[f]))}return u}function zm(o){var u=o&&(o[Km]?"phone":null);if(u&&o&&o[Wm]){X(this,"uid",o[Wm]),X(this,"displayName",o[kS]||null);var f=null;o[Hm]&&(f=new Date(o[Hm]).toUTCString()),X(this,"enrollmentTime",f),X(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}zm.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Gm(o){try{var u=new Jl(o)}catch{u=null}return u}var kS="displayName",Hm="enrolledAt",Wm="mfaEnrollmentId",Km="phoneInfo";function Jl(o){zm.call(this,o),X(this,"phoneNumber",o[Km])}W(Jl,zm),Jl.prototype.w=function(){var o=Jl.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function W4(o){var u={},f=o[K4],d=o[Y4],v=o[X4];if(o=Gm(o[Q4]),!v||v!=Yh&&v!=Zl&&!f||v==Zl&&!d||v==Qm&&!o)throw Error("Invalid checkActionCode response!");v==Zl?(u[NS]=f||null,u[AS]=f||null,u[CS]=d):(u[NS]=d||null,u[AS]=d||null,u[CS]=f||null),u[J4]=o||null,X(this,e3,v),X(this,Z4,qm(u))}var Qm="REVERT_SECOND_FACTOR_ADDITION",Yh="EMAIL_SIGNIN",Zl="VERIFY_AND_CHANGE_EMAIL",K4="email",Q4="mfaInfo",Y4="newEmail",X4="requestType",CS="email",NS="fromEmail",J4="multiFactorInfo",AS="previousEmail",Z4="data",e3="operation";function Ym(o){o=Nn(o);var u=ur(o,RS)||null,f=ur(o,PS)||null,d=ur(o,DS)||null;if(d=d&&i3[d]||null,!u||!f||!d)throw new R("argument-error",RS+", "+PS+"and "+DS+" are required in a valid action code URL.");sn(this,{apiKey:u,operation:d,code:f,continueUrl:ur(o,t3)||null,languageCode:ur(o,n3)||null,tenantId:ur(o,r3)||null})}var RS="apiKey",PS="oobCode",t3="continueUrl",n3="languageCode",DS="mode",r3="tenantId",i3={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Qm,signIn:Yh,verifyAndChangeEmail:Zl,verifyEmail:"VERIFY_EMAIL"};function OS(o){try{return new Ym(o)}catch{return null}}function Xh(o){var u=o[o3];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[xS];if(f&&typeof f=="object"){u=f[jS];var d=f[FS];if(f=f[US],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new R("argument-error",FS+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",US+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",jS+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",xS+" property must be a non null object when specified.");if(this.f=null,(u=o[MS])&&typeof u=="object"){if(u=u[VS],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",VS+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",MS+" property must be a non null object when specified.");if(u=o[Xm],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",Xm+" property must be a boolean when specified.");if(this.c=!!u,o=o[LS],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",LS+" property must be a non empty string when specified.");this.i=o||null}var xS="android",LS="dynamicLinkDomain",Xm="handleCodeInApp",MS="iOS",o3="url",FS="installApp",US="minimumVersion",jS="packageName",VS="bundleId";function Jh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function s3(o){return Oh(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var ec=null;function a3(o){var u=[];return u3(o,function(f){u.push(f)}),u}function u3(o,u){function f(x){for(;d<o.length;){var M=o.charAt(d++),se=ec[M];if(se!=null)return se;if(!/^[\s\xa0]*$/.test(M))throw Error("Unknown base64 encoding at char: "+M)}return x}l3();for(var d=0;;){var v=f(-1),_=f(0),E=f(64),k=f(64);if(k===64&&v===-1)break;u(v<<2|_>>4),E!=64&&(u(_<<4&240|E>>2),k!=64&&u(E<<6&192|k))}}function l3(){if(!ec){ec={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),v=0;v<d.length;v++){var _=d[v];ec[_]===void 0&&(ec[_]=v)}}}function Zh(o){var u=BS(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Zh.prototype.T=function(){return this.f},Zh.prototype.l=function(){return this.c},Zh.prototype.toString=function(){return this.h};function ed(o){try{return new Zh(o)}catch{return null}}function BS(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=a3(o);for(o=[],f=u=0;u<d.length;){var v=d[u++];if(128>v)o[f++]=String.fromCharCode(v);else if(191<v&&224>v){var _=d[u++];o[f++]=String.fromCharCode((v&31)<<6|_&63)}else if(239<v&&365>v){_=d[u++];var E=d[u++],k=d[u++],x=((v&7)<<18|(_&63)<<12|(E&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(x>>10)),o[f++]=String.fromCharCode(56320+(x&1023))}else _=d[u++],E=d[u++],o[f++]=String.fromCharCode((v&15)<<12|(_&63)<<6|E&63)}return JSON.parse(o.join(""))}catch{}return null}var $S="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),td=["client_id","response_type","scope","redirect_uri","state"],Jm={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:td},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:td},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:td},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:$S},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Zm(o){for(var u in Jm)if(Jm[u].fa==o)return Jm[u];return null}function qS(o){var u={};u["facebook.com"]=GS,u["google.com"]=WS,u["github.com"]=HS,u["twitter.com"]=KS;var f=o&&o[zS];try{if(f)return u[f]?new u[f](o):new ei(o);if(typeof o[ey]<"u")return new ty(o)}catch{}return null}var ey="idToken",zS="providerId";function ty(o){var u=o[zS];if(!u&&o[ey]){var f=ed(o[ey]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),X(this,"providerId",u),X(this,"isNewUser",f)}function ei(o){ty.call(this,o),o=Ha(o.rawUserInfo||"{}"),X(this,"profile",qm(o||{}))}W(ei,ty);function GS(o){if(ei.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}W(GS,ei);function HS(o){if(ei.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");X(this,"username",this.profile&&this.profile.login||null)}W(HS,ei);function WS(o){if(ei.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}W(WS,ei);function KS(o){if(ei.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");X(this,"username",o.screenName||null)}W(KS,ei);function QS(o){var u=Nn(o),f=ur(u,"link"),d=ur(Nn(f),"link");return u=ur(u,"deep_link_id"),ur(Nn(u),"link")||u||d||f||o}function nd(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?tc:rd}var tc="enroll",rd="signin";nd.prototype.Ha=function(){return this.a?re(this.a):re(this.b)},nd.prototype.w=function(){return this.type==tc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Wa(){}Wa.prototype.ka=function(){},Wa.prototype.b=function(){},Wa.prototype.c=function(){},Wa.prototype.w=function(){};function Ka(o,u){return o.then(function(f){if(f[Pr]){var d=ed(f[Pr]);if(!d||u!=d.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Sr+"user-not-found"?new R("user-mismatch"):f})}function ks(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");X(this,"providerId",o),X(this,"signInMethod",o)}ks.prototype.ka=function(o){return Sy(o,ny(this))},ks.prototype.b=function(o,u){var f=ny(this);return f.idToken=u,ky(o,f)},ks.prototype.c=function(o,u){return Ka(Cy(o,ny(this)),u)};function ny(o){return{pendingToken:o.a,requestUri:"http://localhost"}}ks.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function c3(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new ks(o.providerId,o.pendingToken)}catch{}return null}function Si(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&X(this,"idToken",u.idToken),u.accessToken&&X(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&X(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)X(this,"accessToken",u.oauthToken),X(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");X(this,"providerId",o),X(this,"signInMethod",f)}Si.prototype.ka=function(o){return Sy(o,ry(this))},Si.prototype.b=function(o,u){var f=ry(this);return f.idToken=u,ky(o,f)},Si.prototype.c=function(o,u){var f=ry(this);return Ka(Cy(o,f),u)};function ry(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:uS(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Si.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function f3(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Si(o.providerId,u,o.signInMethod)}catch{}}return null}function Cs(o,u){this.Qc=u||[],sn(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(Zm(o)||{}).Ja||null,this.ob=null}Cs.prototype.Ka=function(o){return this.Ib=oo(o),this};function YS(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');Cs.call(this,o,[])}W(YS,Cs);function zn(o){Cs.call(this,o,td),this.a=[]}W(zn,Cs),zn.prototype.Ca=function(o){return Ii(this.a,o)||this.a.push(o),this},zn.prototype.Qb=function(){return gs(this.a)},zn.prototype.credential=function(o,u){var f;if(C(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Si(this.providerId,f,this.providerId)};function Ns(){zn.call(this,"facebook.com")}W(Ns,zn),X(Ns,"PROVIDER_ID","facebook.com"),X(Ns,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function XS(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new Ns().credential({accessToken:u})}function As(){zn.call(this,"github.com")}W(As,zn),X(As,"PROVIDER_ID","github.com"),X(As,"GITHUB_SIGN_IN_METHOD","github.com");function JS(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new As().credential({accessToken:u})}function Rs(){zn.call(this,"google.com"),this.Ca("profile")}W(Rs,zn),X(Rs,"PROVIDER_ID","google.com"),X(Rs,"GOOGLE_SIGN_IN_METHOD","google.com");function ZS(o,u){var f=o;return C(o)&&(f=o.idToken,u=o.accessToken),new Rs().credential({idToken:f,accessToken:u})}function Qa(){Cs.call(this,"twitter.com",$S)}W(Qa,Cs),X(Qa,"PROVIDER_ID","twitter.com"),X(Qa,"TWITTER_SIGN_IN_METHOD","twitter.com");function ek(o,u){var f=o;if(C(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Si("twitter.com",f,"twitter.com")}function co(o,u,f){this.a=o,this.f=u,X(this,"providerId","password"),X(this,"signInMethod",f===lr.EMAIL_LINK_SIGN_IN_METHOD?lr.EMAIL_LINK_SIGN_IN_METHOD:lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}co.prototype.ka=function(o){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?ye(o,Q3,{email:this.a,oobCode:this.f}):ye(o,Nk,{email:this.a,password:this.f})},co.prototype.b=function(o,u){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?ye(o,Y3,{idToken:u,email:this.a,oobCode:this.f}):ye(o,Ck,{idToken:u,email:this.a,password:this.f})},co.prototype.c=function(o,u){return Ka(this.ka(o),u)},co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function h3(o){return o&&o.email&&o.password?new co(o.email,o.password,o.signInMethod):null}function lr(){sn(this,{providerId:"password",isOAuthProvider:!1})}function tk(o,u){if(u=iy(u),!u)throw new R("argument-error","Invalid email link!");return new co(o,u.code,lr.EMAIL_LINK_SIGN_IN_METHOD)}function iy(o){return o=QS(o),(o=OS(o))&&o.operation===Yh?o:null}sn(lr,{PROVIDER_ID:"password"}),sn(lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),sn(lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function fo(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new R("internal-error");this.a=o,X(this,"providerId","phone"),this.fa="phone",X(this,"signInMethod","phone")}fo.prototype.ka=function(o){return o.fb(nc(this))},fo.prototype.b=function(o,u){var f=nc(this);return f.idToken=u,ye(o,gj,f)},fo.prototype.c=function(o,u){var f=nc(this);return f.operation="REAUTH",o=ye(o,mj,f),Ka(o,u)},fo.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function d3(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Ye(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new fo(u)}return null}function nc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function ki(o){try{this.a=o||ee.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}sn(this,{providerId:"phone",isOAuthProvider:!1})}ki.prototype.fb=function(o,u){var f=this.a.a;return re(u.verify()).then(function(d){if(typeof d!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var v=C(o)?o.session:null,_=C(o)?o.phoneNumber:o,E;return v&&v.type==tc?E=v.Ha().then(function(k){return V3(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):v&&v.type==rd?E=v.Ha().then(function(k){return B3(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):E=j3(f,{phoneNumber:_,recaptchaToken:d}),E.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function nk(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new fo({eb:o,cb:u})}sn(ki,{PROVIDER_ID:"phone"}),sn(ki,{PHONE_SIGN_IN_METHOD:"phone"});function oy(o){if(o.temporaryProof&&o.phoneNumber)return new fo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,v=o&&o.nonce,_=o&&o.oauthIdToken,E=o&&o.pendingToken;try{switch(u){case"google.com":return ZS(_,f);case"facebook.com":return XS(f);case"github.com":return JS(f);case"twitter.com":return ek(f,d);default:return f||d||_||E?E?u.indexOf("saml.")==0?new ks(u,E):new Si(u,{pendingToken:E,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new zn(u).credential({idToken:_,accessToken:f,rawNonce:v}):null}}catch{return null}}function sy(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function Ar(o,u,f,d,v,_,E){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=E||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}Ar.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Ar.prototype.T=function(){return this.h},Ar.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function rk(o){return o=o||{},o.type?new Ar(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&ro(o.error),o.postBody,o.tenantId):null}function p3(){this.b=null,this.a=[]}var ay=null;function v3(o){var u=ay;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=He("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function uy(o){var u="unauthorized-domain",f=void 0,d=Nn(o);o=d.a,d=d.c,d=="chrome-extension"?f=CT("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=CT("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}W(uy,R);function rc(o,u,f){R.call(this,o,f),o=u||{},o.Jb&&X(this,"email",o.Jb),o.ea&&X(this,"phoneNumber",o.ea),o.credential&&X(this,"credential",o.credential),o.Zb&&X(this,"tenantId",o.Zb)}W(rc,R),rc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Sn(o,u),o},rc.prototype.toJSON=function(){return this.w()};function id(o){if(o.code){var u=o.code||"";u.indexOf(Sr)==0&&(u=u.substring(Sr.length));var f={credential:oy(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new rc(u,f,o.message)}return null}function ic(){}ic.prototype.c=null;function ik(o){return o.c||(o.c=o.b())}var ly;function od(){}W(od,ic),od.prototype.a=function(){var o=ok(this);return o?new ActiveXObject(o):new XMLHttpRequest},od.prototype.b=function(){var o={};return ok(this)&&(o[0]=!0,o[1]=!0),o};function ok(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}ly=new od;function sd(){}W(sd,ic),sd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new sk;throw Error("Unsupported browser")},sd.prototype.b=function(){return{}};function sk(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=P(this.qc,this),this.a.onerror=P(this.Sb,this),this.a.onprogress=P(this.rc,this),this.a.ontimeout=P(this.vc,this)}e=sk.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,cy(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",cy(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,cy(this,1)};function cy(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function fy(o,u,f){this.reset(o,u,f,void 0,void 0)}fy.prototype.a=null,fy.prototype.reset=function(o,u,f,d,v){delete this.a};function hy(o){this.f=o,this.b=this.c=this.a=null}function oc(o,u){this.name=o,this.value=u}oc.prototype.toString=function(){return this.name};var ak=new oc("SEVERE",1e3),dy=new oc("WARNING",900),g3=new oc("CONFIG",700),m3=new oc("FINE",500);function uk(o){return o.c?o.c:o.a?uk(o.a):(xe("Root logger has no level set."),null)}hy.prototype.log=function(o,u,f){if(o.value>=uk(this).value)for(b(u)&&(u=u()),o=new fy(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var py={},ad=null;function vy(o){ad||(ad=new hy(""),py[""]=ad,ad.c=g3);var u;if(!(u=py[o])){u=new hy(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=vy(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,py[o]=u}return u}function cr(o,u){o&&o.log(m3,u,void 0)}function ud(o){this.f=o}W(ud,ic),ud.prototype.a=function(){return new ld(this.f)},ud.prototype.b=function(o){return function(){return o}}({});function ld(o){on.call(this),this.u=o,this.h=void 0,this.readyState=gy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=vy("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}W(ld,on);var gy=0;e=ld.prototype,e.open=function(o,u){if(this.readyState!=gy)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,ac(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,sc(this)),this.readyState=gy},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,ac(this)),this.a&&(this.readyState=3,ac(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,lk(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function lk(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?sc(this):ac(this),this.readyState==3&&lk(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,sc(this))},e.sc=function(o){this.a&&(this.response=o,sc(this))},e.Ua=function(o){var u=this.i;u&&u.log(dy,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&sc(this)};function sc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,ac(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(dy,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(dy,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function ac(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ld.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function uc(o){on.call(this),this.headers=new Ba,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ck,this.u=this.S=!1}W(uc,on);var ck="";uc.prototype.b=vy("goog.net.XhrIo");var y3=/^https?$/i,_3=["POST","PUT"];function w3(o,u,f,d,v){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():ly.a(),o.C=o.D?ik(o.D):ik(ly),o.a.onreadystatechange=P(o.Vb,o);try{cr(o.b,Ci(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(E){cr(o.b,Ci(o,"Error opening Xhr: "+E.message)),fk(o,E);return}u=d||"";var _=new Ba(o.headers);v&&k4(v,function(E,k){_.set(k,E)}),v=qU(_.Y()),d=c.FormData&&u instanceof c.FormData,!Ii(_3,f)||v||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(E,k){this.a.setRequestHeader(k,E)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{pk(o),0<o.g&&(o.u=E3(o.a),cr(o.b,Ci(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=P(o.Ma,o)):o.s=Am(o.Ma,o.g,o)),cr(o.b,Ci(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(E){cr(o.b,Ci(o,"Send error: "+E.message)),fk(o,E)}}function E3(o){return Cr&&PT(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function b3(o){return o.toLowerCase()=="content-type"}e=uc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cr(this.b,Ci(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function fk(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,hk(o),cd(o)}function hk(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(cr(this.b,Ci(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),cd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),cd(this,!0)),uc.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?dk(this):this.Jc())},e.Jc=function(){dk(this)};function dk(o){if(o.c&&typeof l<"u"){if(o.C[1]&&lc(o)==4&&fd(o)==2)cr(o.b,Ci(o,"Local request error detected and ignored"));else if(o.i&&lc(o)==4)Am(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),lc(o)==4){cr(o.b,Ci(o,"Request complete")),o.c=!1;try{var u=fd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var v;if(v=u===0){var _=String(o.l).match(sS)[1]||null;if(!_&&c.self&&c.self.location){var E=c.self.location.protocol;_=E.substr(0,E.length-1)}v=!y3.test(_?_.toLowerCase():"")}d=v}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<lc(o)?o.a.statusText:""}catch(x){cr(o.b,"Can not get status: "+x.message),k=""}o.h=k+" ["+fd(o)+"]",hk(o)}}finally{cd(o)}}}}function cd(o,u){if(o.a){pk(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(v){(o=o.b)&&o.log(ak,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function pk(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function lc(o){return o.a?o.a.readyState:0}function fd(o){try{return 2<lc(o)?o.a.status:-1}catch{return-1}}function I3(o){try{return o.a?o.a.responseText:""}catch(u){return cr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ck:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(ak,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return cr(this.b,"Can not get response: "+u.message),null}};function Ci(o,u){return u+" ["+o.R+" "+o.l+" "+fd(o)+"]"}function Ps(o){var u=k3;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ps.prototype.cancel=function(o){if(this.a)this.c instanceof Ps&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new fc,hd(this),cc(this,!1,o))}},Ps.prototype.m=function(o,u){this.i=!1,cc(this,o,u)};function cc(o,u,f){o.a=!0,o.c=f,o.f=!u,gk(o)}function hd(o){if(o.a){if(!o.v)throw new dd;o.v=!1}}function T3(o,u){my(o,null,u,void 0)}function my(o,u,f,d){o.g.push([u,f,d]),o.a&&gk(o)}Ps.prototype.then=function(o,u,f){var d,v,_=new me(function(E,k){d=E,v=k});return my(this,d,function(E){E instanceof fc?_.cancel():v(E)}),_.then(o,u,f)},Ps.prototype.$goog_Thenable=!0;function vk(o){return $U(o.g,function(u){return b(u[1])})}function gk(o){if(o.h&&o.a&&vk(o)){var u=o.h,f=pd[u];f&&(c.clearTimeout(f.a),delete pd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var v=o.g.shift(),_=v[0],E=v[1];if(v=v[2],_=o.f?E:_)try{var k=_.call(v||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),(K(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(x){u=x,o.f=!0,vk(o)||(f=!0)}}o.c=u,d&&(k=P(o.m,o,!0),d=P(o.m,o,!1),u instanceof Ps?(my(u,k,d),u.C=!0):u.then(k,d)),f&&(u=new mk(u),pd[u.a]=u,o.h=u.a)}function dd(){ne.call(this)}W(dd,ne),dd.prototype.message="Deferred has already fired",dd.prototype.name="AlreadyCalledError";function fc(){ne.call(this)}W(fc,ne),fc.prototype.message="Deferred was canceled",fc.prototype.name="CanceledError";function mk(o){this.a=c.setTimeout(P(this.c,this),0),this.b=o}mk.prototype.c=function(){throw delete pd[this.a],this.b};var pd={};function yy(o){var u={},f=u.document||document,d=_T(o).toString(),v=jh(document,"SCRIPT"),_={Wb:v,Ma:void 0},E=new Ps(_),k=null,x=u.timeout!=null?u.timeout:5e3;return 0<x&&(k=window.setTimeout(function(){vd(v,!0);var M=new _y(N3,"Timeout reached for loading script "+d);hd(E),cc(E,!1,M)},x),_.Ma=k),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(vd(v,u.xd||!1,k),hd(E),cc(E,!0,null))},v.onerror=function(){vd(v,!0,k);var M=new _y(C3,"Error while loading script "+d);hd(E),cc(E,!1,M)},_=u.attributes||{},Sn(_,{type:"text/javascript",charset:"UTF-8"}),OT(v,_),r4(v,o),S3(f).appendChild(v),E}function S3(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function k3(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&vd(o,!0,this.Ma)}}function vd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var C3=0,N3=1;function _y(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),ne.call(this,f),this.code=o}W(_y,ne);function gd(o){this.f=o}W(gd,ic),gd.prototype.a=function(){return new this.f},gd.prototype.b=function(){return{}};function Rr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||A3,this.g=oo(o.secureTokenHeaders||R3),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||P3,this.a=oo(o.firebaseHeaders||D3),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Jr()=="Node",f=c.XMLHttpRequest||f&&ee.INTERNAL.node&&ee.INTERNAL.node.XMLHttpRequest,!f&&!Nr())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Nr()?this.f=new ud(self):yS()?this.f=new gd(f):this.f=new sd,this.b=null}var wy,Pr="idToken",A3=new lo(3e4,6e4),R3={"Content-Type":"application/x-www-form-urlencoded"},P3=new lo(3e4,6e4),D3={"Content-Type":"application/json"};function yk(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Ya(o,u){u&&(o.l=Ey("https://securetoken.googleapis.com/v1/token",u),o.h=Ey("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Ey("https://identitytoolkit.googleapis.com/v2/",u))}function Ey(o,u){return o=Nn(o),u=Nn(u.url),o.f=o.a+o.f,zl(o,u.c),o.a=u.a,Gl(o,u.g),o.toString()}function _k(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Rr.prototype.T=function(){return this.b};function wk(o,u,f,d,v,_,E){M4()||Nr()?o=P(o.u,o):(wy||(wy=new me(function(k,x){x3(k,x)})),o=P(o.s,o)),o(u,f,d,v,_,E)}Rr.prototype.u=function(o,u,f,d,v,_){if(Nr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new uc(this.f);if(_){E.g=Math.max(0,_);var k=setTimeout(function(){E.dispatchEvent("timeout")},_)}rS(E,"complete",function(){k&&clearTimeout(k);var x=null;try{x=JSON.parse(I3(this))||null}catch{x=null}u&&u(x)}),Nm(E,"ready",function(){k&&clearTimeout(k),YT(this)}),Nm(E,"timeout",function(){k&&clearTimeout(k),YT(this),u&&u(null)}),w3(E,o,f,d,v)};var O3=new Yr(Lh,"https://apis.google.com/js/client.js?onload=%{onload}"),Ek="__fcb"+Math.floor(1e6*Math.random()).toString();function x3(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[Ek]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=cm(O3,{onload:Ek});T3(yy(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Rr.prototype.s=function(o,u,f,d,v){var _=this;wy.then(function(){window.gapi.client.setApiKey(_.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:v,authType:"none",callback:function(k){window.gapi.auth.setToken(E),u&&u(k)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function L3(o,u){return new me(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?wk(o,o.l+"?key="+encodeURIComponent(o.c),function(v){v?v.error?d(Ay(v)):v.access_token&&v.refresh_token?f(v):d(new R("internal-error")):d(new R("network-request-failed"))},"POST",uS(u).toString(),o.g,o.m.get()):d(new R("internal-error"))})}function bk(o,u,f,d,v,_,E){var k=Nn(u+f);at(k,"key",o.c),E&&at(k,"cb",H().toString());var x=d=="GET";if(x)for(var M in v)v.hasOwnProperty(M)&&at(k,M,v[M]);return new me(function(se,Re){wk(o,k.toString(),function(Se){Se?Se.error?Re(Ay(Se,_||{})):se(Se):Re(new R("network-request-failed"))},d,x?void 0:fS(ES(v)),o.a,o.v.get())})}function Ds(o){if(o=o.email,typeof o!="string"||!j4.test(o))throw new R("invalid-email")}function Ik(o){"email"in o&&Ds(o)}function M3(o,u){return ye(o,H3,{identifier:u,continueUri:Qh()?Kl():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function F3(o){return ye(o,ij,{}).then(function(u){return u.authorizedDomains||[]})}function An(o){if(!o[Pr])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,oo(o)):new R("internal-error")}function by(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}Rr.prototype.zb=function(){return ye(this,uj,{})},Rr.prototype.Bb=function(o,u){return ye(this,kk,{idToken:o,email:u})},Rr.prototype.Cb=function(o,u){return ye(this,Ck,{idToken:o,password:u})};var U3={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Rr.prototype,e.Db=function(o,u){var f={idToken:o},d=[];return pT(U3,function(v,_){var E=u[_];E===null?d.push(v):_ in u&&(f[_]=E)}),d.length&&(f.deleteAttribute=d),ye(this,kk,f)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Sn(o,u),ye(this,rj,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Sn(o,u),ye(this,ej,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Sn(o,u),ye(this,tj,o)},e.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Sn(o,f),ye(this,nj,o)};function j3(o,u){return ye(o,aj,u)}e.fb=function(o){return ye(this,vj,o)};function V3(o,u){return ye(o,lj,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function Tk(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function B3(o,u){return ye(o,cj,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function $3(o,u,f){return ye(o,K3,{idToken:u,deleteProvider:f})}function Iy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function Ty(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new bs(o.postBody),Dm(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function Sk(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=id(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=id(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=id(o)):o.errorMessage&&(u=Ak(o.errorMessage)),u)throw u;An(o)}function Sy(o,u){return u.returnIdpCredential=!0,ye(o,fj,u)}function ky(o,u){return u.returnIdpCredential=!0,ye(o,dj,u)}function Cy(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,ye(o,hj,u)}function Ny(o){if(!o.oobCode)throw new R("invalid-action-code")}e.nb=function(o,u){return ye(this,sj,{oobCode:o,newPassword:u})},e.Ra=function(o){return ye(this,z3,{oobCode:o})},e.jb=function(o){return ye(this,q3,{oobCode:o})};var q3={endpoint:"setAccountInfo",A:Ny,Z:"email",B:!0},z3={endpoint:"resetPassword",A:Ny,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},G3={endpoint:"signupNewUser",A:function(o){if(Ds(o),!o.password)throw new R("weak-password")},G:An,V:!0,B:!0},H3={endpoint:"createAuthUri",B:!0},W3={endpoint:"deleteAccount",N:["idToken"]},K3={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},Q3={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Ds,G:An,V:!0,B:!0},Y3={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Ds,G:An,V:!0},X3={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:Tk,G:An,B:!0,Na:!0},J3={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:Tk,G:An,B:!0,Na:!0},Z3={endpoint:"getAccountInfo"},ej={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");Ds(o)},Z:"email",B:!0},tj={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},nj={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},rj={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");Ds(o)},Z:"email",B:!0},ij={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},oj={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},sj={endpoint:"resetPassword",A:Ny,Z:"email",B:!0},aj={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},kk={endpoint:"setAccountInfo",N:["idToken"],A:Ik,V:!0},Ck={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(Ik(o),!o.password)throw new R("weak-password")},G:An,V:!0},uj={endpoint:"signupNewUser",G:An,V:!0,B:!0},lj={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},cj={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},fj={endpoint:"verifyAssertion",A:Iy,Ya:Ty,G:Sk,V:!0,B:!0},hj={endpoint:"verifyAssertion",A:Iy,Ya:Ty,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw Ak(o.errorMessage);An(o)},V:!0,B:!0},dj={endpoint:"verifyAssertion",A:function(o){if(Iy(o),!o.idToken)throw new R("internal-error")},Ya:Ty,G:Sk,V:!0},pj={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:An,V:!0,B:!0},Nk={endpoint:"verifyPassword",A:function(o){if(Ds(o),!o.password)throw new R("wrong-password")},G:An,V:!0,B:!0},vj={endpoint:"verifyPhoneNumber",A:by,G:An,B:!0},gj={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");by(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",id(o);An(o)}},mj={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:by,G:An,B:!0},yj={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Pr]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function ye(o,u,f){if(!H4(f,u.N))return Ge(new R("internal-error"));var d=!!u.Na,v=u.Ub||"POST",_;return re(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?bk(o,o.i,u.endpoint,v,f,u.Hb,u.lb||!1):bk(o,o.h,u.endpoint,v,f,u.Hb,u.lb||!1)}).then(function(E){return _=E,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function Ak(o){return Ay({error:{errors:[{message:o}],code:400,message:o}})}function Ay(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new R(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Sn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var v in d)if(f.indexOf(v)===0)return new R(d[v],u);return!u&&o&&(u=Yl(o)),new R("internal-error",u)}function _j(o){this.b=o,this.a=null,this.rb=wj(this)}function wj(o){return kj().then(function(){return new me(function(u,f){He("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},Sj.get());d.ping(v).then(v,function(){f(Error("Network Error"))})})})})}function Ej(o,u){return o.rb.then(function(){return new me(function(f){o.a.send(u.type,u,f,He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function bj(o,u){o.rb.then(function(){o.a.register("authEvent",u,He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Ij=new Yr(Lh,"https://apis.google.com/js/api.js?onload=%{onload}"),Tj=new lo(3e4,6e4),Sj=new lo(5e3,15e3),md=null;function kj(){return md||(md=new me(function(o,u){function f(){IS(),He("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){IS(),u(Error("Network Error"))},timeout:Tj.get()})}if(He("gapi.iframes.Iframe"))o();else if(He("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){He("gapi.load")?f():u(Error("Network Error"))},d=cm(Ij,{onload:d}),re(yy(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw md=null,o}))}function Rk(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=Nn(this.g.url),o=Wh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Wh("https",this.l,null,"/__/auth/iframe"),this.a=o,at(this.a,"apiKey",this.h),at(this.a,"appName",this.i),this.b=null,this.c=[]}Rk.prototype.toString=function(){return this.f?at(this.a,"v",this.f):Xr(this.a.b,"v"),this.b?at(this.a,"eid",this.b):Xr(this.a.b,"eid"),this.c.length?at(this.a,"fw",this.c.join(",")):Xr(this.a.b,"fw"),this.a.toString()};function Ry(o,u,f,d,v,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Ry.prototype.yb=function(o){return this.h=o,this},Ry.prototype.toString=function(){if(this.v){var o=Nn(this.v.url);o=Wh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Wh("https",this.u,null,"/__/auth/handler");if(at(o,"apiKey",this.s),at(o,"appName",this.c),at(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ee.app(this.c).auth().la()}catch{f=null}u.ob=f,at(o,"providerId",this.a.providerId),f=this.a,u=ES(f.Ib);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=oo(u);for(var v=0;v<d.length;v++){var _=d[v];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),ms(u)||at(o,"customParameters",Yl(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&at(o,"scopes",f.join(","))),this.l?at(o,"redirectUrl",this.l):Xr(o.b,"redirectUrl"),this.g?at(o,"eventId",this.g):Xr(o.b,"eventId"),this.i?at(o,"v",this.i):Xr(o.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!ur(o,E)&&at(o,E,this.b[E]);return this.h?at(o,"tid",this.h):Xr(o.b,"tid"),this.f?at(o,"eid",this.f):Xr(o.b,"eid"),E=Py(this.c),E.length&&at(o,"fw",E.join(",")),o.toString()};function Py(o){try{return ee.app(o).auth().Ga()}catch{return[]}}function Pk(o,u,f,d,v,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Dk(o){var u=Kl();return F3(o).then(function(f){e:{var d=Nn(u),v=d.c;d=d.a;for(var _=0;_<f.length;_++){var E=f[_],k=d,x=v;if(E.indexOf("chrome-extension://")==0?k=Nn(E).a==k&&x=="chrome-extension":x!="http"&&x!="https"?k=!1:U4.test(E)?k=k==E:(E=E.split(".").join("\\."),k=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new uy(Kl())})}function Ok(o){return o.m||(o.m=Kh().then(function(){if(!o.u){var u=o.c,f=o.i,d=Py(o.b),v=new Rk(o.s,o.g,o.b,o.f);v.f=u,v.b=f,v.c=gs(d||[]),o.u=v.toString()}o.v=new _j(o.u),Cj(o)})),o.m}e=Pk.prototype,e.Ob=function(o,u,f){var d=new R("popup-closed-by-user"),v=new R("web-storage-unsupported"),_=this,E=!1;return this.ma().then(function(){Nj(_).then(function(k){k||(o&&Is(o),u(v),E=!0)})}).o(function(){}).then(function(){if(!E)return F4(o)}).then(function(){if(!E)return Va(f).then(function(){u(d)})})},e.Xb=function(){var o=Mt();return!Ql(o)&&!bS(o)},e.Tb=function(){return!1},e.Mb=function(o,u,f,d,v,_,E,k){if(!o)return Ge(new R("popup-blocked"));if(E&&!Ql())return this.ma().o(function(M){Is(o),v(M)}),d(),re();this.a||(this.a=Dk(xk(this)));var x=this;return this.a.then(function(){var M=x.ma().o(function(se){throw Is(o),v(se),se});return d(),M}).then(function(){if(sy(f),!E){var M=hc(x.s,x.g,x.b,u,f,null,_,x.c,void 0,x.i,k,x.f);pS(M,o)}}).o(function(M){throw M.code=="auth/network-request-failed"&&(x.a=null),M})};function xk(o){return o.l||(o.C=o.c?za(o.c,Py(o.b)):null,o.l=new Rr(o.g,wi(o.i),o.C),o.f&&Ya(o.l,o.f)),o.l}e.Nb=function(o,u,f,d){this.a||(this.a=Dk(xk(this)));var v=this;return this.a.then(function(){sy(u);var _=hc(v.s,v.g,v.b,o,u,Kl(),f,v.c,void 0,v.i,d,v.f);pS(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(v.a=null),_})},e.ma=function(){var o=this;return Ok(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.$b=function(){return!0};function hc(o,u,f,d,v,_,E,k,x,M,se,Re){return o=new Ry(o,u,f,d,v,Re),o.l=_,o.g=E,o.i=k,o.b=oo(x||null),o.f=M,o.yb(se).toString()}function Cj(o){if(!o.v)throw Error("IfcHandler must be initialized!");bj(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=rk(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",re(f)}return f.status="ERROR",re(f)})}function Nj(o){var u={type:"webStorageSupport"};return Ok(o).then(function(){return Ej(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){kr(this.h,function(u){return u==o})};function Lk(o){if(this.a=o||ee.INTERNAL.reactNative&&ee.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Lk.prototype,e.get=function(o){return re(this.a.getItem(o)).then(function(u){return u&&Ha(u)})},e.set=function(o,u){return re(this.a.setItem(o,Yl(u)))},e.U=function(o){return re(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function Mk(o){this.b=o,this.a={},this.f=P(this.c,this)}var Fk=[];function Aj(){var o=Nr()?self:null;if(Ye(Fk,function(f){f.b==o&&(u=f)}),!u){var u=new Mk(o);Fk.push(u)}return u}Mk.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var v=[];Ye(d,function(_){v.push(re().then(function(){return _(o.origin,o.data.data)}))}),BT(v).then(function(_){var E=[];Ye(_,function(k){E.push({fulfilled:k.Pb,value:k.value,reason:k.reason?k.reason.message:void 0})}),Ye(E,function(k){for(var x in k)typeof k[x]>"u"&&delete k[x]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:E})})}};function Uk(o,u,f){ms(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function jk(o){this.a=o}jk.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function Vk(o){this.c=o,this.b=!1,this.a=[]}function Bk(o,u,f,d){var v,_=f||{},E,k,x,M=null;if(o.b)return Ge(Error("connection_unavailable"));var se=d?800:50,Re=typeof MessageChannel<"u"?new MessageChannel:null;return new me(function(Se,At){Re?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),Re.port1.start(),k=setTimeout(function(){At(Error("unsupported_event"))},se),E=function(Ni){Ni.data.eventId===v&&(Ni.data.status==="ack"?(clearTimeout(k),x=setTimeout(function(){At(Error("timeout"))},3e3)):Ni.data.status==="done"?(clearTimeout(x),typeof Ni.data.response<"u"?Se(Ni.data.response):At(Error("unknown_error"))):(clearTimeout(k),clearTimeout(x),At(Error("invalid_response"))))},M={messageChannel:Re,onMessage:E},o.a.push(M),Re.port1.addEventListener("message",E),o.c.postMessage({eventType:u,eventId:v,data:_},[Re.port2])):At(Error("connection_unavailable"))}).then(function(Se){return Dy(o,M),Se}).o(function(Se){throw Dy(o,M),Se})}function Dy(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),kr(o.a,function(v){return v==u})}}Vk.prototype.close=function(){for(;0<this.a.length;)Dy(this,this.a[0]);this.b=!0};function $k(){if(!Ly())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Nr()&&self?(this.v=Aj(),Uk(this.v,"keyChanged",function(u,f){return Gk(o).then(function(d){return 0<d.length&&Ye(o.a,function(v){v(d)}),{keyProcessed:Ii(d,f.key)}})}),Uk(this.v,"ping",function(){return re(["keyChanged"])})):z4().then(function(u){(o.h=u)&&(o.g=new Vk(new jk(u)),Bk(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Ii(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Oy;function Rj(o){return new me(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(v){f(Error(v.target.error))}})}function qk(o){return new me(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}f(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?u(v):Rj(o).then(function(){return qk(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function xy(o){return o.i||(o.i=qk(o)),o.i}function yd(o,u){function f(v,_){xy(o).then(u).then(v).o(function(E){if(3<++d)_(E);else return xy(o).then(function(k){return k.close(),o.i=void 0,f(v,_)}).o(function(k){_(k)})})}var d=0;return new me(f)}function Ly(){try{return!!c.indexedDB}catch{return!1}}function dc(o){return o.objectStore("firebaseLocalStorage")}function pc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Xa(o){return new me(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=$k.prototype,e.set=function(o,u){var f=this,d=!1;return yd(this,function(v){return v=dc(pc(v,!0)),Xa(v.get(o))}).then(function(v){return yd(f,function(_){if(_=dc(pc(_,!0)),v)return v.value=u,Xa(_.put(v));f.b++,d=!0;var E={};return E.fbase_key=o,E.value=u,Xa(_.add(E))})}).then(function(){return f.c[o]=u,zk(f,o)}).oa(function(){d&&f.b--})};function zk(o,u){return o.g&&o.h&&q4()===o.h?Bk(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):re()}e.get=function(o){return yd(this,function(u){return Xa(dc(pc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return yd(this,function(d){return f=!0,u.b++,Xa(dc(pc(d,!0)).delete(o))}).then(function(){return delete u.c[o],zk(u,o)}).oa(function(){f&&u.b--})};function Gk(o){return xy(o).then(function(u){var f=dc(pc(u,!1));return f.getAll?Xa(f.getAll()):new me(function(d,v){var _=[],E=f.openCursor();E.onsuccess=function(k){(k=k.target.result)?(_.push(k.value),k.continue()):d(_)},E.onerror=function(k){v(k.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=vS(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&Pj(this),this.a.push(o)},e.ia=function(o){kr(this.a,function(u){return u==o}),this.a.length==0&&Hk(this)};function Pj(o){function u(){o.f=setTimeout(function(){o.l=Gk(o).then(function(f){0<f.length&&Ye(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}Hk(o),u()}function Hk(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function Wk(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=re().then(function(){if(Ly()){var d=Ss(),v="__sak"+d;return Oy||(Oy=new $k),f=Oy,f.set(v,d).then(function(){return f.get(v)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(v)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(v){Ye(u.a,function(_){_(v)})}),d})}e=Wk.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){kr(this.a,function(u){return u==o})};function vc(){this.a={},this.type="inMemory"}e=vc.prototype,e.get=function(o){return re(this.a[o])},e.set=function(o,u){return this.a[o]=u,re()},e.U=function(o){return delete this.a[o],re()},e.ca=function(){},e.ia=function(){};function _d(){if(!Dj())throw Jr()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=Kk()||ee.INTERNAL.node.localStorage,this.type="localStorage"}function Kk(){try{var o=c.localStorage,u=Ss();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function Dj(){var o=Jr()=="Node";if(o=Kk()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=_d.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return Ha(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=Yl(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&ar(c.window,"storage",o)},e.ia=function(o){c.window&&qn(c.window,"storage",o)};function My(){this.type="nullStorage"}e=My.prototype,e.get=function(){return re(null)},e.set=function(){return re()},e.U=function(){return re()},e.ca=function(){},e.ia=function(){};function Fy(){if(!Oj())throw Jr()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=Qk()||ee.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qk(){try{var o=c.sessionStorage,u=Ss();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function Oj(){var o=Jr()=="Node";if(o=Qk()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Fy.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return Ha(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=Yl(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function xj(){var o={};o.Browser=Lj,o.Node=Mj,o.ReactNative=Fj,o.Worker=Uj,this.a=o[Jr()]}var Uy,Lj={F:_d,bb:Fy},Mj={F:_d,bb:Fy},Fj={F:Lk,bb:My},Uj={F:_d,bb:My},Ja={rd:"local",NONE:"none",td:"session"};function jj(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(d in Ja)if(Ja[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(Jr()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!Ly()&&o!=="none")throw f;break;default:if(!Um()&&o!=="none")throw f}}function Yk(){var o=!!(!bS(Mt())&&Mm()),u=Ql(),f=Um();this.m=o,this.h=u,this.l=f,this.a={},Uy||(Uy=new xj),o=Uy;try{this.g=!xm()&&TS()||!c.indexedDB?new o.a.F:new Wk(Nr()?new vc:new o.a.F)}catch{this.g=new vc,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new vc}this.v=new vc,this.f=P(this.Yb,this),this.b={}}var jy;function gc(){return jy||(jy=new Yk),jy}function Os(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function Za(o,u){return"firebase:"+o.name+(u?":"+u:"")}function Vj(o,u,f){var d=Za(u,f),v=Os(o,u.F);return o.get(u,f).then(function(_){var E=null;try{E=Ha(c.localStorage.getItem(d))}catch{}if(E&&!_)return c.localStorage.removeItem(d),o.set(u,E,f);E&&_&&v.type!="localStorage"&&c.localStorage.removeItem(d)})}e=Yk.prototype,e.get=function(o,u){return Os(this,o.F).get(Za(o,u))};function eu(o,u,f){return f=Za(u,f),u.F=="local"&&(o.b[f]=null),Os(o,u.F).U(f)}e.set=function(o,u,f){var d=Za(o,f),v=this,_=Os(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(E){o.F=="local"&&(v.b[d]=E)})},e.addListener=function(o,u,f){o=Za(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),ms(this.a)&&(Os(this,"local").ca(this.f),this.h||(xm()||!TS())&&c.indexedDB||!this.l||Bj(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=Za(o,u),this.a[o]&&(kr(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),ms(this.a)&&(Os(this,"local").ia(this.f),Vy(this))};function Bj(o){Vy(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new ws({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Yb(f))}},1e3)}function Vy(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var v=c.localStorage.getItem(f);v!==d&&(this.b[f]=v,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Os(this,"local").ia(this.f):Vy(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.mb(u))},Cr&&so&&so==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Ye(o,P(this.mb,this))},e.mb=function(o){this.a[o]&&Ye(this.a[o],function(u){u()})};function $j(o){this.a=o,this.b=gc()}var By={name:"authEvent",F:"local"};function qj(o){return o.b.get(By,o.a).then(function(u){return rk(u)})}function zj(){this.a=gc()}function Gj(){this.b=-1}function wd(o,u){this.b=Xk,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Ed===void 0&&(c.Int32Array?Ed=new Int32Array(eC):Ed=eC),this.reset()}var Ed;W(wd,Gj);for(var Xk=64,Hj=Xk-1,Jk=[],$y=0;$y<Hj;$y++)Jk[$y]=0;var Zk=am(128,Jk);wd.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):gs(this.h)};function qy(o){for(var u=o.f,f=o.l,d=0,v=0;v<u.length;)f[d++]=u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3],v=4*d;for(u=16;64>u;u++){v=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,E=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+E|0}d=o.a[0]|0,v=o.a[1]|0;var k=o.a[2]|0,x=o.a[3]|0,M=o.a[4]|0,se=o.a[5]|0,Re=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Se=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&k^v&k)|0;E=M&se^~M&Re,_=_+((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))|0,E=E+(Ed[u]|0)|0,E=_+(E+(f[u]|0)|0)|0,_=Re,Re=se,se=M,M=x+E|0,x=k,k=v,v=d,d=E+Se|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+v|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+x|0,o.a[4]=o.a[4]+M|0,o.a[5]=o.a[5]+se|0,o.a[6]=o.a[6]+Re|0,o.a[7]=o.a[7]+_|0}function zy(o,u,f){f===void 0&&(f=u.length);var d=0,v=o.c;if(typeof u=="string")for(;d<f;)o.f[v++]=u.charCodeAt(d++),v==o.b&&(qy(o),v=0);else if(w(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[v++]=_,v==o.b&&(qy(o),v=0)}else throw Error("message must be string or array");o.c=v,o.g+=f}var eC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function tC(){wd.call(this,8,Wj)}W(tC,wd);var Wj=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function nC(o,u,f,d,v,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=v||null,this.s=_,this.h=u+":"+f,this.C=new zj,this.g=new $j(this.h),this.f=null,this.b=[],this.a=this.c=null}function bd(o){return new R("invalid-cordova-configuration",o)}e=nC.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=V4().then(function(){if(typeof He("universalLinks.subscribe",c)!="function")throw bd("cordova-universal-links-plugin-fix is not installed");if(typeof He("BuildInfo.packageName",c)>"u")throw bd("cordova-plugin-buildinfo is not installed");if(typeof He("cordova.plugins.browsertab.openUrl",c)!="function")throw bd("cordova-plugin-browsertab is not installed");if(typeof He("cordova.InAppBrowser.open",c)!="function")throw bd("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function Kj(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function Qj(o){var u=new tC;zy(u,o),o=[];var f=8*u.g;56>u.c?zy(u,Zk,56-u.c):zy(u,Zk,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(qy(u),d=f=0;d<u.i;d++)for(var v=24;0<=v;v-=8)o[f++]=u.a[d]>>v&255;return s3(o)}e.Ob=function(o,u){return u(new R("operation-not-supported-in-this-environment")),re()},e.Mb=function(){return Ge(new R("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,f,d){if(this.c)return Ge(new R("redirect-operation-pending"));var v=this,_=c.document,E=null,k=null,x=null,M=null;return this.c=re().then(function(){return sy(u),iC(v)}).then(function(){return Yj(v,o,u,f,d)}).then(function(){return new me(function(se,Re){k=function(){var Se=He("cordova.plugins.browsertab.close",c);return se(),typeof Se=="function"&&Se(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(k),x=function(){E||(E=Va(2e3).then(function(){Re(new R("redirect-cancelled-by-user"))}))},M=function(){jm()&&x()},_.addEventListener("resume",x,!1),Mt().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",M,!1)}).o(function(se){return Gy(v).then(function(){throw se})})}).oa(function(){x&&_.removeEventListener("resume",x,!1),M&&_.removeEventListener("visibilitychange",M,!1),E&&E.cancel(),k&&v.Sa(k),v.c=null})};function Yj(o,u,f,d,v){var _=Kj(),E=new Ar(u,d,null,_,new R("no-auth-event"),null,v),k=He("BuildInfo.packageName",c);if(typeof k!="string")throw new R("invalid-cordova-configuration");var x=He("BuildInfo.displayName",c),M={};if(Mt().toLowerCase().match(/iphone|ipad|ipod/))M.ibi=k;else if(Mt().toLowerCase().match(/android/))M.apn=k;else return Ge(new R("operation-not-supported-in-this-environment"));x&&(M.appDisplayName=x),_=Qj(_),M.sessionId=_;var se=hc(o.v,o.i,o.l,u,f,null,d,o.m,M,o.u,v,o.s);return o.ma().then(function(){var Re=o.h;return o.C.a.set(By,E.w(),Re)}).then(function(){var Re=He("cordova.plugins.browsertab.isAvailable",c);if(typeof Re!="function")throw new R("invalid-cordova-configuration");var Se=null;Re(function(At){if(At){if(Se=He("cordova.plugins.browsertab.openUrl",c),typeof Se!="function")throw new R("invalid-cordova-configuration");Se(se)}else{if(Se=He("cordova.InAppBrowser.open",c),typeof Se!="function")throw new R("invalid-cordova-configuration");At=Mt(),o.a=Se(se,At.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||At.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function rC(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function iC(o){return o.f||(o.f=o.ma().then(function(){return new me(function(u){function f(d){return u(d),o.Sa(f),!1}o.Ea(f),Xj(o)})})),o.f}function Gy(o){var u=null;return qj(o.g).then(function(f){return u=f,f=o.g,eu(f.b,By,f.a)}).then(function(){return u})}function Xj(o){function u(E){d=!0,v&&v.cancel(),Gy(o).then(function(k){var x=f;if(k&&E&&E.url){var M=null;x=QS(E.url),x.indexOf("/__/auth/callback")!=-1&&(M=Nn(x),M=Ha(ur(M,"firebaseError")||null),M=(M=typeof M=="object"?ro(M):null)?new Ar(k.c,k.b,null,null,M,null,k.T()):new Ar(k.c,k.b,x,k.f,null,null,k.T())),x=M||f}rC(o,x)})}var f=new Ar("unknown",null,null,null,new R("no-auth-event")),d=!1,v=Va(500).then(function(){return Gy(o).then(function(){d||rC(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(E){if(E.toLowerCase().indexOf(He("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:E}),typeof _=="function")try{_(E)}catch(k){console.error(k)}},ay||(ay=new p3),v3(u)}e.Ea=function(o){this.b.push(o),iC(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Ar("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Sa=function(o){kr(this.b,function(u){return u==o})};function Jj(o){this.a=o,this.b=gc()}var Hy={name:"pendingRedirect",F:"session"};function Zj(o){return o.b.set(Hy,"pending",o.a)}function Wy(o){return eu(o.b,Hy,o.a)}function eV(o){return o.b.get(Hy,o.a).then(function(u){return u=="pending"})}function Id(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=P(this.s,this),this.b=new Td,this.C=new gC,this.g=new Jj(hC(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=oC(this.D,this.v,this.m,Ei,this.J)}function oC(o,u,f,d,v){var _=ee.SDK_VERSION||null;return Lm()?new nC(o,u,f,_,d,v):new Pk(o,u,f,_,d,v)}Id.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=oC(this.D,this.v,this.m,null,this.J),this.i={}};function sC(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function aC(o){o.a.Xb()&&sC(o).o(function(u){var f=new Ar("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Qy(u)&&o.s(f)}),o.a.Tb()||pC(o.b)}function Ky(o,u){Ii(o.h,u)||o.h.push(u),o.f||eV(o.g).then(function(f){f?Wy(o.g).then(function(){sC(o).o(function(d){var v=new Ar("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Qy(d)&&o.s(v)})}):aC(o)}).o(function(){aC(o)})}function uC(o,u){kr(o.h,function(f){return f==u})}Id.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=H()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=H())),u=!0;break}}return pC(this.b),u};var tV=new lo(2e3,1e4),nV=new lo(3e4,6e4);Id.prototype.qa=function(){return this.b.qa()};function lC(o,u,f,d,v,_,E){return o.a.Mb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},v,_,E)}function Qy(o){return!!(o&&o.code=="auth/cordova-not-ready")}function cC(o,u,f,d,v){var _;return Zj(o.g).then(function(){return o.a.Nb(u,f,d,v).o(function(E){if(Qy(E))throw new R("operation-not-supported-in-this-environment");return _=E,Wy(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new me(function(){}):Wy(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function fC(o,u,f,d,v){return o.a.Ob(d,function(_){u.na(f,null,_,v)},tV.get())}var Yy={};function hC(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function dC(o,u,f,d){var v=hC(u,f,d);return Yy[v]||(Yy[v]=new Id(o,u,f,d)),Yy[v]}function Td(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Td.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Td.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,v=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!_),f!="unknown"||v||_?o.a?(xs(this,!0,null,o.a),re()):u.Fa(f,d)?rV(this,o,u):Ge(new R("invalid-auth-event")):(xs(this,!1,null,null),re())}else Ge(new R("invalid-auth-event"))};function pC(o){o.g||(o.g=!0,xs(o,!1,null,null))}function Sd(o){o.g&&!o.i&&xs(o,!1,null,null)}function rV(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,v=u.f,_=u.i,E=u.T(),k=!!u.c.match(/Redirect$/);f(d,v,E,_).then(function(x){xs(o,k,x,null)}).o(function(x){xs(o,k,null,x)})}function iV(o,u){if(o.b=function(){return Ge(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function vC(o,u){if(o.b=function(){return re(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function xs(o,u,f,d){u?d?iV(o,d):vC(o,f):vC(o,{user:null}),o.f=[],o.c=[]}Td.prototype.qa=function(){var o=this;return new me(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),oV(o))})};function oV(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=Va(nV.get()).then(function(){o.b||(o.g=!0,xs(o,!0,null,u))})}function gC(){}gC.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),re()):u.Fa(f,d)?sV(o,u):Ge(new R("invalid-auth-event"))}else Ge(new R("invalid-auth-event"))};function sV(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(v){u.na(d,v,null,f)}).o(function(v){u.na(d,null,v,f)})}function mC(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function Xy(o,u){this.a=u,X(this,"verificationId",o)}Xy.prototype.confirm=function(o){return o=nk(this.verificationId,o),this.a(o)};function Jy(o,u,f,d){return new ki(o).fb(u,f).then(function(v){return new Xy(v,d)})}function aV(o){var u=BS(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");sn(this,{token:o,expirationTime:Xl(1e3*u.exp),authTime:Xl(1e3*u.auth_time),issuedAtTime:Xl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Zy(o,u,f){var d=u&&u[_C];if(!d)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=oo(u),this.g=f,this.c=new nd(null,d),this.b=[];var v=this;Ye(u[yC]||[],function(_){(_=Gm(_))&&v.b.push(_)}),X(this,"auth",this.a),X(this,"session",this.c),X(this,"hints",this.b)}var yC="mfaInfo",_C="mfaPendingCredential";Zy.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var d=oo(u.f);return delete d[yC],delete d[_C],Sn(d,f),u.g(d)})};function e0(o,u,f,d){R.call(this,"multi-factor-auth-required",d,u),this.b=new Zy(o,u,f),X(this,"resolver",this.b)}W(e0,R);function wC(o,u,f){if(o&&C(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new e0(u,o.serverResponse,f,o.message)}catch{}return null}function EC(){}EC.prototype.sb=function(o,u,f){return u.type==tc?uV(this,o,u,f):lV(this,o,u)};function uV(o,u,f,d){return f.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),Sn(v,{phoneVerificationInfo:nc(o.a)}),ye(u,X3,v)})}function lV(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Sn(d,{phoneVerificationInfo:nc(o.a)}),ye(u,J3,d)})}function t0(o){X(this,"factorId",o.fa),this.a=o}W(t0,EC);function bC(o){if(t0.call(this,o),this.a.fa!=ki.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}W(bC,t0);function tu(o,u){Cn.call(this,o);for(var f in u)this[f]=u[f]}W(tu,Cn);function n0(o,u){this.a=o,this.b=[],this.c=P(this.yc,this),ar(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Ye(u.multiFactor.enrolledFactors,function(d){var v=null,_={};if(d){d.uid&&(_[Wm]=d.uid),d.displayName&&(_[kS]=d.displayName),d.enrollmentTime&&(_[Hm]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[Km]=d.phoneNumber);try{v=new Jl(_)}catch{}d=v}else d=null;d&&f.push(d)}),kd(this,f)}function cV(o){var u=[];return Ye(o.mfaInfo||[],function(f){(f=Gm(f))&&u.push(f)}),u}e=n0.prototype,e.yc=function(o){kd(this,cV(o.hd))};function kd(o,u){o.b=u,X(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new nd(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Rb().then(function(v){return o.sb(d,v,u)}).then(function(v){return ti(f.a,v),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(v){return ye(d,yj,{idToken:v,mfaEnrollmentId:f})}).then(function(v){var _=BU(u.b,function(E){return E.uid!=f});return kd(u,_),ti(u.a,v),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:Oh(this.b,function(o){return o.w()})}}};function r0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}r0.prototype.start=function(){this.a=this.c,i0(this,!0)};function fV(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function i0(o,u){o.stop(),o.b=Va(fV(o,u)).then(function(){return $4()}).then(function(){return o.h()}).then(function(){i0(o,!0)}).o(function(f){o.i(f)&&i0(o,!1)})}r0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function o0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}o0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function IC(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function TC(o,u){o.b=ed(u[Pr]||""),o.a=u.refreshToken,u=u.expiresIn,IC(o,typeof u<"u"?Number(u):void 0)}function hV(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function dV(o,u){return L3(o.f,u).then(function(f){return o.b=ed(f.access_token),o.a=f.refresh_token,IC(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}o0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?Ge(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?dV(this,{grant_type:"refresh_token",refresh_token:this.a}):re(null):re({accessToken:this.b.toString(),refreshToken:this.a})};function Cd(o,u){this.a=o||null,this.b=u||null,sn(this,{lastSignInTime:Xl(u||null),creationTime:Xl(o||null)})}function pV(o){return new Cd(o.a,o.b)}Cd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function vV(o,u,f,d,v,_){sn(this,{uid:o,displayName:d||null,photoURL:v||null,email:f||null,phoneNumber:_||null,providerId:u})}function Gn(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=ee.SDK_VERSION?za(ee.SDK_VERSION):null;this.a=new Rr(this.l,wi(Ei),d),o.emulatorConfig&&Ya(this.a,o.emulatorConfig),this.b=new o0(this.a),f0(this,u[Pr]),TC(this.b,u),X(this,"refreshToken",this.b.a),kC(this,f||{}),on.call(this),this.R=!1,this.s&&Ts()&&(this.i=dC(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=gV(this),this.aa=P(this.hb,this);var v=this;this.ya=null,this.Oa=function(_){v.wa(_.h)},this.ja=null,this.Aa=function(_){Ya(v.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){mc(v,_.f)},this.ba=null,this.O=new n0(this,f),X(this,"multiFactor",this.O)}W(Gn,on),Gn.prototype.wa=function(o){this.ya=o,yk(this.a,o)},Gn.prototype.la=function(){return this.ya};function s0(o,u){o.ja&&qn(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&ar(u,"languageCodeChanged",o.Oa)}function a0(o,u){o.X&&qn(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&ar(u,"emulatorConfigChanged",o.Aa)}function mc(o,u){o.$=u,_k(o.a,ee.SDK_VERSION?za(ee.SDK_VERSION,o.$):null)}Gn.prototype.Ga=function(){return gs(this.$)};function u0(o,u){o.ba&&qn(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&ar(u,"frameworkChanged",o.Ba)}Gn.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function l0(o){try{return ee.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function gV(o){return new r0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function SC(o){o.D||o.u.b||(o.u.start(),qn(o,"tokenChanged",o.aa),ar(o,"tokenChanged",o.aa))}function c0(o){qn(o,"tokenChanged",o.aa),o.u.stop()}function f0(o,u){o.za=u,X(o,"_lat",u)}function mV(o,u){kr(o.S,function(f){return f==u})}function Ls(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return BT(u).then(function(){return o})}function yc(o){o.i&&!o.R&&(o.R=!0,Ky(o.i,o))}function kC(o,u){sn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Cd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}X(Gn.prototype,"providerId","firebase");function CC(){}function h0(o){return re().then(function(){if(o.D)throw new R("app-deleted")})}function d0(o){return Oh(o.providerData,function(u){return u.providerId})}function p0(o,u){u&&(NC(o,u.providerId),o.providerData.push(u))}function NC(o,u){kr(o.providerData,function(f){return f.providerId==u})}function ho(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&X(o,u,f)}function Nd(o,u){o!=u&&(sn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?X(o,"metadata",pV(u.metadata)):X(o,"metadata",new Cd),Ye(u.providerData,function(f){p0(o,f)}),hV(o.b,u.b),X(o,"refreshToken",o.b.a),kd(o.O,u.O.b))}e=Gn.prototype,e.reload=function(){var o=this;return yt(this,h0(this).then(function(){return v0(o).then(function(){return Ls(o)}).then(CC)}))};function v0(o){return o.I().then(function(u){var f=o.isAnonymous;return yV(o,u).then(function(){return f||ho(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new aV(u)})},e.I=function(o){var u=this;return yt(this,h0(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.za&&(f0(u,f.accessToken),u.dispatchEvent(new tu("tokenChanged"))),ho(u,"refreshToken",f.refreshToken),f.accessToken}))};function ti(o,u){u[Pr]&&o.za!=u[Pr]&&(TC(o.b,u),o.dispatchEvent(new tu("tokenChanged")),f0(o,u[Pr]),ho(o,"refreshToken",o.b.a))}function yV(o,u){return ye(o.a,Z3,{idToken:u}).then(P(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],kC(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=_V(o),f=0;f<u.length;f++)p0(this,u[f]);ho(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new tu("userReloaded",{hd:o}))};function _V(o){return(o=o.providerUserInfo)&&o.length?Oh(o,function(u){return new vV(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return Vm("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,f=null;return yt(this,o.c(this.a,this.uid).then(function(d){return ti(u,d),f=_c(u,d,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function Ad(o,u){return v0(o).then(function(){if(Ii(d0(o),u))return Ls(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return Vm("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,f=null;return yt(this,Ad(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=_c(u,d,"link"),AC(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return yt(this,Ad(this,"phone").then(function(){return Jy(l0(f),o,u,P(f.qb,f))}))},e.Mc=function(o,u){var f=this;return yt(this,re().then(function(){return Jy(l0(f),o,u,P(f.tb,f))}),!0)};function _c(o,u,f){var d=oy(u);return u=qS(u),Zr({user:o,credential:d,additionalUserInfo:u,operationType:f})}function AC(o,u){return ti(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return yt(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return ti(u,f),u.reload()}))},e.ed=function(o){var u=this;return yt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return ti(u,f),u.reload()}))},e.Cb=function(o){var u=this;return yt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return ti(u,f),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return h0(this);var u=this;return yt(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return ti(u,f),ho(u,"displayName",f.displayName||null),ho(u,"photoURL",f.photoUrl||null),Ye(u.providerData,function(d){d.providerId==="password"&&(X(d,"displayName",u.displayName),X(d,"photoURL",u.photoURL))}),Ls(u)}).then(CC))},e.cd=function(o){var u=this;return yt(this,v0(this).then(function(f){return Ii(d0(u),o)?$3(u.a,f,[o]).then(function(d){var v={};return Ye(d.providerUserInfo||[],function(_){v[_.providerId]=!0}),Ye(d0(u),function(_){v[_]||NC(u,_)}),v[ki.PROVIDER_ID]||X(u,"phoneNumber",null),Ls(u)}):Ls(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return yt(this,this.I().then(function(u){return ye(o.a,W3,{idToken:u})}).then(function(){o.dispatchEvent(new tu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");s0(o,null),a0(o,null),u0(o,null),o.J=[],o.D=!0,c0(o),X(o,"refreshToken",null),o.i&&uC(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?P(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?P(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?P(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?P(this.Lb,this):null},e.Ec=function(o){var u=this;return RC(this,"linkViaPopup",o,function(){return Ad(u,o.providerId).then(function(){return Ls(u)})},!1)},e.Nc=function(o){return RC(this,"reauthViaPopup",o,function(){return re()},!0)};function RC(o,u,f,d,v){if(!Ts())return Ge(new R("operation-not-supported-in-this-environment"));if(o.h&&!v)return Ge(o.h);var _=Zm(f.providerId),E=Ss(o.uid+":::"),k=null;(!Ql()||Mm())&&o.s&&f.isOAuthProvider&&(k=hc(o.s,o.l,o.m,u,f,null,E,ee.SDK_VERSION||null,null,null,o.tenantId));var x=mS(k,_&&_.ua,_&&_.ta);return d=d().then(function(){if(DC(o),!v)return o.I().then(function(){})}).then(function(){return lC(o.i,x,u,f,E,!!k,o.tenantId)}).then(function(){return new me(function(M,se){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=M,o.C=se,o.g=E,o.c=fC(o.i,o,u,x,E)})}).then(function(M){return x&&Is(x),M?Zr(M):null}).o(function(M){throw x&&Is(x),M}),yt(o,d,v)}e.Fc=function(o){var u=this;return PC(this,"linkViaRedirect",o,function(){return Ad(u,o.providerId)},!1)},e.Oc=function(o){return PC(this,"reauthViaRedirect",o,function(){return re()},!0)};function PC(o,u,f,d,v){if(!Ts())return Ge(new R("operation-not-supported-in-this-environment"));if(o.h&&!v)return Ge(o.h);var _=null,E=Ss(o.uid+":::");return d=d().then(function(){if(DC(o),!v)return o.I().then(function(){})}).then(function(){return o.ga=E,Ls(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(g0,o.w(),k.a)),k}).then(function(){return cC(o.i,u,f,E,o.tenantId)}).o(function(k){if(_=k,o.ha)return xC(o.ha);throw _}).then(function(){if(_)throw _}),yt(o,d,v)}function DC(o){if(!o.i||!o.R)throw o.i&&!o.R?new R("internal-error"):new R("auth-domain-config-required")}e.Kb=function(o,u,f,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(E){return ky(v.a,{requestUri:o,postBody:d,sessionId:u,idToken:E})}).then(function(E){return _=_c(v,E,"link"),AC(v,E)}).then(function(){return _}),yt(this,f)},e.Lb=function(o,u,f,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null,E=re().then(function(){return Ka(Cy(v.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),v.uid)}).then(function(k){return _=_c(v,k,"reauthenticate"),ti(v,k),v.h=null,v.reload()}).then(function(){return _});return yt(this,E,!0)},e.ub=function(o){var u=this,f=null;return yt(this,this.I().then(function(d){return f=d,typeof o>"u"||ms(o)?{}:Jh(new Xh(o))}).then(function(d){return u.a.ub(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var f=this,d=null;return yt(this,this.I().then(function(v){return d=v,typeof u>"u"||ms(u)?{}:Jh(new Xh(u))}).then(function(v){return f.a.Eb(d,o,v)}).then(function(v){if(f.email!=v)return f.reload()}).then(function(){}))};function yt(o,u,f){var d=wV(o,u,f);return o.J.push(d),d.oa(function(){xh(o.J,d)}),d.o(function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=wC(v.w(),l0(o),P(o.jc,o))),_||v})}e.jc=function(o){var u=null,f=this;return o=Ka(re(o),f.uid).then(function(d){return u=_c(f,d,"reauthenticate"),ti(f,d),f.h=null,f.reload()}).then(function(){return u}),yt(this,o,!0)};function wV(o,u,f){return o.h&&!f?(u.cancel(),Ge(o.h)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new tu("userInvalidated")),o.h=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Sn(o,this.metadata.w()),Ye(this.providerData,function(u){o.providerData.push(G4(u))}),Sn(o,this.O.w()),o};function OC(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Pr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var v=new Gn(u,f,o);return o.providerData&&Ye(o.providerData,function(_){_&&p0(v,Zr(_))}),o.redirectEventId&&(v.ga=o.redirectEventId),v}function EV(o,u,f,d){var v=new Gn(o,u);return f&&(v.ha=f),d&&mc(v,d),v.reload().then(function(){return v})}function bV(o,u,f,d){var v=o.b,_={};return _[Pr]=v.b&&v.b.toString(),_.refreshToken=v.a,u=new Gn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&mc(u,d),Nd(u,o),u}function IV(o){this.a=o,this.b=gc()}var g0={name:"redirectUser",F:"session"};function xC(o){return eu(o.b,g0,o.a)}function TV(o,u){return o.b.get(g0,o.a).then(function(f){return f&&u&&(f.authDomain=u),OC(f||{})})}function m0(o){this.a=o,this.b=gc(),this.c=null,this.f=SV(this),this.b.addListener(ni("local"),this.a,P(this.g,this))}m0.prototype.g=function(){var o=this,u=ni("local");nu(this,function(){return re().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return y0(o,"local").then(function(){o.c=u})})})};function y0(o,u){var f=[],d;for(d in Ja)Ja[d]!==u&&f.push(eu(o.b,ni(Ja[d]),o.a));return f.push(eu(o.b,_0,o.a)),p4(f)}function SV(o){var u=ni("local"),f=ni("session"),d=ni("none");return Vj(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(v){return v?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(E){return E?u:o.b.get(_0,o.a).then(function(k){return k?ni(k):u})})})}).then(function(v){return o.c=v,y0(o,v.F)}).o(function(){o.c||(o.c=u)})}var _0={name:"persistence",F:"session"};function ni(o){return{name:"authUser",F:o}}m0.prototype.xb=function(o){var u=null,f=this;return jj(o),nu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,y0(f,o)}).then(function(){if(f.c=ni(o),u)return f.b.set(f.c,u,f.a)}):re()})};function kV(o){return nu(o,function(){return o.b.set(_0,o.c.F,o.a)})}function LC(o,u){return nu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function MC(o){return nu(o,function(){return eu(o.b,o.c,o.a)})}function FC(o,u,f){return nu(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),OC(d||{})})})}function nu(o,u){return o.f=o.f.then(u,u),o.f}function Dr(o){if(this.l=!1,X(this,"settings",new mC),X(this,"app",o),Le(this).options&&Le(this).options.apiKey)o=ee.SDK_VERSION?za(ee.SDK_VERSION):null,this.a=new Rr(Le(this).options&&Le(this).options.apiKey,wi(Ei),o);else throw new R("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=ee.INTERNAL.createSubscribe(P(this.zc,this)),this.X=void 0,this.bc=ee.INTERNAL.createSubscribe(P(this.Ac,this)),ru(this,null),this.i=new m0(Le(this).options.apiKey+":"+Le(this).name),this.D=new IV(Le(this).options.apiKey+":"+Le(this).name),this.$=it(this,DV(this)),this.h=it(this,OV(this)),this.ba=!1,this.ja=P(this.Zc,this),this.Ba=P(this.da,this),this.ya=P(this.mc,this),this.za=P(this.wc,this),this.Aa=P(this.xc,this),this.b=null,AV(this),this.INTERNAL={},this.INTERNAL.delete=P(this.delete,this),this.INTERNAL.logFramework=P(this.Gc,this),this.u=0,on.call(this),NV(this),this.J=[],this.P=null}W(Dr,on);function UC(o){Cn.call(this,"languageCodeChanged"),this.h=o}W(UC,Cn);function jC(o){Cn.call(this,"emulatorConfigChanged"),this.c=o}W(jC,Cn);function VC(o){Cn.call(this,"frameworkChanged"),this.f=o}W(VC,Cn),e=Dr.prototype,e.xb=function(o){return o=this.i.xb(o),it(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,yk(this.a,this.aa),this.dispatchEvent(new UC(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,CV(u),this.P={url:o,ec:u},this.settings.ib=!0,Ya(this.a,this.P),this.dispatchEvent(new jC(this.P))}};function CV(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&Kh().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),_k(this.a,ee.SDK_VERSION?za(ee.SDK_VERSION,this.J):null),this.dispatchEvent(new VC(this.J))},e.Ga=function(){return gs(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function NV(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=Nn(this.P.url);u=Zr({protocol:u.c,host:u.a,port:u.g,options:Zr({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Le(this).options.apiKey,authDomain:Le(this).options.authDomain,appName:Le(this).name,currentUser:fe(this)&&fe(this).w()}};function w0(o){return o.Oa||Ge(new R("auth-domain-config-required"))}function AV(o){var u=Le(o).options.authDomain,f=Le(o).options.apiKey;u&&Ts()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=dC(u,f,Le(o).name,o.P),Ky(o.b,o),fe(o)&&yc(fe(o)),o.m){yc(o.m);var d=o.m;d.wa(o.la()),s0(d,o),d=o.m,mc(d,o.J),u0(d,o),d=o.m,Ya(d.a,o.P),a0(d,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?P(this.ic,this):null},e.ic=function(o,u,f,d){var v=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Ms(v,Sy(v.a,_))})},e.Xc=function(o){if(!Ts())return Ge(new R("operation-not-supported-in-this-environment"));var u=this,f=Zm(o.providerId),d=Ss(),v=null;(!Ql()||Mm())&&Le(this).options.authDomain&&o.isOAuthProvider&&(v=hc(Le(this).options.authDomain,Le(this).options.apiKey,Le(this).name,"signInViaPopup",o,null,d,ee.SDK_VERSION||null,null,null,this.T(),this.P));var _=mS(v,f&&f.ua,f&&f.ta);return f=w0(this).then(function(E){return lC(E,_,"signInViaPopup",o,d,!!v,u.T())}).then(function(){return new me(function(E,k){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=E,u.C=k,u.g=d,u.c=fC(u.b,u,"signInViaPopup",_,d)})}).then(function(E){return _&&Is(_),E?Zr(E):null}).o(function(E){throw _&&Is(_),E}),it(this,f)},e.Yc=function(o){if(!Ts())return Ge(new R("operation-not-supported-in-this-environment"));var u=this,f=w0(this).then(function(){return kV(u.i)}).then(function(){return cC(u.b,"signInViaRedirect",o,void 0,u.T())});return it(this,f)};function BC(o){if(!Ts())return Ge(new R("operation-not-supported-in-this-environment"));var u=w0(o).then(function(){return o.b.qa()}).then(function(f){return f?Zr(f):null});return it(o,u)}e.qa=function(){var o=this;return BC(this).then(function(u){return o.b&&Sd(o.b.b),u}).o(function(u){throw o.b&&Sd(o.b.b),u})},e.dd=function(o){if(!o)return Ge(new R("null-user"));if(this.S!=o.tenantId)return Ge(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=Le(this).options.apiKey,f.authDomain=Le(this).options.authDomain,f.appName=Le(this).name;var d=bV(o,f,u.D,u.Ga());return it(this,this.h.then(function(){if(Le(u).options.apiKey!=o.l)return d.reload()}).then(function(){return fe(u)&&o.uid==fe(u).uid?(Nd(fe(u),o),u.da(o)):(ru(u,d),yc(d),u.da(d))}).then(function(){wc(u)}))};function RV(o,u){var f={};return f.apiKey=Le(o).options.apiKey,f.authDomain=Le(o).options.authDomain,f.appName=Le(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return EV(f,u,o.D,o.Ga())}).then(function(d){return fe(o)&&d.uid==fe(o).uid?(Nd(fe(o),d),o.da(d)):(ru(o,d),yc(d),o.da(d))}).then(function(){wc(o)})}function ru(o,u){fe(o)&&(mV(fe(o),o.Ba),qn(fe(o),"tokenChanged",o.ya),qn(fe(o),"userDeleted",o.za),qn(fe(o),"userInvalidated",o.Aa),c0(fe(o))),u&&(u.S.push(o.Ba),ar(u,"tokenChanged",o.ya),ar(u,"userDeleted",o.za),ar(u,"userInvalidated",o.Aa),0<o.u&&SC(u)),X(o,"currentUser",u),u&&(u.wa(o.la()),s0(u,o),mc(u,o.J),u0(u,o),Ya(u.a,o.P),a0(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&Sd(o.b.b),fe(o)?(ru(o,null),MC(o.i).then(function(){wc(o)})):re()});return it(this,u)};function PV(o){var u=TV(o.D,Le(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),xC(o.D)});return it(o,u)}function DV(o){var u=Le(o).options.authDomain,f=PV(o).then(function(){return FC(o.i,u,o.P)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return LC(o.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:MC(o.i)})):null}).then(function(d){ru(o,d||null)});return it(o,f)}function OV(o){return o.$.then(function(){return BC(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(ni("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return FC(this.i,Le(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=fe(o)&&u){f=fe(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return Nd(fe(o),u),fe(o).I();(fe(o)||u)&&(ru(o,u),u&&(yc(u),u.ha=o.D),o.b&&Ky(o.b,o),wc(o))}})},e.da=function(o){return LC(this.i,o)},e.mc=function(){wc(this),this.da(fe(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Ms(o,u){var f=null,d=null;return it(o,u.then(function(v){return f=oy(v),d=qS(v),RV(o,v)},function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=wC(v.w(),o,P(o.kc,o))),_||v}).then(function(){return Zr({user:fe(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ms(u,re(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(fe(u))})},e.Ac=function(o){var u=this;xV(this,function(){o.next(fe(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(fe(d)):typeof o.next=="function"&&o.next(fe(d))}),this.hb(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.X=d.getUid(),typeof o=="function"?o(fe(d)):typeof o.next=="function"&&o.next(fe(d))}),this.bc(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return fe(u)?fe(u).I(o).then(function(d){return{accessToken:d}}):null});return it(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ms(u,ye(u.a,pj,{token:o}))}).then(function(f){var d=f.user;return ho(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ms(f,ye(f.a,Nk,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ms(f,ye(f.a,G3,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return Ms(u,o.ka(u.a))})},e.Sc=function(o){return Vm("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=fe(o);if(u&&u.isAnonymous){var f=Zr({providerId:null,isNewUser:!1});return Zr({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ms(o,o.a.zb()).then(function(d){var v=d.user;return ho(v,"isAnonymous",!0),o.da(v),d})})};function Le(o){return o.app}function fe(o){return o.currentUser}e.getUid=function(){return fe(this)&&fe(this).uid||null};function Rd(o){return fe(o)&&fe(o)._lat||null}function wc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Rd(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](Rd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&fe(this)&&SC(fe(this))},e.Pc=function(o){var u=this;Ye(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&fe(this)&&c0(fe(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),it(this,this.h.then(function(){u.l||Ii(u.s,o)&&o(Rd(u))}))},e.removeAuthTokenListener=function(o){kr(this.s,function(u){return u==o})};function xV(o,u){o.O.push(u),it(o,o.h.then(function(){!o.l&&Ii(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(Rd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(ni("local"),o.a,this.ja)),this.b&&(uC(this.b,this),Sd(this.b.b)),Promise.resolve()};function it(o,u){return o.R.push(u),u.oa(function(){xh(o.R,u)}),u}e.hc=function(o){return it(this,M3(this.a,o))},e.Bc=function(o){return!!iy(o)},e.wb=function(o,u){var f=this;return it(this,re().then(function(){var d=new Xh(u);if(!d.c)throw new R("argument-error",Xm+" must be true when sending sign in link to email");return Jh(d)}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return it(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return it(this,this.a.Ra(o).then(function(u){return new W4(u)}))},e.jb=function(o){return it(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var f=this;return it(this,re().then(function(){return typeof u>"u"||ms(u)?{}:Jh(new Xh(u))}).then(function(d){return f.a.vb(o,d)}).then(function(){}))},e.Wc=function(o,u){return it(this,Jy(this,o,u,P(this.$a,this)))},e.Vc=function(o,u){var f=this;return it(this,re().then(function(){var d=u||Kl(),v=tk(o,d);if(d=iy(d),!d)throw new R("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.$a(v)}))};function Ec(){}Ec.prototype.render=function(){},Ec.prototype.reset=function(){},Ec.prototype.getResponse=function(){},Ec.prototype.execute=function(){};function iu(){this.a={},this.b=1e12}var E0=null;iu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Pd(o,u),this.b++},iu.prototype.reset=function(o){var u=b0(this,o);o=$C(o),u&&o&&(u.delete(),delete this.a[o])},iu.prototype.getResponse=function(o){return(o=b0(this,o))?o.getResponse():null},iu.prototype.execute=function(o){(o=b0(this,o))&&o.execute()};function b0(o,u){return(u=$C(u))&&o.a[u]||null}function $C(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Pd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Bl(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():ar(this.f,"click",this.i)}Pd.prototype.getResponse=function(){return I0(this),this.b},Pd.prototype.execute=function(){I0(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=B4();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Pd.prototype.delete=function(){I0(this),this.g=!0,clearTimeout(this.a),this.a=null,qn(this.f,"click",this.i)};function I0(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function T0(){}X(T0,"FACTOR_ID","phone");function S0(){}S0.prototype.g=function(){return E0||(E0=new iu),re(E0)},S0.prototype.c=function(){};var k0=null;function C0(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var LV=new Yr(Lh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),MV=new lo(3e4,6e4);C0.prototype.g=function(o){var u=this;return new me(function(f,d){var v=setTimeout(function(){d(new R("network-request-failed"))},MV.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var E=c.grecaptcha.render;c.grecaptcha.render=function(k,x){return k=E(k,x),u.b++,k},clearTimeout(v),f(c.grecaptcha)}else clearTimeout(v),d(new R("internal-error"));delete c[u.a]};var _=cm(LV,{onload:u.a,hl:o||""});re(yy(_)).o(function(){clearTimeout(v),d(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),f(c.grecaptcha)})},C0.prototype.c=function(){this.b--};var N0=null;function A0(o,u,f,d,v,_,E){if(X(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,E?(k0||(k0=new S0),E=k0):(N0||(N0=new C0),E=N0),this.m=E,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[GC])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[FV]==="invisible",!c.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Bl(u)||!this.i&&Bl(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Rr(o,_||null,v||null),this.u=d||function(){return null};var k=this;this.l=[];var x=this.a[qC];this.a[qC]=function(se){if(HC(k,se),typeof x=="function")x(se);else if(typeof x=="string"){var Re=He(x,c);typeof Re=="function"&&Re(se)}};var M=this.a[zC];this.a[zC]=function(){if(HC(k,null),typeof M=="function")M();else if(typeof M=="string"){var se=He(M,c);typeof se=="function"&&se()}}}var qC="callback",zC="expired-callback",GC="sitekey",FV="size";function HC(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function UV(o,u){kr(o.l,function(f){return f==u})}function R0(o,u){return o.h.push(u),u.oa(function(){xh(o.h,u)}),u}e=A0.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=R0(this,re().then(function(){if(Qh()&&!Nr())return Kh();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,ye(o.s,oj,{})}).then(function(u){o.a[GC]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Dd(this);var o=this;return R0(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Bl(u);u=c4("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Dd(this);var o=this;return R0(this,this.render().then(function(u){return new me(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var v=function(_){_&&(UV(o,v),f(_))};o.l.push(v),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Dd(this),this.c!==null&&this.g.reset(this.c)};function Dd(o){if(o.D)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Dd(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Bl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function P0(o,u,f){var d=!1;try{this.b=f||ee.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var v=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=ee.SDK_VERSION?za(ee.SDK_VERSION,_):null,A0.call(this,f,o,u,function(){try{var E=v.b.auth().la()}catch{E=null}return E},_,wi(Ei),d)}W(P0,A0);function WC(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var v=0,_=!1,E=0;E<u.length;E++)if(u[E].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(_=u.length,f.length<v||_<f.length)d="Expected "+(v==_?v==1?"1 argument":v+" arguments":v+"-"+_+" arguments")+" but got "+f.length+".";else{for(v=0;v<f.length;v++)if(_=u[v].optional&&f[v]===void 0,!u[v].M(f[v])&&!_){if(u=u[v],0>v||v>=KC.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=KC[v],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new R("argument-error",o+" failed: "+d)}var KC="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Y(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function D0(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function ht(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:C}}function ou(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function ri(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function jV(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function VV(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Dr)}}}function BV(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ee.app.App)}}}function po(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function QC(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function su(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function O0(o,u){return C(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function YC(o){return C(o)&&typeof o.uid=="string"}function Od(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ut(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(v){return o.M(v)||u.M(v)}}}function Xe(o,u){for(var f in u){var d=u[f].name;o[d]=JC(d,o[f],u[f].j)}}function XC(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:U(function(v){return this[v]},f),set:U(function(v,_,E,k){WC(v,[E],[k],!0),this[_]=k},d,f,u[f].kb),enumerable:!0})}}function lt(o,u,f,d){o[u]=JC(u,f,d)}function JC(o,u,f){function d(){var E=Array.prototype.slice.call(arguments);return WC(v,f,E),u.apply(this,E)}if(!f)return u;var v=$V(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function $V(o){return o=o.split("."),o[o.length-1]}Xe(Dr.prototype,{jb:{name:"applyActionCode",j:[Y("code")]},Ra:{name:"checkActionCode",j:[Y("code")]},nb:{name:"confirmPasswordReset",j:[Y("code"),Y("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Y("email"),Y("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Y("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Y("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ut(ht(),ou(),"nextOrObserver"),ou("opt_error",!0),ou("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ut(ht(),ou(),"nextOrObserver"),ou("opt_error",!0),ou("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Y("email"),ut(ht("opt_actionCodeSettings",!0),ri(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Y("email"),ht("actionCodeSettings")]},xb:{name:"setPersistence",j:[Y("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[po()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[po()]},Tc:{name:"signInWithCustomToken",j:[Y("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Y("email"),Y("password")]},Vc:{name:"signInWithEmailLink",j:[Y("email"),Y("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Y("phoneNumber"),Od()]},Xc:{name:"signInWithPopup",j:[su()]},Yc:{name:"signInWithRedirect",j:[su()]},dd:{name:"updateCurrentUser",j:[ut(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Gn)}}}(),ri(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Y(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Y("url"),ht("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Y("code")]}}),XC(Dr.prototype,{lc:{name:"languageCode",kb:ut(Y(),ri(),"languageCode")},ti:{name:"tenantId",kb:ut(Y(),ri(),"tenantId")}}),Dr.Persistence=Ja,Dr.Persistence.LOCAL="local",Dr.Persistence.SESSION="session",Dr.Persistence.NONE="none",Xe(Gn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[D0("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[D0("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[po()]},qb:{name:"linkWithCredential",j:[po()]},Dc:{name:"linkWithPhoneNumber",j:[Y("phoneNumber"),Od()]},Ec:{name:"linkWithPopup",j:[su()]},Fc:{name:"linkWithRedirect",j:[su()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[po()]},tb:{name:"reauthenticateWithCredential",j:[po()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Y("phoneNumber"),Od()]},Nc:{name:"reauthenticateWithPopup",j:[su()]},Oc:{name:"reauthenticateWithRedirect",j:[su()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[ut(ht("opt_actionCodeSettings",!0),ri(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Y(null,!0)]},cd:{name:"unlink",j:[Y("provider")]},Bb:{name:"updateEmail",j:[Y("email")]},Cb:{name:"updatePassword",j:[Y("password")]},ed:{name:"updatePhoneNumber",j:[po("phone")]},Db:{name:"updateProfile",j:[ht("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Y("email"),ut(ht("opt_actionCodeSettings",!0),ri(null,!0),"opt_actionCodeSettings",!0)]}}),Xe(iu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xe(Ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xe(me.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),XC(mC.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:D0("appVerificationDisabledForTesting")}}),Xe(Xy.prototype,{confirm:{name:"confirm",j:[Y("verificationCode")]}}),lt(Wa,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[f3,h3,d3,c3],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[ut(Y(),ht(),"json")]),lt(lr,"credential",function(o,u){return new co(o,u)},[Y("email"),Y("password")]),Xe(co.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),Xe(Ns.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),lt(Ns,"credential",XS,[ut(Y(),ht(),"token")]),lt(lr,"credentialWithLink",tk,[Y("email"),Y("emailLink")]),Xe(As.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),lt(As,"credential",JS,[ut(Y(),ht(),"token")]),Xe(Rs.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),lt(Rs,"credential",ZS,[ut(Y(),ut(ht(),ri()),"idToken"),ut(Y(),ri(),"accessToken",!0)]),Xe(Qa.prototype,{Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),lt(Qa,"credential",ek,[ut(Y(),ht(),"token"),Y("secret",!0)]),Xe(zn.prototype,{Ca:{name:"addScope",j:[Y("scope")]},credential:{name:"credential",j:[ut(Y(),ut(ht(),ri()),"optionsOrIdToken"),ut(Y(),ri(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),Xe(Si.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),Xe(ks.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),lt(ki,"credential",nk,[Y("verificationId"),Y("verificationCode")]),Xe(ki.prototype,{fb:{name:"verifyPhoneNumber",j:[ut(Y(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?O0(f.session,tc)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?O0(f.session,rd)&&YC(f.multiFactorHint):f.session&&f.multiFactorUid?O0(f.session,rd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Od()]}}),Xe(fo.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),Xe(R.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),Xe(rc.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),Xe(uy.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),Xe(e0.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),Xe(Zy.prototype,{Rc:{name:"resolveSignIn",j:[QC()]}}),Xe(n0.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[QC(),Y("displayName",!0)]},bd:{name:"unenroll",j:[ut({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:YC},Y(),"multiFactorInfoIdentifier")]}}),Xe(P0.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lt(Ym,"parseLink",OS,[Y("link")]),lt(T0,"assertion",function(o){return new bC(o)},[po("phone")]),function(){if(typeof ee<"u"&&ee.INTERNAL&&ee.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Qm,VERIFY_AND_CHANGE_EMAIL:Zl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Dr,AuthCredential:Wa,Error:R};lt(o,"EmailAuthProvider",lr,[]),lt(o,"FacebookAuthProvider",Ns,[]),lt(o,"GithubAuthProvider",As,[]),lt(o,"GoogleAuthProvider",Rs,[]),lt(o,"TwitterAuthProvider",Qa,[]),lt(o,"OAuthProvider",zn,[Y("providerId")]),lt(o,"SAMLAuthProvider",YS,[Y("providerId")]),lt(o,"PhoneAuthProvider",ki,[VV()]),lt(o,"RecaptchaVerifier",P0,[ut(Y(),jV(),"recaptchaContainer"),ht("recaptchaParameters",!0),BV()]),lt(o,"ActionCodeURL",Ym,[]),lt(o,"PhoneMultiFactorGenerator",T0,[]),ee.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Dr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),ee.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:P(u.getUid,u),getToken:P(u.nc,u),addAuthTokenListener:P(u.cc,u),removeAuthTokenListener:P(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ee.registerVersion("@firebase/auth","0.16.4"),ee.INTERNAL.extendNamespace({User:Gn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yz=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Et(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Nf(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _z=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return Vn(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mx=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yz(t)}}catch{}return new _z},Ws=mx("localStorage"),qw=mx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lu=new bl("@firebase/database"),yx=function(){var e=1;return function(){return e++}}(),_x=function(e){var t=Vq(e),n=new Mq;n.update(t);var r=n.digest();return Mb.encodeByteArray(r)},ih=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=ih.apply(null,i):typeof i=="object"?n+=Et(i):n+=i,n+=" "}return n},ea=null,pA=!0,wx=function(e,t){B(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Lu.logLevel=pe.VERBOSE,ea=Lu.log.bind(Lu),t&&qw.set("logging_enabled",!0)):typeof e=="function"?ea=e:(ea=null,qw.remove("logging_enabled"))},Vt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(pA===!0&&(pA=!1,ea===null&&qw.get("logging_enabled")===!0&&wx(!0)),ea){var n=ih.apply(null,e);ea(n)}},oh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Vt.apply(void 0,ve([e],Fn(t)))}},zw=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+ih.apply(void 0,ve([],Fn(e)));Lu.error(n)},li=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+ih.apply(void 0,ve([],Fn(e)));throw Lu.error(n),new Error(n)},Xt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+ih.apply(void 0,ve([],Fn(e)));Lu.warn(n)},wz=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ez=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Wi="[MIN_NAME]",gi="[MAX_NAME]",Ta=function(e,t){if(e===t)return 0;if(e===Wi||t===gi)return-1;if(t===Wi||e===gi)return 1;var n=av(e),r=av(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},bz=function(e,t){return e===t?0:e<t?-1:1},Rc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Et(t))},qb=function(e){if(typeof e!="object"||e===null)return Et(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Et(t[i]),r+=":",r+=qb(e[t[i]]);return r+="}",r},Ex=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function kt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var bx=function(e){B(!fg(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),g="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),g=g+m}return g.toLowerCase()},Iz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Tz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Sz=function(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},kz=new RegExp("^-?(0*)\\d{1,10}$"),Ix=-2147483648,zb=2147483647,av=function(e){if(kz.test(e)){var t=Number(e);if(t>=Ix&&t<=zb)return t}return null},Il=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Xt("Exception was thrown by user callback.",n),t},Math.floor(0))}},Cz=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zc=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vA=32,gA=768,Ae=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Ce(){return new Ae("")}function he(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Yo(e){return e.pieces_.length-e.pieceNum_}function Ue(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ae(e.pieces_,t)}function Gb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Nz(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Af(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Tx(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ae(t,0)}function Qe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ae)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ae(n,0)}function de(e){return e.pieceNum_>=e.pieces_.length}function gn(e,t){var n=he(e),r=he(t);if(n===null)return t;if(n===r)return gn(Ue(e),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Az(e,t){for(var n=Af(e,0),r=Af(t,0),i=0;i<n.length&&i<r.length;i++){var s=Ta(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Hb(e,t){if(Yo(e)!==Yo(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Yo(e)>Yo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Rz=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Af(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=cg(this.parts_[r]);Sx(this)}return e}();function Pz(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=cg(t),Sx(e)}function Dz(e){var t=e.parts_.pop();e.byteLength_-=cg(t),e.parts_.length>0&&(e.byteLength_-=1)}function Sx(e){if(e.byteLength_>gA)throw new Error(e.errorPrefix_+"has a key path longer than "+gA+" bytes ("+e.byteLength_+").");if(e.parts_.length>vA)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vA+") or object contains a cycle "+Vs(e))}function Vs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wb="5",kx="v",Cx="s",Nx="r",Ax="f",Rx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Px="ls",Oz="p",Dx="websocket",Ox="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kb=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ws.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ws.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function xz(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function xx(e,t,n){B(typeof t=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");var r;if(t===Dx)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Ox)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xz(e)&&(n.ns=e.namespace);var i=[];return kt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Mz(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=_n(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Xt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var Gw=function(e,t){var n=Fz(e),r=n.namespace;n.domain==="firebase.com"&&li(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&li("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wz();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Kb(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Ae(n.pathString)}},Fz=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var g=e.indexOf("?");g===-1&&(g=e.length),t=e.substring(0,Math.min(p,g)),p<g&&(i=Lz(e.substring(p,g)));var m=Mz(e.substring(Math.min(e.length,g)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uz=/[\[\].#$\/\u0000-\u001F\u007F]/,jz=/[\[\].#$\u0000-\u001F\u007F]/,u_=10*1024*1024,hg=function(e){return typeof e=="string"&&e.length!==0&&!Uz.test(e)},Lx=function(e){return typeof e=="string"&&e.length!==0&&!jz.test(e)},Vz=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lx(e)},Rf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!fg(e)||e&&typeof e=="object"&&Vn(e,".sv")},ui=function(e,t,n,r,i){i&&n===void 0||sh(br(e,t,i),n,r)},sh=function(e,t,n){var r=n instanceof Ae?new Rz(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Vs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Vs(r)+" with contents = "+t.toString());if(fg(t))throw new Error(e+"contains "+t.toString()+" "+Vs(r));if(typeof t=="string"&&t.length>u_/3&&cg(t)>u_)throw new Error(e+"contains a string greater than "+u_+" utf8 bytes "+Vs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(kt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!hg(a)))throw new Error(e+" contains an invalid key ("+a+") "+Vs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Pz(r,a),sh(e,l,r),Dz(r)}),i&&s)throw new Error(e+' contains ".value" child '+Vs(r)+" in addition to actual children.")}},Bz=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Af(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!hg(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Az);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&vr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},Mx=function(e,t,n,r,i){if(!(i&&n===void 0)){var s=br(e,t,i);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];kt(n,function(l,c){var h=new Ae(l);if(sh(s,c,Qe(r,h)),Gb(h)===".priority"&&!Rf(c))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),Bz(s,a)}},Hw=function(e,t,n,r){if(!(r&&n===void 0)){if(fg(n))throw new Error(br(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rf(n))throw new Error(br(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},l_=function(e,t,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(br(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Pc=function(e,t,n,r){if(!(r&&n===void 0)&&!hg(n))throw new Error(br(e,t,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Pf=function(e,t,n,r){if(!(r&&n===void 0)&&!Lx(n))throw new Error(br(e,t,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$z=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pf(e,t,n,r)},fr=function(e,t){if(he(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Fx=function(e,t,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!hg(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!Vz(r))throw new Error(br(e,t,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},qz=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(br(e,t,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ww;function zz(e){Ww=e}var Ux=function(e){return typeof e=="number"?"number:"+bx(e):"string:"+e},jx=function(e){if(e.isLeafNode()){var t=e.val();B(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Vn(t,".sv"),"Priority must be a string or number.")}else B(e===Ww||e.isEmpty(),"priority of unexpected type.");B(e===Ww||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mA,Ku=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jx(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return mA},set:function(t){mA=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return de(t)?this:he(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=he(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||Yo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ux(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=bx(this.value_):t+=this.value_,this.lazyHash_=_x(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(B(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return B(i>=0,"Unknown leaf type: "+n),B(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xd=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Fr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Mi.EMPTY_NODE,this.right=s??Mi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Mi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Mi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Gz=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Fr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Mi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Fr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Xd(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Xd(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Xd(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Xd(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new Gz,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dg=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new we(Wi,t),i=new we(Wi,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return we.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vx,Bx;function Hz(e){Vx=e}function Wz(e){Bx=e}var Kz=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Ta(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return new we(gi,new Ku("[PRIORITY-POST]",Bx))},t.prototype.makePost=function(n,r){var i=Vx(n);return new we(r,new Ku("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(dg),Me=new Kz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jd,$x=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Jd},set:function(n){Jd=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Ta(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw wl("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return new we(gi,Jd)},t.prototype.makePost=function(n,r){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new we(n,Jd)},t.prototype.toString=function(){return".key"},t}(dg),di=new $x;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qz=Math.log(2),Yz=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/Qz,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),uv=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,g,m;if(p===0)return null;if(p===1)return g=e[c],m=n?n(g):g,new Fr(m,g.node,Fr.BLACK,null,null);var y=parseInt(p/2,10)+c,w=i(c,y),b=i(y+1,h);return g=e[y],m=n?n(g):g,new Fr(m,g.node,Fr.BLACK,w,b)},s=function(c){for(var h=null,p=null,g=e.length,m=function(T,I){var S=g-T,D=g;g-=T;var L=i(S+1,D),P=e[S],U=n?n(P):P;y(new Fr(U,P.node,I,null,L))},y=function(T){h?(h.left=T,h=T):(p=T,h=T)},w=0;w<c.count;++w){var b=c.nextBitIsOne(),C=Math.pow(2,c.count-(w+1));b?m(C,Fr.BLACK):(m(C,Fr.BLACK),m(C,Fr.RED))}return p},a=new Yz(e.length),l=s(a);return new Mi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c_,uu={},lv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return B(uu&&Me,"ChildrenNode.ts has not been loaded"),c_=c_||new e({".priority":uu},{".priority":Me}),c_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Wr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Mi?n:null},e.prototype.hasIndex=function(t){return Vn(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){B(t!==di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(we.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=uv(r,t.getCompare()):l=uu;var c=t.toString(),h=Be({},this.indexSet_);h[c]=t;var p=Be({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=ov(this.indexes_,function(s,a){var l=Wr(r.indexSet_,a);if(B(l,"Missing index implementation for "+a),s===uu)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(we.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),uv(c,l.getCompare())}else return uu;else{var g=n.get(t.name),m=s;return g&&(m=m.remove(new we(t.name,g))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=ov(this.indexes_,function(i){if(i===uu)return i;var s=n.get(t.name);return s?i.remove(new we(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(e,t){return Ta(e.name,t.name)}function Qb(e,t){return Ta(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dc,ae=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jx(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Dc||(Dc=new e(new Mi(Qb),null,lv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Dc},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Dc:n},e.prototype.getChild=function(t){var n=he(t);return n===null?this:this.getImmediateChild(n).getChild(Ue(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(B(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new we(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Dc:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=he(t);if(r===null)return n;B(he(t)!==".priority"||Yo(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Ue(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Me,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ux(this.getPriority().val())+":"),this.forEachChild(Me,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":_x(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new we(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new we(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new we(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,we.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,we.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ah?-1:0},e.prototype.withIndex=function(t){if(t===di||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===di||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Me),i=n.getIterator(Me),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===di?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Jz=function(e){q(t,e);function t(){return e.call(this,new Mi(Qb),ae.EMPTY_NODE,lv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return ae.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ae),ah=new Jz;Object.defineProperties(we,{MIN:{value:new we(Wi,ae.EMPTY_NODE)},MAX:{value:new we(gi,ah)}});$x.__EMPTY_NODE=ae.EMPTY_NODE;Ku.__childrenNodeConstructor=ae;zz(ah);Wz(ah);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zz=!0;function et(e,t){if(t===void 0&&(t=null),e===null)return ae.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),B(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new Ku(n,et(t))}if(!(e instanceof Array)&&Zz){var r=[],i=!1,s=e;if(kt(s,function(h,p){if(h.substring(0,1)!=="."){var g=et(p);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),r.push(new we(h,g)))}}),r.length===0)return ae.EMPTY_NODE;var a=uv(r,Xz,function(h){return h.name},Qb);if(i){var l=uv(r,Me.getCompare());return new ae(a,et(t),new lv({".priority":l},{".priority":Me}))}else return new ae(a,et(t),lv.Default)}else{var c=ae.EMPTY_NODE;return kt(e,function(h,p){if(Vn(e,h)&&h.substring(0,1)!=="."){var g=et(p);(g.isLeafNode()||!g.isEmpty())&&(c=c.updateImmediateChild(h,g))}}),c.updatePriority(et(t))}}Hz(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vr||(Vr={}));function Yb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Jb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e6=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Vr.ACK_USER_WRITE,this.source=Yb()}return e.prototype.operationForChild=function(t){if(de(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ae(t));return new e(Ce(),n,this.revert)}else return B(he(this.path)===t,"operationForChild called for unrelated child."),new e(Ue(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f_,t6=function(){return f_||(f_=new Mi(bz)),f_},nr=function(){function e(t,n){n===void 0&&(n=t6()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return kt(t,function(r,i){n=n.set(new Ae(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(de(t))return null;var r=he(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(Ue(t),n);if(s!=null){var a=Qe(new Ae(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(de(t))return this;var n=he(t),r=this.children.get(n);return r!==null?r.subtree(Ue(t)):new e(null)},e.prototype.set=function(t,n){if(de(t))return new e(n,this.children);var r=he(t),i=this.children.get(r)||new e(null),s=i.set(Ue(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(de(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=he(t),r=this.children.get(n);if(r){var i=r.remove(Ue(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(de(t))return this.value;var n=he(t),r=this.children.get(n);return r?r.get(Ue(t)):null},e.prototype.setTree=function(t,n){if(de(t))return n;var r=he(t),i=this.children.get(r)||new e(null),s=i.setTree(Ue(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Ce(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Qe(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Ce(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(de(t))return null;var s=he(t),a=this.children.get(s);return a?a.findOnPath_(Ue(t),Qe(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Ce(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(de(t))return this;this.value&&r(n,this.value);var i=he(t),s=this.children.get(i);return s?s.foreachOnPath_(Ue(t),Qe(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Ce(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Qe(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qx=function(){function e(t,n){this.source=t,this.path=n,this.type=Vr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return de(this.path)?new e(this.source,Ce()):new e(this.source,Ue(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pg=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Vr.OVERWRITE}return e.prototype.operationForChild=function(t){return de(this.path)?new e(this.source,Ce(),this.snap.getImmediateChild(t)):new e(this.source,Ue(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zb=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Vr.MERGE}return e.prototype.operationForChild=function(t){if(de(this.path)){var n=this.children.subtree(new Ae(t));return n.isEmpty()?null:n.value?new pg(this.source,Ce(),n.value):new e(this.source,Ce(),n)}else return B(he(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ue(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(de(t))return this.isFullyInitialized()&&!this.filtered_;var n=he(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(e,t){return{eventCache:e,serverCache:t}}function ef(e,t,n,r){return vg(new Xo(t,n,r),e.serverCache)}function zx(e,t,n,r){return vg(e.eventCache,new Xo(t,n,r))}function cv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function da(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(e){return{type:"value",snapshotNode:e}}function Qu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Df(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Of(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function n6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e1=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){B(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Df(n,l)):B(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Qu(n,r)):a.trackChildChange(Of(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Me,function(i,s){n.hasChild(i)||r.trackChildChange(Df(i,s))}),n.isLeafNode()||n.forEachChild(Me,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Of(i,s,a))}else r.trackChildChange(Qu(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?ae.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r6=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Of(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Df(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Qu(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Of(r,t.snapshotNode,i.oldSnap));else throw wl("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new nr(null))},e}();function tf(e,t,n){if(de(t))return new ji(new nr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=gn(i,t);return s=s.updateChild(a,n),new ji(e.writeTree_.set(i,s))}else{var l=new nr(n),c=e.writeTree_.setTree(t,l);return new ji(c)}}function Kw(e,t,n){var r=e;return kt(n,function(i,s){r=tf(r,Qe(t,i),s)}),r}function yA(e,t){if(de(t))return ji.empty();var n=e.writeTree_.setTree(t,new nr(null));return new ji(n)}function Qw(e,t){return Sa(e,t)!=null}function Sa(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(gn(n.path,t)):null}function _A(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,function(r,i){t.push(new we(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new we(r,i.value))}),t}function qo(e,t){if(de(t))return e;var n=Sa(e,t);return n!=null?new ji(new nr(n)):new ji(e.writeTree_.subtree(t))}function Yw(e){return e.writeTree_.isEmpty()}function Yu(e,t){return Hx(Ce(),e.writeTree_,t)}function Hx(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(B(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Hx(Qe(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Qe(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(e,t){return Yx(t,e)}function i6(e,t,n,r,i){B(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tf(e.visibleWrites,t,n)),e.lastWriteId=r}function o6(e,t,n,r){B(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Kw(e.visibleWrites,t,n),e.lastWriteId=r}function s6(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function a6(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});B(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&u6(l,r.path)?i=!1:vr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return l6(e),!0;if(r.snap)e.visibleWrites=yA(e.visibleWrites,r.path);else{var c=r.children;kt(c,function(h){e.visibleWrites=yA(e.visibleWrites,Qe(r.path,h))})}return!0}else return!1}function u6(e,t){if(e.snap)return vr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&vr(Qe(e.path,n),t))return!0;return!1}function l6(e){e.visibleWrites=Wx(e.allWrites,c6,Ce()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function c6(e){return e.visible}function Wx(e,t,n){for(var r=ji.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)vr(n,a)?(l=gn(n,a),r=tf(r,l,s.snap)):vr(a,n)&&(l=gn(a,n),r=tf(r,Ce(),s.snap.getChild(l)));else if(s.children){if(vr(n,a))l=gn(n,a),r=Kw(r,l,s.children);else if(vr(a,n))if(l=gn(a,n),de(l))r=Kw(r,Ce(),s.children);else{var c=Wr(s.children,he(l));if(c){var h=c.getChild(Ue(l));r=tf(r,Ce(),h)}}}else throw wl("WriteRecord should have .snap or .children")}}return r}function Kx(e,t,n,r,i){if(!r&&!i){var s=Sa(e.visibleWrites,t);if(s!=null)return s;var a=qo(e.visibleWrites,t);if(Yw(a))return n;if(n==null&&!Qw(a,Ce()))return null;var l=n||ae.EMPTY_NODE;return Yu(a,l)}else{var c=qo(e.visibleWrites,t);if(!i&&Yw(c))return n;if(!i&&n==null&&!Qw(c,Ce()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(vr(m.path,t)||vr(t,m.path))},p=Wx(e.allWrites,h,t),l=n||ae.EMPTY_NODE;return Yu(p,l)}}function f6(e,t,n){var r=ae.EMPTY_NODE,i=Sa(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Me,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=qo(e.visibleWrites,t);return n.forEachChild(Me,function(l,c){var h=Yu(qo(s,new Ae(l)),c);r=r.updateImmediateChild(l,h)}),_A(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=qo(e.visibleWrites,t);return _A(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function h6(e,t,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Qe(t,n);if(Qw(e.visibleWrites,s))return null;var a=qo(e.visibleWrites,s);return Yw(a)?i.getChild(n):Yu(a,i.getChild(n))}function d6(e,t,n,r){var i=Qe(t,n),s=Sa(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=qo(e.visibleWrites,i);return Yu(a,r.getNode().getImmediateChild(n))}else return null}function p6(e,t){return Sa(e.visibleWrites,t)}function v6(e,t,n,r,i,s,a){var l,c=qo(e.visibleWrites,t),h=Sa(c,Ce());if(h!=null)l=h;else if(n!=null)l=Yu(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],g=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)g(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function g6(){return{visibleWrites:ji.empty(),allWrites:[],lastWriteId:-1}}function fv(e,t,n,r){return Kx(e.writeTree,e.treePath,t,n,r)}function t1(e,t){return f6(e.writeTree,e.treePath,t)}function wA(e,t,n,r){return h6(e.writeTree,e.treePath,t,n,r)}function hv(e,t){return p6(e.writeTree,Qe(e.treePath,t))}function m6(e,t,n,r,i,s){return v6(e.writeTree,e.treePath,t,n,r,i,s)}function n1(e,t,n){return d6(e.writeTree,e.treePath,t,n)}function Qx(e,t){return Yx(Qe(e.treePath,t),e.writeTree)}function Yx(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y6=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),Xx=new y6,r1=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Xo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return n1(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:da(this.viewCache_),s=m6(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(e){return{filter:e}}function w6(e,t){B(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),B(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function E6(e,t,n,r,i){var s=new r6,a,l;if(n.type===Vr.OVERWRITE){var c=n;c.source.fromUser?a=Xw(e,t,c.path,c.snap,r,i,s):(B(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!de(c.path),a=dv(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Vr.MERGE){var h=n;h.source.fromUser?a=I6(e,t,h.path,h.children,r,i,s):(B(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=Jw(e,t,h.path,h.children,r,i,l,s))}else if(n.type===Vr.ACK_USER_WRITE){var p=n;p.revert?a=k6(e,t,p.path,r,i,s):a=T6(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===Vr.LISTEN_COMPLETE)a=S6(e,t,n.path,r,s);else throw wl("Unknown operation type: "+n.type);var g=s.getChanges();return b6(t,a,g),{viewCache:a,changes:g}}function b6(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=cv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Gx(cv(t)))}}function Jx(e,t,n,r,i,s){var a=t.eventCache;if(hv(r,n)!=null)return t;var l=void 0,c=void 0;if(de(n))if(B(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=da(t),p=h instanceof ae?h:ae.EMPTY_NODE,g=t1(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var m=fv(r,da(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=he(n);if(y===".priority"){B(Yo(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var b=wA(r,n,w,c);b!=null?l=e.filter.updatePriority(w,b):l=a.getNode()}else{var C=Ue(n),T=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var I=wA(r,n,a.getNode(),c);I!=null?T=a.getNode().getImmediateChild(y).updateChild(C,I):T=a.getNode().getImmediateChild(y)}else T=n1(r,y,t.serverCache);T!=null?l=e.filter.updateChild(a.getNode(),y,T,C,i,s):l=a.getNode()}}return ef(t,l,a.isFullyInitialized()||de(n),e.filter.filtersNodes())}function dv(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(de(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var g=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),g,null)}else{var m=he(n);if(!c.isCompleteForPath(n)&&Yo(n)>1)return t;var y=Ue(n),w=c.getNode().getImmediateChild(m),b=w.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),b):h=p.updateChild(c.getNode(),m,b,y,Xx,null)}var C=zx(t,h,c.isFullyInitialized()||de(n),p.filtersNodes()),T=new r1(i,C,s);return Jx(e,C,n,i,T,l)}function Xw(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new r1(i,t,s);if(de(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=ef(t,h,!0,e.filter.filtersNodes());else{var g=he(n);if(g===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=ef(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=Ue(n),y=l.getNode().getImmediateChild(g),w=void 0;if(de(m))w=r;else{var b=p.getCompleteChild(g);b!=null?Gb(m)===".priority"&&b.getChild(Tx(m)).isEmpty()?w=b:w=b.updateChild(m,r):w=ae.EMPTY_NODE}if(y.equals(w))c=t;else{var C=e.filter.updateChild(l.getNode(),g,w,m,p,a);c=ef(t,C,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function EA(e,t){return e.eventCache.isCompleteForChild(t)}function I6(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=Qe(n,c);EA(t,he(p))&&(l=Xw(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=Qe(n,c);EA(t,he(p))||(l=Xw(e,l,p,h,i,s,a))}),l}function bA(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function Jw(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;de(n)?h=r:h=new nr(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(g,m){if(p.hasChild(g)){var y=t.serverCache.getNode().getImmediateChild(g),w=bA(e,y,m);c=dv(e,c,new Ae(g),w,i,s,a,l)}}),h.children.inorderTraversal(function(g,m){var y=!t.serverCache.isCompleteForChild(g)&&m.value===void 0;if(!p.hasChild(g)&&!y){var w=t.serverCache.getNode().getImmediateChild(g),b=bA(e,w,m);c=dv(e,c,new Ae(g),b,i,s,a,l)}}),c}function T6(e,t,n,r,i,s,a){if(hv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(de(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return dv(e,t,n,c.getNode().getChild(n),i,s,l,a);if(de(n)){var h=new nr(null);return c.getNode().forEachChild(di,function(g,m){h=h.set(new Ae(g),m)}),Jw(e,t,n,h,i,s,l,a)}else return t}else{var p=new nr(null);return r.foreach(function(g,m){var y=Qe(n,g);c.isCompleteForPath(y)&&(p=p.set(g,c.getNode().getChild(y)))}),Jw(e,t,n,p,i,s,l,a)}}function S6(e,t,n,r,i){var s=t.serverCache,a=zx(t,s.getNode(),s.isFullyInitialized()||de(n),s.isFiltered());return Jx(e,a,n,r,Xx,i)}function k6(e,t,n,r,i,s){var a;if(hv(r,n)!=null)return t;var l=new r1(r,t,i),c=t.eventCache.getNode(),h=void 0;if(de(n)||he(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=fv(r,da(t));else{var g=t.serverCache.getNode();B(g instanceof ae,"serverChildren would be complete if leaf node"),p=t1(r,g)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=he(n),y=n1(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,Ue(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,ae.EMPTY_NODE,Ue(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=fv(r,da(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||hv(r,Ce())!=null,ef(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C6=function(){function e(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return e}();function N6(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(n6(a.childName,a.snapshotNode))}),Oc(e,i,"child_removed",t,r,n),Oc(e,i,"child_added",t,r,n),Oc(e,i,"child_moved",s,r,n),Oc(e,i,"child_changed",t,r,n),Oc(e,i,"value",t,r,n),i}function Oc(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return R6(e,l,c)}),a.forEach(function(l){var c=A6(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function A6(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function R6(e,t,n){if(t.childName==null||n.childName==null)throw wl("Should only compare child_ events.");var r=new we(t.childName,t.snapshotNode),i=new we(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Zw="-",Zx="z",eL=786,P6=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=Xu.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Xu.charAt(t[i]);return B(a.length===20,"nextPushId: Length should be 20."),a}}(),IA=function(e){if(e===""+zb)return Zw;var t=av(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<eL)return n.push(Zw),n.join("");for(var i=n.length-1;i>=0&&n[i]===Zx;)i--;if(i===-1)return gi;var s=n[i],a=Xu.charAt(Xu.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},TA=function(e){if(e===""+Ix)return Wi;var t=av(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===Zw?n.length===1?""+zb:(delete n[n.length-1],n.join("")):(n[n.length-1]=Xu.charAt(Xu.indexOf(n[n.length-1])-1),n.join("")+Zx.repeat(eL-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D6=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Ta(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return we.MAX},t.prototype.makePost=function(n,r){var i=et(n);return new we(r,i)},t.prototype.toString=function(){return".value"},t}(dg),eE=new D6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tE=function(e){q(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,B(!de(n)&&he(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Ta(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=et(n),s=ae.EMPTY_NODE.updateChild(this.indexPath_,i);return new we(r,s)},t.prototype.maxPost=function(){var n=ae.EMPTY_NODE.updateChild(this.indexPath_,ah);return new we(gi,n)},t.prototype.toString=function(){return Af(this.indexPath_,0).join("/")},t}(dg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tL=function(){function e(t){this.indexedFilter_=new e1(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new we(n,r))||(r=ae.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=ae.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(ae.EMPTY_NODE);var s=this;return n.forEachChild(Me,function(a,l){s.matches(new we(a,l))||(i=i.updateImmediateChild(a,ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O6=function(){function e(t){this.rangedFilter_=new tL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new we(n,r))||(r=ae.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ae.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(ae.EMPTY_NODE);var h=void 0,p=void 0,g=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();g=function(C,T){return m(T,C)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&g(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&g(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(I,S){return l(S,I)}}else a=this.index_.getCompare();var c=t;B(c.numChildren()===this.limit_,"");var h=new we(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),b=g&&!r.isEmpty()&&w>=0;if(b)return s!=null&&s.trackChildChange(Of(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Df(n,m));var C=c.updateImmediateChild(n,ae.EMPTY_NODE),T=y!=null&&this.rangedFilter_.matches(y);return T?(s!=null&&s.trackChildChange(Qu(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}else return r.isEmpty()?t:g&&a(p,h)>=0?(s!=null&&(s.trackChildChange(Df(p.name,p.node)),s.trackChildChange(Qu(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,ae.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x6=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wi},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Me},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function L6(e){return e.loadsAllData()?new e1(e.getIndex()):e.hasLimit()?new O6(e):new tL(e)}function M6(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function F6(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function nE(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function U6(e,t,n){var r;if(e.index_===di)typeof t=="string"&&(t=IA(t)),r=nE(e,t,n);else{var i=void 0;n==null?i=gi:i=IA(n),r=nE(e,t,i)}return r.startAfterSet_=!0,r}function rE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function j6(e,t,n){var r,i;return e.index_===di?(typeof t=="string"&&(t=TA(t)),i=rE(e,t,n)):(n==null?r=Wi:r=TA(n),i=rE(e,t,r)),i.endBeforeSet_=!0,i}function Zd(e,t){var n=e.copy();return n.index_=t,n}function SA(e){var t={};if(e.isDefault())return t;var n;return e.index_===Me?n="$priority":e.index_===eE?n="$value":e.index_===di?n="$key":(B(e.index_ instanceof tE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Et(n),e.startSet_&&(t.startAt=Et(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Et(e.indexStartName_))),e.endSet_&&(t.endAt=Et(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Et(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function V6(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Me&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B6=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),i=new e1(r.getIndex()),s=L6(r);this.processor_=_6(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(ae.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(ae.EMPTY_NODE,l.getNode(),null),p=new Xo(c,a.isFullyInitialized(),i.filtersNodes()),g=new Xo(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=vg(g,p),this.eventGenerator_=new C6(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function $6(e){return e.viewCache_.serverCache.getNode()}function q6(e){return cv(e.viewCache_)}function z6(e,t){var n=da(e.viewCache_);return n&&(e.query.getQueryParams().loadsAllData()||!de(t)&&!n.getImmediateChild(he(t)).isEmpty())?n.getChild(t):null}function kA(e){return e.eventRegistrations_.length===0}function G6(e,t){e.eventRegistrations_.push(t)}function CA(e,t,n){var r=[];if(n){B(t==null,"A cancel should cancel all event registrations.");var i=e.query.path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function NA(e,t,n,r){t.type===Vr.MERGE&&t.source.queryId!==null&&(B(da(e.viewCache_),"We should always have a full cache before handling merges"),B(cv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=E6(e.processor_,i,t,n,r);return w6(e.processor_,s.viewCache),B(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,nL(e,s.changes,s.viewCache.eventCache.getNode(),null)}function H6(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Me,function(s,a){r.push(Qu(s,a))})}return n.isFullyInitialized()&&r.push(Gx(n.getNode())),nL(e,r,n.getNode(),t)}function nL(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return N6(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pv,rL=function(){function e(){this.views=new Map}return e}();function W6(e){B(!pv,"__referenceConstructor has already been defined"),pv=e}function K6(){return B(pv,"Reference.ts has not been loaded"),pv}function Q6(e){return e.views.size===0}function i1(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return B(l!=null,"SyncTree gave us an op for an invalid query."),NA(l,t,n,r)}else{var c=[];try{for(var h=_n(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(NA(l,t,n,r))}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function iL(e,t,n,r,i){var s=t.queryIdentifier(),a=e.views.get(s);if(!a){var l=fv(n,i?r:null),c=!1;l?c=!0:r instanceof ae?(l=t1(n,r),c=!1):(l=ae.EMPTY_NODE,c=!1);var h=vg(new Xo(l,c,!1),new Xo(r,i,!1));return new B6(t,h)}return a}function Y6(e,t,n,r,i,s){var a=iL(e,t,r,i,s);return e.views.has(t.queryIdentifier())||e.views.set(t.queryIdentifier(),a),G6(a,n),H6(a,n)}function X6(e,t,n,r){var i,s,a=t.queryIdentifier(),l=[],c=[],h=Jo(e);if(a==="default")try{for(var p=_n(e.views.entries()),g=p.next();!g.done;g=p.next()){var m=Fn(g.value,2),y=m[0],w=m[1];c=c.concat(CA(w,n,r)),kA(w)&&(e.views.delete(y),w.query.getQueryParams().loadsAllData()||l.push(w.query))}}catch(b){i={error:b}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(CA(w,n,r)),kA(w)&&(e.views.delete(a),w.query.getQueryParams().loadsAllData()||l.push(w.query)))}return h&&!Jo(e)&&l.push(new(K6())(t.repo,t.path)),{removed:l,events:c}}function oL(e){var t,n,r=[];try{for(var i=_n(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query.getQueryParams().loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function zo(e,t){var n,r,i=null;try{for(var s=_n(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||z6(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function sL(e,t){var n=t.getQueryParams();if(n.loadsAllData())return mg(e);var r=t.queryIdentifier();return e.views.get(r)}function aL(e,t){return sL(e,t)!=null}function Jo(e){return mg(e)!=null}function mg(e){var t,n;try{for(var r=_n(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query.getQueryParams().loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J6=1,AA=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new nr(null),this.pendingWriteTree_=g6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function o1(e,t,n,r,i){return i6(e.pendingWriteTree_,t,n,r,i),i?Tl(e,new pg(Yb(),t,n)):[]}function Z6(e,t,n,r){o6(e.pendingWriteTree_,t,n,r);var i=nr.fromObject(n);return Tl(e,new Zb(Yb(),t,i))}function Oo(e,t,n){n===void 0&&(n=!1);var r=s6(e.pendingWriteTree_,t),i=a6(e.pendingWriteTree_,t);if(i){var s=new nr(null);return r.snap!=null?s=s.set(Ce(),!0):kt(r.children,function(a){s=s.set(new Ae(a),!0)}),Tl(e,new e6(r.path,s,n))}else return[]}function uh(e,t,n){return Tl(e,new pg(Xb(),t,n))}function eG(e,t,n){var r=nr.fromObject(n);return Tl(e,new Zb(Xb(),t,r))}function tG(e,t){return Tl(e,new qx(Xb(),t))}function nG(e,t,n){var r=s1(e,n);if(r){var i=a1(r),s=i.path,a=i.queryId,l=gn(s,t),c=new qx(Jb(a),l);return u1(e,s,c)}else return[]}function iE(e,t,n,r){var i=t.path,s=e.syncPointTree_.get(i),a=[];if(s&&(t.queryIdentifier()==="default"||aL(s,t))){var l=X6(s,t,n,r);Q6(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(I){return I.getQueryParams().loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(I,S){return Jo(S)});if(h&&!p){var g=e.syncPointTree_.subtree(i);if(!g.isEmpty())for(var m=sG(g),y=0;y<m.length;++y){var w=m[y],b=w.query,C=cL(e,w);e.listenProvider_.startListening(nf(b),vv(e,b),C.hashFn,C.onComplete)}}if(!p&&c.length>0&&!r)if(h){var T=null;e.listenProvider_.stopListening(nf(t),T)}else c.forEach(function(I){var S=e.queryToTagMap.get(_g(I));e.listenProvider_.stopListening(nf(I),S)});aG(e,c)}return a}function rG(e,t,n,r){var i=s1(e,r);if(i!=null){var s=a1(i),a=s.path,l=s.queryId,c=gn(a,t),h=new pg(Jb(l),c,n);return u1(e,a,h)}else return[]}function iG(e,t,n,r){var i=s1(e,r);if(i){var s=a1(i),a=s.path,l=s.queryId,c=gn(a,t),h=nr.fromObject(n),p=new Zb(Jb(l),c,h);return u1(e,a,p)}else return[]}function RA(e,t,n){var r=t.path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(b,C){var T=gn(b,r);i=i||zo(C,T),s=s||Jo(C)});var a=e.syncPointTree_.get(r);a?(s=s||Jo(a),i=i||zo(a,Ce())):(a=new rL,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=ae.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(b,C){var T=zo(C,Ce());T&&(i=i.updateImmediateChild(b,T))})}var h=aL(a,t);if(!h&&!t.getQueryParams().loadsAllData()){var p=_g(t);B(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var g=uG();e.queryToTagMap.set(p,g),e.tagToQueryMap.set(g,p)}var m=gg(e.pendingWriteTree_,r),y=Y6(a,t,n,m,i,l);if(!h&&!s){var w=sL(a,t);y=y.concat(lG(e,t,w))}return y}function yg(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=gn(a,t),h=zo(l,c);if(h)return h});return Kx(i,t,s,n,r)}function oG(e,t){var n=t.path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var g=gn(h,n);r=r||zo(p,g)});var i=e.syncPointTree_.get(n);i?r=r||zo(i,Ce()):(i=new rL,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Xo(r,!0,!1):null,l=gg(e.pendingWriteTree_,t.path),c=iL(i,t,l,s?a.getNode():ae.EMPTY_NODE,s);return q6(c)}function Tl(e,t){return uL(t,e.syncPointTree_,null,gg(e.pendingWriteTree_,Ce()))}function uL(e,t,n,r){if(de(e.path))return lL(e,t,n,r);var i=t.get(Ce());n==null&&i!=null&&(n=zo(i,Ce()));var s=[],a=he(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=Qx(r,a);s=s.concat(uL(l,c,h,p))}return i&&(s=s.concat(i1(i,e,r,n))),s}function lL(e,t,n,r){var i=t.get(Ce());n==null&&i!=null&&(n=zo(i,Ce()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=Qx(r,a),p=e.operationForChild(a);p&&(s=s.concat(lL(p,l,c,h)))}),i&&(s=s.concat(i1(i,e,r,n))),s}function cL(e,t){var n=t.query,r=vv(e,n);return{hashFn:function(){var i=$6(t)||ae.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?nG(e,n.path,r):tG(e,n.path);var s=Sz(i,n);return iE(e,n,null,s)}}}function vv(e,t){var n=_g(t);return e.queryToTagMap.get(n)}function _g(e){return e.path.toString()+"$"+e.queryIdentifier()}function s1(e,t){return e.tagToQueryMap.get(t)}function a1(e){var t=e.indexOf("$");return B(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ae(e.substr(0,t))}}function u1(e,t,n){var r=e.syncPointTree_.get(t);B(r,"Missing sync point for query tag that we're tracking");var i=gg(e.pendingWriteTree_,t);return i1(r,n,i,null)}function sG(e){return e.fold(function(t,n,r){if(n&&Jo(n)){var i=mg(n);return[i]}else{var s=[];return n&&(s=oL(n)),kt(r,function(a,l){s=s.concat(l)}),s}})}function nf(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e}function aG(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=_g(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function uG(){return J6++}function lG(e,t,n){var r=t.path,i=vv(e,t),s=cL(e,n),a=e.listenProvider_.startListening(nf(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)B(!Jo(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(g,m,y){if(!de(g)&&m&&Jo(m))return[mg(m).query];var w=[];return m&&(w=w.concat(oL(m).map(function(b){return b.query}))),kt(y,function(b,C){w=w.concat(C)}),w}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(nf(p),vv(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cG=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),fG=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Qe(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return yg(this.syncTree_,this.path_)},e}(),hG=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},PA=function(e,t,n){if(!e||typeof e!="object")return e;if(B(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return dG(e[".sv"],t,n);if(typeof e[".sv"]=="object")return pG(e[".sv"],t);B(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},dG=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+e)}},pG=function(e,t,n){e.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);var i=t.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},fL=function(e,t,n,r){return c1(t,new fG(n,e),r)},l1=function(e,t,n){return c1(e,new cG(t),n)};function c1(e,t,n){var r=e.getPriority().val(),i=PA(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=PA(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new Ku(l,et(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new Ku(i))),c.forEachChild(Me,function(h,p){var g=c1(p,t.getImmediateChild(h),n);g!==p&&(s=s.updateImmediateChild(h,g))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(){return{value:null,children:new Map}}function Sl(e,t,n){if(de(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=he(t);e.children.has(r)||e.children.set(r,gv());var i=e.children.get(r);t=Ue(t),Sl(i,t,n)}}function oE(e,t){if(de(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Me,function(s,a){Sl(e,new Ae(s),a)}),oE(e,t)}else if(e.children.size>0){var r=he(t);if(t=Ue(t),e.children.has(r)){var i=oE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function sE(e,t,n){e.value!==null?n(t,e.value):vG(e,function(r,i){var s=new Ae(t.toString()+"/"+r);sE(i,s,n)})}function vG(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gG=function(){function e(){this.rootNode_=ae.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mG=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),Vn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return ax(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h_={},d_={};function f1(e){var t=e.toString();return h_[t]||(h_[t]=new mG),h_[t]}function yG(e,t){var n=e.toString();return d_[n]||(d_[n]=t()),d_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=Be({},t);return this.last_&&kt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DA=10*1e3,_G=30*1e3,wG=5*60*1e3,EG=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hL(t);var r=DA+(_G-DA)*Math.random();Zc(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;kt(n,function(s,a){a>0&&Vn(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),Zc(this.reportStats_.bind(this),Math.floor(Math.random()*2*wG))},e}();function bG(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IG=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function wg(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!Hb(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function h1(e,t,n){wg(e,n),dL(e,function(r){return Hb(r,t)})}function Ir(e,t,n){wg(e,n),dL(e,function(r){return vr(r,t)||vr(t,r)})}function dL(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(TG(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function TG(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();ea&&Vt("event: "+n.toString()),Il(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},B(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=ve([],Fn(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){B(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SG=function(e){q(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]},t}(pL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OA=function(e){q(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fb()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return B(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(pL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kG=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&Il(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xA="start",CG="close",NG="pLPCommand",AG="pRTLPCB",vL="id",gL="pw",mL="ser",RG="cb",PG="seg",DG="ts",OG="d",xG="dframe",yL=1870,_L=30,LG=yL-_L,MG=25e3,FG=3e4,d1=function(){function e(t,n,r,i,s){this.connId=t,this.repoInfo=n,this.applicationId=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oh(t),this.stats_=f1(n),this.urlFn=function(a){return xx(n,Ox,a)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kG(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(FG)),Ez(function(){if(!r.isClosed_){r.scriptTagHolder=new UG(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Fn(a,5),h=c[0],p=c[1],g=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===xA)r.id=p,r.password=g;else if(h===CG)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Fn(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[xA]="t",i[mL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[RG]=r.scriptTagHolder.uniqueCallbackIdentifier),i[kx]=Wb,r.transportSessionId&&(i[Cx]=r.transportSessionId),r.lastSessionId&&(i[Px]=r.lastSessionId),r.applicationId&&(i[Oz]=r.applicationId),typeof location<"u"&&location.hostname&&Rx.test(location.hostname)&&(i[Nx]=Ax);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Iz()&&!Tz()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Et(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=Iq(n),i=Ex(r,LG),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[xG]="t",r[vL]=t,r[gL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Et(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),UG=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yx(),window[NG+this.uniqueCallbackIdentifier]=t,window[AG+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Vt("frame writing exception"),c.stack&&Vt(c.stack),Vt(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Vt("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[vL]=this.myID,t[gL]=this.myPW,t[mL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+_L+r.length<=yL){var a=this.pendingSegs.shift();r=r+"&"+PG+i+"="+a.seg+"&"+DG+i+"="+a.ts+"&"+OG+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(MG)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Vt("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wL="";function EL(e){wL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jG=16384,VG=45e3,mv=null;typeof MozWebSocket<"u"?mv=MozWebSocket:typeof WebSocket<"u"&&(mv=WebSocket);var $s=function(){function e(t,n,r,i,s){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oh(this.connId),this.stats_=f1(n),this.connURL=e.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r){var i={};return i[kx]=Wb,typeof location<"u"&&location.hostname&&Rx.test(location.hostname)&&(i[Nx]=Ax),n&&(i[Cx]=n),r&&(i[Px]=r),xx(t,Dx,i)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ws.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!lx()){var s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new mv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&mv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Ws.isInMemoryStorage||Ws.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Ws.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Nf(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(B(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Et(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=Ex(n,jG);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(VG))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BG=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[d1,$s]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=$s&&$s.isAvailable(),s=i&&!$s.previouslyFailed();if(t.webSocketOnly&&(i||Xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[$s];else{var a=this.transports_=[];try{for(var l=_n(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $G=6e4,qG=5e3,zG=10*1024,GG=100*1024,p_="t",LA="d",HG="s",MA="r",WG="e",FA="o",UA="a",jA="n",VA="p",KG="h",bL=function(){function e(t,n,r,i,s,a,l,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oh("c:"+this.id+":"),this.transportManager_=new BG(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=Zc(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>GG?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>zG?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(p_ in t){var n=t[p_];n===UA?this.upgradeIfSecondaryHealthy_():n===MA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===FA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Rc("t",t),r=Rc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VA,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Rc("t",t),r=Rc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Rc(p_,t);if(LA in t){var r=t[LA];if(n===KG)this.onHandshake_(r);else if(n===jA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HG?this.onConnectionShutdown_(r):n===MA?this.onReset_(r):n===WG?zw("Server Error: "+r):n===FA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zw("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wb!==r&&Xt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Zc(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor($G))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zc(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(qG))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VA,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ws.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc=1e3,QG=60*5*1e3,YG=3*1e3,BA=30*1e3,XG=1.3,JG=3e4,ZG="server_kill",eH=3,ta=function(e){q(t,e);function t(n,r,i,s,a,l,c){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=l,h.authOverride_=c,h.id=t.nextPersistentConnectionId_++,h.log_=oh("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=xc,h.maxReconnectDelay_=QG,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!lx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),SG.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&OA.getInstance().on("online",h.onOnline_,h),h}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Et(a)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this,i=new Pn,s={p:n.path.toString(),q:n.queryObject()},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},YG),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){var a=n.queryIdentifier(),l=n.path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),B(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i.path.toString(),a=i.queryIdentifier();this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i.queryObject(),l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,g=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),g!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(g,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Vn(n,"w")){var i=Wr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',a=r.path.toString();Xt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||xq(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BA)},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=Oq(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.unlisten=function(n,r){var i=n.path.toString(),s=n.queryIdentifier();this.log_("Unlisten called for "+i+" "+s),B(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n.queryObject(),r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Et(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):zw("Unrecognized action received from server: "+Et(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>JG&&(this.reconnectDelay_=xc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XG)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,l=this,c=this.lastSessionId,h=!1,p=null,g=function(){p?p.close():(h=!0,s())},m=function(w){B(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:g,sendRequest:m};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(w){h?Vt("getToken() completed but was canceled"):(Vt("getToken() completed. Creating connection."),l.authToken_=w&&w.accessToken,p=new bL(a,l.repoInfo_,l.applicationId_,r,i,s,function(b){Xt(b+" ("+l.repoInfo_.toString()+")"),l.interrupt(ZG)},c))}).then(null,function(w){l.log_("Failed to get token: "+w),h||(n.repoInfo_.nodeAdmin&&Xt(w),g())})}},t.prototype.interrupt=function(n){Vt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Vt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Bw(this.interruptReasons_)&&(this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return qb(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Ae(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Vt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=eH&&(this.reconnectDelay_=BA,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth();try{for(var a=_n(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,_n(c.values())),p=h.next();!p.done;p=h.next()){var g=p.value;this.sendListen_(g)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+wL.replace(/\./g,"-")]=1,Fb()?n["framework.cordova"]=1:ux()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=OA.getInstance().currentlyOnline();return Bw(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(IL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tH=function(e){q(t,e);function t(n,r,i){var s=e.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.log_=oh("p:rest:"),s.listens_={},s}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(B(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n.path.toString();this.log_("Listen called for "+l+" "+n.queryIdentifier());var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=SA(n.getQueryParams());this.restRequest_(l+".json",p,function(g,m){var y=m;if(g===404&&(y=null,g=null),g===null&&a.onDataUpdate_(l,y,!1,i),Wr(a.listens_,c)===h){var w;g?g===401?w="permission_denied":w="rest_error:"+g:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=SA(n.getQueryParams()),s=n.path.toString(),a=new Pn;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var l=a&&a.accessToken;l&&(r.auth=l);var c=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+Lq(r);s.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){s.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var p=null;if(h.status>=200&&h.status<300){try{p=Nf(h.responseText)}catch{Xt("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else h.status!==401&&h.status!==404&&Xt("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})},t}(IL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zo=function(){function e(t,n,r){this.node_=t,this.ref_=n,this.index_=r}return e.prototype.val=function(){return ie("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return ie("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return ie("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return ie("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){ie("DataSnapshot.child",0,1,arguments.length),t=String(t),Pf("DataSnapshot.child",1,t,!1);var n=new Ae(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Me)},e.prototype.hasChild=function(t){ie("DataSnapshot.hasChild",1,1,arguments.length),Pf("DataSnapshot.hasChild",1,t,!1);var n=new Ae(t);return!this.node_.getChild(n).isEmpty()},e.prototype.getPriority=function(){return ie("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(ie("DataSnapshot.forEach",1,1,arguments.length),Dt("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,s){return t(new e(s,n.ref_.child(i),Me))})},e.prototype.hasChildren=function(){return ie("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return ie("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return ie("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p1=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Eg(e,t){for(var n=t instanceof Ae?t:new Ae(t),r=e,i=he(n);i!==null;){var s=Wr(r.node.children,i)||{children:{},childCount:0};r=new p1(i,r,s),n=Ue(n),i=he(n)}return r}function ka(e){return e.node.value}function v1(e,t){e.node.value=t,aE(e)}function TL(e){return e.node.childCount>0}function nH(e){return ka(e)===void 0&&!TL(e)}function bg(e,t){kt(e.node.children,function(n,r){t(new p1(n,e,r))})}function SL(e,t,n,r){n&&!r&&t(e),bg(e,function(i){SL(i,t,!0,r)}),n&&r&&t(e)}function rH(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function lh(e){return new Ae(e.parent===null?e.name:lh(e.parent)+"/"+e.name)}function aE(e){e.parent!==null&&iH(e.parent,e.name,e)}function iH(e,t,n){var r=nH(n),i=Vn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,aE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,aE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kL="repo_interrupt",oH=25,g1=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.app=r,this.authTokenProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gv(),this.transactionQueueTree_=new p1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function sH(e){if(e.stats_=f1(e.repoInfo_),e.forceRestClient_||Cz())e.server_=new tH(e.repoInfo_,function(n,r,i,s){$A(e,n,r,i,s)},e.authTokenProvider_),setTimeout(function(){return qA(e,!0)},0);else{var t=e.app.options.databaseAuthVariableOverride;if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(t)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}e.persistentConnection_=new ta(e.repoInfo_,e.app.options.appId,function(n,r,i,s){$A(e,n,r,i,s)},function(n){qA(e,n)},function(n){uH(e,n)},e.authTokenProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(n){e.server_.refreshAuthToken(n)}),e.statsReporter_=yG(e.repoInfo_,function(){return new EG(e.stats_,e.server_)}),e.infoData_=new gG,e.infoSyncTree_=new AA({startListening:function(n,r,i,s){var a=[],l=e.infoData_.getNode(n.path);return l.isEmpty()||(a=uh(e.infoSyncTree_,n.path,l),setTimeout(function(){s("ok")},0)),a},stopListening:function(){}}),m1(e,"connected",!1),e.serverSyncTree_=new AA({startListening:function(n,r,i,s){return e.server_.listen(n,i,r,function(a,l){var c=s(a,l);Ir(e.eventQueue_,n.path,c)}),[]},stopListening:function(n,r){e.server_.unlisten(n,r)}})}function CL(e){var t=e.infoData_.getNode(new Ae(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function ch(e){return hG({timestamp:CL(e)})}function $A(e,t,n,r,i){e.dataUpdateCount++;var s=new Ae(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=ov(n,function(m){return et(m)});a=iG(e.serverSyncTree_,s,l,i)}else{var c=et(n);a=rG(e.serverSyncTree_,s,c,i)}else if(r){var h=ov(n,function(m){return et(m)});a=eG(e.serverSyncTree_,s,h)}else{var p=et(n);a=uh(e.serverSyncTree_,s,p)}var g=s;a.length>0&&(g=Ju(e,s)),Ir(e.eventQueue_,g,a)}function aH(e,t){e.interceptServerDataCallback_=t}function qA(e,t){m1(e,"connected",t),t===!1&&fH(e)}function uH(e,t){kt(t,function(n,r){m1(e,n,r)})}function m1(e,t,n){var r=new Ae("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);var s=uh(e.infoSyncTree_,r,i);Ir(e.eventQueue_,r,s)}function Ig(e){return e.nextWriteId_++}function lH(e,t){var n=oG(e.serverSyncTree_,t);return n!=null?Promise.resolve(new Zo(n,t.getRef(),t.getQueryParams().getIndex())):e.server_.get(t).then(function(r){var i=et(r),s=uh(e.serverSyncTree_,t.path,i);return h1(e.eventQueue_,t.path,s),Promise.resolve(new Zo(i,t.getRef(),t.getQueryParams().getIndex()))},function(r){return kl(e,"get for query "+Et(t)+" failed: "+r),Promise.reject(new Error(r))})}function v_(e,t,n,r,i){kl(e,"set",{path:t.toString(),value:n,priority:r});var s=ch(e),a=et(n,r),l=yg(e.serverSyncTree_,t),c=l1(a,l,s),h=Ig(e),p=o1(e.serverSyncTree_,t,c,h,!0);wg(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var w=m==="ok";w||Xt("set at "+t+" failed: "+m);var b=Oo(e.serverSyncTree_,h,!w);Ir(e.eventQueue_,t,b),es(e,i,m,y)});var g=_1(e,t);Ju(e,g),Ir(e.eventQueue_,g,[])}function cH(e,t,n,r){kl(e,"update",{path:t.toString(),value:n});var i=!0,s=ch(e),a={};if(kt(n,function(h,p){i=!1,a[h]=fL(Qe(t,h),et(p),e.serverSyncTree_,s)}),i)Vt("update() called with empty data.  Don't do anything."),es(e,r,"ok",void 0);else{var l=Ig(e),c=Z6(e.serverSyncTree_,t,a,l);wg(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var g=h==="ok";g||Xt("update at "+t+" failed: "+h);var m=Oo(e.serverSyncTree_,l,!g),y=m.length>0?Ju(e,t):t;Ir(e.eventQueue_,y,m),es(e,r,h,p)}),kt(n,function(h){var p=_1(e,Qe(t,h));Ju(e,p)}),Ir(e.eventQueue_,t,[])}}function fH(e){kl(e,"onDisconnectEvents");var t=ch(e),n=gv();sE(e.onDisconnect_,Ce(),function(i,s){var a=fL(i,s,e.serverSyncTree_,t);Sl(n,i,a)});var r=[];sE(n,Ce(),function(i,s){r=r.concat(uh(e.serverSyncTree_,i,s));var a=_1(e,i);Ju(e,a)}),e.onDisconnect_=gv(),Ir(e.eventQueue_,Ce(),r)}function hH(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&oE(e.onDisconnect_,t),es(e,n,r,i)})}function zA(e,t,n,r){var i=et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Sl(e.onDisconnect_,t,i),es(e,r,s,a)})}function dH(e,t,n,r,i){var s=et(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Sl(e.onDisconnect_,t,s),es(e,i,a,l)})}function pH(e,t,n,r){if(Bw(n)){Vt("onDisconnect().update() called with empty data.  Don't do anything."),es(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&kt(n,function(a,l){var c=et(l);Sl(e.onDisconnect_,Qe(t,a),c)}),es(e,r,i,s)})}function GA(e,t,n){var r;he(t.path)===".info"?r=RA(e.infoSyncTree_,t,n):r=RA(e.serverSyncTree_,t,n),h1(e.eventQueue_,t.path,r)}function vH(e,t,n){var r;he(t.path)===".info"?r=iE(e.infoSyncTree_,t,n):r=iE(e.serverSyncTree_,t,n),h1(e.eventQueue_,t.path,r)}function NL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(kL)}function gH(e){e.persistentConnection_&&e.persistentConnection_.resume(kL)}function mH(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new hL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);kt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function yH(e,t){e.stats_.incrementCounter(t),bG(e.statsReporter_,t)}function kl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Vt.apply(void 0,ve([r],Fn(t)))}function es(e,t,n,r){t&&Il(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function AL(e){return e.__database||(e.__database=new E1(e))}function _H(e,t,n,r,i){kl(e,"transaction on "+t);var s=function(){},a=new Ki(e,t);a.on("value",s);var l=function(){a.off("value",s)},c={path:t,update:n,onComplete:r,status:null,order:yx(),applyLocally:i,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=y1(e,t,void 0);c.currentInputSnapshot=h;var p=c.update(h.val());if(p===void 0){if(c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete){var g=new Zo(c.currentInputSnapshot,new Ki(e,c.path),Me);c.onComplete(null,!1,g)}}else{sh("transaction failed: Data returned ",p,c.path),c.status=0;var m=Eg(e.transactionQueueTree_,t),y=ka(m)||[];y.push(c),v1(m,y);var w=void 0;if(typeof p=="object"&&p!==null&&Vn(p,".priority"))w=Wr(p,".priority"),B(Rf(w),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var b=yg(e.serverSyncTree_,t)||ae.EMPTY_NODE;w=b.getPriority().val()}var C=ch(e),T=et(p,w),I=l1(T,h,C);c.currentOutputSnapshotRaw=T,c.currentOutputSnapshotResolved=I,c.currentWriteId=Ig(e);var S=o1(e.serverSyncTree_,t,I,c.currentWriteId,c.applyLocally);Ir(e.eventQueue_,t,S),Tg(e,e.transactionQueueTree_)}}function y1(e,t,n){return yg(e.serverSyncTree_,t,n)||ae.EMPTY_NODE}function Tg(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Sg(e,t),ka(t)){var n=PL(e,t);B(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&wH(e,lh(t),n)}else TL(t)&&bg(t,function(i){Tg(e,i)})}function wH(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=y1(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];B(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=gn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),g=t;e.server_.put(g.toString(),p,function(m){kl(e,"transaction put response",{path:g.toString(),status:m});var y=[];if(m==="ok"){for(var w=[],b=0;b<n.length;b++){if(n[b].status=2,y=y.concat(Oo(e.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete){var C=n[b].currentOutputSnapshotResolved,T=new Ki(e,n[b].path),I=new Zo(C,T,Me);w.push(n[b].onComplete.bind(null,null,!0,I))}n[b].unwatcher()}Sg(e,Eg(e.transactionQueueTree_,t)),Tg(e,e.transactionQueueTree_),Ir(e.eventQueue_,t,y);for(var b=0;b<w.length;b++)Il(w[b])}else{if(m==="datastale")for(var b=0;b<n.length;b++)n[b].status===3?n[b].status=4:n[b].status=0;else{Xt("transaction at "+g.toString()+" failed: "+m);for(var b=0;b<n.length;b++)n[b].status=4,n[b].abortReason=m}Ju(e,t)}},a)}function Ju(e,t){var n=RL(e,t),r=lh(n),i=PL(e,n);return EH(e,i,r),r}function EH(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(P){return P.status===0}),a=s.map(function(P){return P.currentWriteId}),l=0;l<t.length;l++){var c=t[l],h=gn(n,c.path),p=!1,g=void 0;if(B(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,g=c.abortReason,i=i.concat(Oo(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=oH)p=!0,g="maxretry",i=i.concat(Oo(e.serverSyncTree_,c.currentWriteId,!0));else{var m=y1(e,c.path,a);c.currentInputSnapshot=m;var y=t[l].update(m.val());if(y!==void 0){sh("transaction failed: Data returned ",y,c.path);var w=et(y),b=typeof y=="object"&&y!=null&&Vn(y,".priority");b||(w=w.updatePriority(m.getPriority()));var C=c.currentWriteId,T=ch(e),I=l1(w,m,T);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=I,c.currentWriteId=Ig(e),a.splice(a.indexOf(C),1),i=i.concat(o1(e.serverSyncTree_,c.path,I,c.currentWriteId,c.applyLocally)),i=i.concat(Oo(e.serverSyncTree_,C,!0))}else p=!0,g="nodata",i=i.concat(Oo(e.serverSyncTree_,c.currentWriteId,!0))}if(Ir(e.eventQueue_,n,i),i=[],p&&(t[l].status=2,function(P){setTimeout(P,Math.floor(0))}(t[l].unwatcher),t[l].onComplete))if(g==="nodata"){var S=new Ki(e,t[l].path),D=t[l].currentInputSnapshot,L=new Zo(D,S,Me);r.push(t[l].onComplete.bind(null,null,!1,L))}else r.push(t[l].onComplete.bind(null,new Error(g),!1,null))}Sg(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Il(r[l]);Tg(e,e.transactionQueueTree_)}}function RL(e,t){var n,r=e.transactionQueueTree_;for(n=he(t);n!==null&&ka(r)===void 0;)r=Eg(r,n),t=Ue(t),n=he(t);return r}function PL(e,t){var n=[];return DL(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function DL(e,t,n){var r=ka(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);bg(t,function(s){DL(e,s,n)})}function Sg(e,t){var n=ka(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,v1(t,n.length>0?n:void 0)}bg(t,function(s){Sg(e,s)})}function _1(e,t){var n=lh(RL(e,t)),r=Eg(e.transactionQueueTree_,t);return rH(r,function(i){g_(e,i)}),g_(e,r),SL(r,function(i){g_(e,i)}),n}function g_(e,t){var n=ka(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)if(n[a].status!==3){if(n[a].status===1)B(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set";else if(B(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Oo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete){var l=null;r.push(n[a].onComplete.bind(null,new Error("set"),!1,l))}}s===-1?v1(t,void 0):n.length=s+1,Ir(e.eventQueue_,lh(t),i);for(var a=0;a<r.length;a++)Il(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bH=function(){function e(t,n){this.repo_=t,this.path_=n}return e.prototype.cancel=function(t){ie("OnDisconnect.cancel",0,1,arguments.length),Dt("OnDisconnect.cancel",1,t,!0);var n=new Pn;return hH(this.repo_,this.path_,n.wrapCallback(t)),n.promise},e.prototype.remove=function(t){ie("OnDisconnect.remove",0,1,arguments.length),fr("OnDisconnect.remove",this.path_),Dt("OnDisconnect.remove",1,t,!0);var n=new Pn;return zA(this.repo_,this.path_,null,n.wrapCallback(t)),n.promise},e.prototype.set=function(t,n){ie("OnDisconnect.set",1,2,arguments.length),fr("OnDisconnect.set",this.path_),ui("OnDisconnect.set",1,t,this.path_,!1),Dt("OnDisconnect.set",2,n,!0);var r=new Pn;return zA(this.repo_,this.path_,t,r.wrapCallback(n)),r.promise},e.prototype.setWithPriority=function(t,n,r){ie("OnDisconnect.setWithPriority",2,3,arguments.length),fr("OnDisconnect.setWithPriority",this.path_),ui("OnDisconnect.setWithPriority",1,t,this.path_,!1),Hw("OnDisconnect.setWithPriority",2,n,!1),Dt("OnDisconnect.setWithPriority",3,r,!0);var i=new Pn;return dH(this.repo_,this.path_,t,n,i.wrapCallback(r)),i.promise},e.prototype.update=function(t,n){if(ie("OnDisconnect.update",1,2,arguments.length),fr("OnDisconnect.update",this.path_),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Xt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mx("OnDisconnect.update",1,t,this.path_,!1),Dt("OnDisconnect.update",2,n,!0);var s=new Pn;return pH(this.repo_,this.path_,t,s.wrapCallback(n)),s.promise},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IH=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return ie("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.getRef();return this.eventType==="value"?t.path:t.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())},e}(),xL=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HA=function(){function e(t,n,r){this.callback_=t,this.cancelCallback_=n,this.context_=r}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n.getQueryParams().getIndex();return new OL("value",this,new Zo(t.snapshotNode,n.getRef(),r))},e.prototype.getEventRunner=function(t){var n=this.context_;if(t.getEventType()==="cancel"){B(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,t.error)}}else{var i=this.callback_;return function(){i.call(n,t.snapshot)}}},e.prototype.createCancelEvent=function(t,n){return this.cancelCallback_?new xL(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callback_||!this.callback_?!0:t.callback_===this.callback_&&t.context_===this.context_:!1},e.prototype.hasAnyCallback=function(){return this.callback_!==null},e}(),WA=function(){function e(t,n,r){this.callbacks_=t,this.cancelCallback_=n,this.context_=r}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,Vn(this.callbacks_,n)},e.prototype.createCancelEvent=function(t,n){return this.cancelCallback_?new xL(this,t,n):null},e.prototype.createEvent=function(t,n){B(t.childName!=null,"Child events should have a childName.");var r=n.getRef().child(t.childName),i=n.getQueryParams().getIndex();return new OL(t.type,this,new Zo(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this.context_;if(t.getEventType()==="cancel"){B(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,t.error)}}else{var i=this.callbacks_[t.eventType];return function(){i.call(n,t.snapshot,t.prevName)}}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),s=r.length,a=i.length;if(s===a)if(s===1){var l=r[0],c=i[0];return c===l&&(!t.callbacks_[l]||!this.callbacks_[c]||t.callbacks_[l]===this.callbacks_[c])}else return i.every(function(h){return t.callbacks_[h]===n.callbacks_[h]})}}return!1},e.prototype.hasAnyCallback=function(){return this.callbacks_!==null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m_,w1=function(){function e(t,n,r,i){this.repo=t,this.path=n,this.queryParams_=r,this.orderByCalled_=i}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return B(m_,"Reference.ts has not been loaded"),m_},set:function(t){m_=t},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(t){var n=null,r=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(r=t.getIndexEndValue()),t.getIndex()===di){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var a=t.getIndexStartName();if(a!==Wi)throw new Error(i);if(typeof n!="string")throw new Error(s)}if(t.hasEnd()){var l=t.getIndexEndName();if(l!==gi)throw new Error(i);if(typeof r!="string")throw new Error(s)}}else if(t.getIndex()===Me){if(n!=null&&!Rf(n)||r!=null&&!Rf(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(B(t.getIndex()instanceof tE||t.getIndex()===eE,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(t){if(this.orderByCalled_===!0)throw new Error(t+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return ie("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){ie("Query.on",2,4,arguments.length),l_("Query.on",1,t,!1),Dt("Query.on",2,n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i);if(t==="value")this.onValueEvent(n,s.cancel,s.context);else{var a={};a[t]=n,this.onChildEvent(a,s.cancel,s.context)}return n},e.prototype.onValueEvent=function(t,n,r){var i=new HA(t,n||null,r||null);GA(this.repo,this,i)},e.prototype.onChildEvent=function(t,n,r){var i=new WA(t,n,r);GA(this.repo,this,i)},e.prototype.off=function(t,n,r){ie("Query.off",0,3,arguments.length),l_("Query.off",1,t,!0),Dt("Query.off",2,n,!0),hA("Query.off",3,r,!0);var i=null,s=null;if(t==="value"){var a=n||null;i=new HA(a,null,r||null)}else t&&(n&&(s={},s[t]=n),i=new WA(s,null,r||null));vH(this.repo,this,i)},e.prototype.get=function(){return lH(this.repo,this)},e.prototype.once=function(t,n,r,i){var s=this;ie("Query.once",1,4,arguments.length),l_("Query.once",1,t,!1),Dt("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=!0,c=new Pn;c.promise.catch(function(){});var h=function(p){l&&(l=!1,s.off(t,h),n&&n.bind(a.context)(p),c.resolve(p))};return this.on(t,h,function(p){s.off(t,h),a.cancel&&a.cancel.bind(a.context)(p),c.reject(p)}),c.promise},e.prototype.limitToFirst=function(t){if(ie("Query.limitToFirst",1,1,arguments.length),typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,M6(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(ie("Query.limitToLast",1,1,arguments.length),typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,F6(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(ie("Query.orderByChild",1,1,arguments.length),t==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(t==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(t==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Pf("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Ae(t);if(de(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new tE(n),i=Zd(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){ie("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=Zd(this.queryParams_,di);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){ie("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=Zd(this.queryParams_,Me);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){ie("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=Zd(this.queryParams_,eE);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){t===void 0&&(t=null),ie("Query.startAt",0,2,arguments.length),ui("Query.startAt",1,t,this.path,!0),Pc("Query.startAt",2,n,!0);var r=nE(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return t===void 0&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){t===void 0&&(t=null),ie("Query.startAfter",0,2,arguments.length),ui("Query.startAfter",1,t,this.path,!1),Pc("Query.startAfter",2,n,!0);var r=U6(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){t===void 0&&(t=null),ie("Query.endAt",0,2,arguments.length),ui("Query.endAt",1,t,this.path,!0),Pc("Query.endAt",2,n,!0);var r=rE(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){t===void 0&&(t=null),ie("Query.endBefore",0,2,arguments.length),ui("Query.endBefore",1,t,this.path,!1),Pc("Query.endBefore",2,n,!0);var r=j6(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(t,n){if(ie("Query.equalTo",1,2,arguments.length),ui("Query.equalTo",1,t,this.path,!1),Pc("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,n).endAt(t,n)},e.prototype.toString=function(){return ie("Query.toString",0,0,arguments.length),this.repo.toString()+Nz(this.path)},e.prototype.toJSON=function(){return ie("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return V6(this.queryParams_)},e.prototype.queryIdentifier=function(){var t=this.queryObject(),n=qb(t);return n==="{}"?"default":n},e.prototype.isEqual=function(t){if(ie("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=Hb(this.path,t.path),s=this.queryIdentifier()===t.queryIdentifier();return r&&i&&s},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:null,context:null};if(n&&r)i.cancel=n,Dt(t,3,i.cancel,!0),i.context=r,hA(t,4,i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(br(t,3,!0)+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki=function(e){q(t,e);function t(n,r){var i=this;if(!(n instanceof g1))throw new Error("new Reference() no longer supported - use app.database().");return i=e.call(this,n,r,new x6,!1)||this,i}return t.prototype.getKey=function(){return ie("Reference.key",0,0,arguments.length),de(this.path)?null:Gb(this.path)},t.prototype.child=function(n){return ie("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof Ae||(he(this.path)===null?$z("Reference.child",1,n,!1):Pf("Reference.child",1,n,!1)),new t(this.repo,Qe(this.path,n))},t.prototype.getParent=function(){ie("Reference.parent",0,0,arguments.length);var n=Tx(this.path);return n===null?null:new t(this.repo,n)},t.prototype.getRoot=function(){ie("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},t.prototype.databaseProp=function(){return AL(this.repo)},t.prototype.set=function(n,r){ie("Reference.set",1,2,arguments.length),fr("Reference.set",this.path),ui("Reference.set",1,n,this.path,!1),Dt("Reference.set",2,r,!0);var i=new Pn;return v_(this.repo,this.path,n,null,i.wrapCallback(r)),i.promise},t.prototype.update=function(n,r){if(ie("Reference.update",1,2,arguments.length),fr("Reference.update",this.path),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Xt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mx("Reference.update",1,n,this.path,!1),Dt("Reference.update",2,r,!0);var a=new Pn;return cH(this.repo,this.path,n,a.wrapCallback(r)),a.promise},t.prototype.setWithPriority=function(n,r,i){if(ie("Reference.setWithPriority",2,3,arguments.length),fr("Reference.setWithPriority",this.path),ui("Reference.setWithPriority",1,n,this.path,!1),Hw("Reference.setWithPriority",2,r,!1),Dt("Reference.setWithPriority",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var s=new Pn;return v_(this.repo,this.path,n,r,s.wrapCallback(i)),s.promise},t.prototype.remove=function(n){return ie("Reference.remove",0,1,arguments.length),fr("Reference.remove",this.path),Dt("Reference.remove",1,n,!0),this.set(null,n)},t.prototype.transaction=function(n,r,i){if(ie("Reference.transaction",1,3,arguments.length),fr("Reference.transaction",this.path),Dt("Reference.transaction",1,n,!1),Dt("Reference.transaction",2,r,!0),qz("Reference.transaction",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";i===void 0&&(i=!0);var s=new Pn;typeof r=="function"&&s.promise.catch(function(){});var a=function(l,c,h){l?s.reject(l):s.resolve(new IH(c,h)),typeof r=="function"&&r(l,c,h)};return _H(this.repo,this.path,n,a,i),s.promise},t.prototype.setPriority=function(n,r){ie("Reference.setPriority",1,2,arguments.length),fr("Reference.setPriority",this.path),Hw("Reference.setPriority",1,n,!1),Dt("Reference.setPriority",2,r,!0);var i=new Pn;return v_(this.repo,Qe(this.path,".priority"),n,null,i.wrapCallback(r)),i.promise},t.prototype.push=function(n,r){ie("Reference.push",0,2,arguments.length),fr("Reference.push",this.path),ui("Reference.push",1,n,this.path,!0),Dt("Reference.push",2,r,!0);var i=CL(this.repo),s=P6(i),a=this.child(s),l=this.child(s),c;return n!=null?c=a.set(n,r).then(function(){return l}):c=Promise.resolve(l),a.then=c.then.bind(c),a.catch=c.then.bind(c,void 0),typeof r=="function"&&c.catch(function(){}),a},t.prototype.onDisconnect=function(){return fr("Reference.onDisconnect",this.path),new bH(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(w1);w1.__referenceConstructor=Ki;W6(Ki);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TH=function(){function e(t,n){var r=this;this.app_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(i){return r.auth_=i})}return e.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(Vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)}))},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xt(t)},e}(),LL=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SH="FIREBASE_DATABASE_EMULATOR_HOST",uE={},ML=!1;function kH(e,t,n){e.repoInfo_=new Kb(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new LL)}function FL(e,t,n,r){var i=n||e.options.databaseURL;i===void 0&&(e.options.projectId||li("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vt("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var s=Gw(i,r),a=s.repoInfo,l,c=void 0;typeof process<"u"&&(c=process.env[SH]),c?(l=!0,i="http://"+c+"?ns="+a.namespace,s=Gw(i,r),a=s.repoInfo):l=!s.repoInfo.secure;var h=r&&l?new LL:new TH(e,t);Fx("Invalid Firebase Database URL",1,s),de(s.path)||li("Database URL must point to the root of a Firebase Database (not including a child path).");var p=NH(a,e,h);return AL(p)}function CH(e){var t=Wr(uE,e.app.name);(!t||Wr(t,e.key)!==e)&&li("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),NL(e),delete t[e.key]}function NH(e,t,n){var r=Wr(uE,t.name);r||(r={},uE[t.name]=r);var i=Wr(r,e.toURLString());return i&&li("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new g1(e,ML,t,n),r[e.toURLString()]=i,i}function AH(e){ML=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E1=function(){function e(t){var n=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return A(n,void 0,void 0,function(){return N(this,function(r){return this.checkDeleted_("delete"),CH(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof g1||li("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(sH(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Ki(this.repo_,Ce())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(t,n){if(this.checkDeleted_("useEmulator"),this.instanceStarted_){li("Cannot call useEmulator() after instance has already been initialized.");return}kH(this.repoInternal_,t,n)},e.prototype.ref=function(t){return this.checkDeleted_("ref"),ie("database.ref",0,1,arguments.length),t instanceof Ki?this.refFromURL(t.toString()):t!==void 0?this.root_.child(t):this.root_},e.prototype.refFromURL=function(t){var n="database.refFromURL";this.checkDeleted_(n),ie(n,1,1,arguments.length);var r=Gw(t,this.repo_.repoInfo_.nodeAdmin);Fx(n,1,r);var i=r.repoInfo;return!this.repo_.repoInfo_.isCustomHost()&&i.host!==this.repo_.repoInfo_.host&&li(n+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},e.prototype.checkDeleted_=function(t){this.repoInternal_===null&&li("Cannot call "+t+" on a deleted database.")},e.prototype.goOffline=function(){ie("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),NL(this.repo_)},e.prototype.goOnline=function(){ie("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),gH(this.repo_)},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RH=function(){$s.forceDisallow(),d1.forceAllow()},PH=function(){d1.forceDisallow()},DH=function(){return $s.isAvailable()},OH=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},xH=function(e,t){mH(e.repo,t)},LH=function(e,t){yH(e.repo,t)},MH=function(e){return e.repo.dataUpdateCount},FH=function(e,t){return aH(e.repo,t)};function UH(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;EL(r);var c=new hx("auth-internal",new dx("database-standalone"));return c.setComponent(new Bn("auth-internal",function(){return i},"PRIVATE")),{instance:FL(t,c,n,l),namespace:s}}var jH=Object.freeze({__proto__:null,forceLongPolling:RH,forceWebSockets:PH,isWebSocketsAvailable:DH,setSecurityDebugCallback:OH,stats:xH,statsIncrementCounter:LH,dataUpdateCount:MH,interceptServerData:FH,initStandalone:UH});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VH=ta;ta.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ta.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var BH=bL,$H=function(e){var t=ta.prototype.put;return ta.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){ta.prototype.put=t}},qH=Kb,zH=function(e){return e.queryIdentifier()},GH=function(e){AH(e)},HH=Object.freeze({__proto__:null,DataConnection:VH,RealTimeConnection:BH,hijackHash:$H,ConnectionTarget:qH,queryIdentifier:zH,forceRestClient:GH}),WH="@firebase/database",KH="0.9.6";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QH=E1.ServerValue;function YH(e){EL(e.SDK_VERSION),e.INTERNAL.registerComponent(new Bn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal");return FL(i,s,r,void 0)},"PUBLIC").setServiceProps({Reference:Ki,Query:w1,Database:E1,DataSnapshot:Zo,enableLogging:wx,INTERNAL:jH,ServerValue:QH,TEST_ACCESS:HH}).setMultipleInstances(!0)),e.registerVersion(WH,KH)}YH(ee);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lE=function(e,t){return lE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},lE(e,t)};function XH(e,t){lE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function UL(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var JH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,b1=b1||{},ue=JH||self;function yv(){}function cE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function fh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function ZH(e){return Object.prototype.hasOwnProperty.call(e,y_)&&e[y_]||(e[y_]=++eW)}var y_="closure_uid_"+(1e9*Math.random()>>>0),eW=0;function tW(e,t,n){return e.call.apply(e.bind,arguments)}function nW(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Jt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jt=tW:Jt=nW,Jt.apply(null,arguments)}function ep(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function yi(){return Date.now()}function Tn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function cs(){this.j=this.j,this.i=this.i}var rW=0;cs.prototype.j=!1;cs.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),rW!=0)&&ZH(this)};cs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var jL=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},VL=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function iW(e){e:{for(var t=WW,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function KA(e){return Array.prototype.concat.apply([],arguments)}function I1(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _v(e){return/^[\s\xa0]*$/.test(e)}var QA=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function dn(e,t){return e.indexOf(t)!=-1}function __(e,t){return e<t?-1:e>t?1:0}var pn;e:{var YA=ue.navigator;if(YA){var XA=YA.userAgent;if(XA){pn=XA;break e}}pn=""}function T1(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function BL(e){var t={};for(var n in e)t[n]=e[n];return t}var JA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $L(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<JA.length;s++)n=JA[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S1(e){return S1[" "](e),e}S1[" "]=yv;function oW(e,t){var n=uW;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var sW=dn(pn,"Opera"),ts=dn(pn,"Trident")||dn(pn,"MSIE"),qL=dn(pn,"Edge"),fE=qL||ts,zL=dn(pn,"Gecko")&&!(dn(pn.toLowerCase(),"webkit")&&!dn(pn,"Edge"))&&!(dn(pn,"Trident")||dn(pn,"MSIE"))&&!dn(pn,"Edge"),aW=dn(pn.toLowerCase(),"webkit")&&!dn(pn,"Edge");function GL(){var e=ue.document;return e?e.documentMode:void 0}var wv;e:{var w_="",E_=function(){var e=pn;if(zL)return/rv:([^\);]+)(\)|;)/.exec(e);if(qL)return/Edge\/([\d\.]+)/.exec(e);if(ts)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(aW)return/WebKit\/(\S+)/.exec(e);if(sW)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(E_&&(w_=E_?E_[1]:""),ts){var b_=GL();if(b_!=null&&b_>parseFloat(w_)){wv=String(b_);break e}}wv=w_}var uW={};function HL(e){return oW(e,function(){for(var t=0,n=QA(String(wv)).split("."),r=QA(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;t=__(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||__(a[2].length==0,l[2].length==0)||__(a[2],l[2]),a=a[3],l=l[3]}while(t==0)}return 0<=t})}var hE;if(ue.document&&ts){var ZA=GL();hE=ZA||parseInt(wv,10)||void 0}else hE=void 0;var WL=hE,k1=!ts||9<=Number(WL),lW=ts&&!HL("9"),cW=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ue.addEventListener("test",yv,t),ue.removeEventListener("test",yv,t)}catch{}return e}();function Zt(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Zt.prototype.b=function(){this.defaultPrevented=!0};function xf(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(zL){e:{try{S1(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:fW[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Tn(xf,Zt);var fW={2:"touch",3:"pen",4:"mouse"};xf.prototype.b=function(){xf.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,lW)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var hh="closure_listenable_"+(1e6*Math.random()|0),hW=0;function dW(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++hW,this.Y=this.Z=!1}function kg(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Cg(e){this.src=e,this.a={},this.b=0}Cg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=pE(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new dW(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function dE(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=jL(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kg(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function pE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var C1="closure_lm_"+(1e6*Math.random()|0),I_={};function N1(e,t,n,r,i){if(r&&r.once)return QL(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)N1(e,t[s],n,r,i);return null}return n=P1(n),e&&e[hh]?e.va(t,n,fh(r)?!!r.capture:!!r,i):KL(e,t,n,!1,r,i)}function KL(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=fh(i)?!!i.capture:!!i;if(a&&!k1)return null;var l=R1(e);if(l||(e[C1]=l=new Cg(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=pW(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cW||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(XL(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pW(){var e=vW,t=k1?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function QL(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)QL(e,t[s],n,r,i);return null}return n=P1(n),e&&e[hh]?e.wa(t,n,fh(r)?!!r.capture:!!r,i):KL(e,t,n,!0,r,i)}function YL(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)YL(e,t[s],n,r,i);else r=fh(r)?!!r.capture:!!r,n=P1(n),e&&e[hh]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=pE(s,n,r,i),-1<n&&(kg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=R1(e))&&(t=e.a[t.toString()],e=-1,t&&(e=pE(t,n,r,i)),(n=-1<e?t[e]:null)&&A1(n))}function A1(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[hh])dE(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(XL(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=R1(t))?(dE(n,e),n.b==0&&(n.src=null,t[C1]=null)):kg(e)}}}function XL(e){return e in I_?I_[e]:I_[e]="on"+e}function eR(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&A1(e),n.call(r,t)}function vW(e,t){if(e.Y)return!0;if(!k1){if(!t)e:{t=["window","event"];for(var n=ue,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new xf(t,this),eR(e,t)}return eR(e,new xf(t,this))}function R1(e){return e=e[C1],e instanceof Cg?e:null}var T_="__closure_events_fn_"+(1e9*Math.random()>>>0);function P1(e){return typeof e=="function"?e:(e[T_]||(e[T_]=function(t){return e.handleEvent(t)}),e[T_])}function rr(){cs.call(this),this.c=new Cg(this),this.J=this,this.C=null}Tn(rr,cs);rr.prototype[hh]=!0;Z=rr.prototype;Z.addEventListener=function(e,t,n,r){N1(this,e,t,n,r)};Z.removeEventListener=function(e,t,n,r){YL(this,e,t,n,r)};function qt(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Zt(t,e);else if(t instanceof Zt)t.target=t.target||e;else{var i=t;t=new Zt(r,e),$L(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=tp(a,r,!0,t)&&i}if(a=t.a=e,i=tp(a,r,!0,t)&&i,i=tp(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=tp(a,r,!1,t)&&i}Z.G=function(){if(rr.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)kg(n[r]);delete e.a[t],e.b--}}this.C=null};Z.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};Z.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function tp(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&dE(e.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var D1=ue.JSON.stringify;function JL(){this.b=this.a=null}var ZL=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new O1},function(e){e.reset()});JL.prototype.add=function(e,t){var n=ZL.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function gW(){var e=t2,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function O1(){this.next=this.b=this.a=null}O1.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};O1.prototype.reset=function(){this.next=this.b=this.a=null};function mW(e){ue.setTimeout(function(){throw e},0)}function e2(e,t){vE||yW(),gE||(vE(),gE=!0),t2.add(e,t)}var vE;function yW(){var e=ue.Promise.resolve(void 0);vE=function(){e.then(_W)}}var gE=!1,t2=new JL;function _W(){for(var e;e=gW();){try{e.a.call(e.b)}catch(n){mW(n)}var t=ZL;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}gE=!1}function Ng(e,t){rr.call(this),this.b=e||1,this.a=t||ue,this.f=Jt(this.Za,this),this.g=yi()}Tn(Ng,rr);Z=Ng.prototype;Z.aa=!1;Z.M=null;Z.Za=function(){if(this.aa){var e=yi()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qt(this,"tick"),this.aa&&(x1(this),this.start()))}};Z.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=yi())};function x1(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}Z.G=function(){Ng.X.G.call(this),x1(this),delete this.a};function L1(e,t,n){if(typeof e=="function")n&&(e=Jt(e,n));else if(e&&typeof e.handleEvent=="function")e=Jt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ue.setTimeout(e,t||0)}function n2(e){e.a=L1(function(){e.a=null,e.c&&(e.c=!1,n2(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var wW=function(e){XH(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:n2(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(ue.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(cs);function Lf(e){cs.call(this),this.b=e,this.a={}}Tn(Lf,cs);var tR=[];function r2(e,t,n,r){Array.isArray(n)||(n&&(tR[0]=n.toString()),n=tR);for(var i=0;i<n.length;i++){var s=N1(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function i2(e){T1(e.a,function(t,n){this.a.hasOwnProperty(n)&&A1(t)},e),e.a={}}Lf.prototype.G=function(){Lf.X.G.call(this),i2(this)};Lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function M1(){this.a=!0}function EW(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function bW(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Cu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+TW(e,n)+(r?" "+r:"")})}function IW(e,t){e.info(function(){return"TIMEOUT: "+t})}M1.prototype.info=function(){};function TW(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return D1(n)}catch{return t}}var Ca={},nR=null;function Ag(){return nR=nR||new rr}Ca.Fa="serverreachability";function o2(e){Zt.call(this,Ca.Fa,e)}Tn(o2,Zt);function Mf(e){var t=Ag();qt(t,new o2(t))}Ca.STAT_EVENT="statevent";function s2(e,t){Zt.call(this,Ca.STAT_EVENT,e),this.stat=t}Tn(s2,Zt);function mn(e){var t=Ag();qt(t,new s2(t,e))}Ca.Ga="timingevent";function a2(e){Zt.call(this,Ca.Ga,e)}Tn(a2,Zt);function dh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){e()},t)}var Rg={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},u2={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function l2(){}l2.prototype.a=null;function rR(e){var t;return(t=e.a)||(t=e.a={}),t}function c2(){}var ph={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function F1(){Zt.call(this,"d")}Tn(F1,Zt);function U1(){Zt.call(this,"c")}Tn(U1,Zt);var f2;function h2(){}Tn(h2,l2);f2=new h2;function vh(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Lf(this),this.P=SW,e=fE?125:void 0,this.R=new Ng(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var SW=45e3,d2={},mE={};Z=vh.prototype;Z.setTimeout=function(e){this.P=e};function yE(e,t,n){e.H=1,e.i=Dg(Qi(t)),e.j=n,e.I=!0,p2(e,null)}function p2(e,t){e.u=yi(),gh(e),e.l=Qi(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),w2(n.b,"t",r),e.D=0,e.a=U2(e.g,e.g.C?t:null),0<e.O&&(e.F=new wW(Jt(e.Ca,e,e.a),e.O)),r2(e.J,e.a,"readystatechange",e.Xa),t=e.B?BL(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Mf(),EW(e.c,e.m,e.l,e.f,e.S,e.j)}Z.Xa=function(e){e=e.target;var t=this.F;t&&xo(e)==3?t.f():this.Ca(e)};Z.Ca=function(e){try{if(e==this.a)e:{var t=xo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!fE&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?Mf(3):Mf(2)),Pg(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,bW(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_v(a)){var c=a;break t}}c=null}if(c)Cu(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,_E(this,c);else{this.b=!1,this.h=3,mn(12),Mu(this),Ev(this);break e}}this.I?(v2(this,t,s),fE&&this.b&&t==3&&(r2(this.J,this.R,"tick",this.Wa),this.R.start())):(Cu(this.c,this.f,s,null),_E(this,s)),t==4&&Mu(this),this.b&&!this.A&&(t==4?x2(this.g,this):(this.b=!1,gh(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,mn(12)):(this.h=0,mn(13)),Mu(this),Ev(this)}}}catch{}finally{}};function v2(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=kW(e,n);if(i==mE){t==4&&(e.h=4,mn(14),r=!1),Cu(e.c,e.f,null,"[Incomplete Response]");break}else if(i==d2){e.h=4,mn(15),Cu(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Cu(e.c,e.f,i,null),_E(e,i)}t==4&&n.length==0&&(e.h=1,mn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),H1(t),t.F=!0,mn(11))):(Cu(e.c,e.f,n,"[Invalid Chunked Response]"),Mu(e),Ev(e))}Z.Wa=function(){if(this.a){var e=xo(this.a),t=this.a.$();this.D<t.length&&(Pg(this),v2(this,e,t),this.b&&e!=4&&gh(this))}};function kW(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?mE:(n=Number(t.substring(n,r)),isNaN(n)?d2:(r+=1,r+n>t.length?mE:(t=t.substr(r,n),e.D=r+n,t)))}Z.cancel=function(){this.A=!0,Mu(this)};function gh(e){e.T=yi()+e.P,g2(e,e.P)}function g2(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=dh(Jt(e.Va,e),t)}function Pg(e){e.o&&(ue.clearTimeout(e.o),e.o=null)}Z.Va=function(){this.o=null;var e=yi();0<=e-this.T?(IW(this.c,this.l),this.H!=2&&(Mf(),mn(17)),Mu(this),this.h=2,Ev(this)):g2(this,this.T-e)};function Ev(e){e.g.v==0||e.A||x2(e.g,e)}function Mu(e){Pg(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,x1(e.R),i2(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function _E(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||wE(n.b,e))){if(n.I=e.N,!e.C&&wE(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)Sv(n),xg(n);else break e;G1(n),mn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=dh(Jt(n.Sa,n),6e3));if(1>=I2(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else Ks(n,11)}else if((e.C||n.a==e)&&Sv(n),!_v(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var h=e.a;if(h){var p=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=c.b;!g.a&&(dn(p,"spdy")||dn(p,"quic")||dn(p,"h2"))&&(g.f=g.g,g.a=new Set,g.b&&(B1(g,g.b),g.b=null))}if(c.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(c.na=m,Ke(c.B,c.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=yi()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var y=e;if(c.la=F2(c,c.C?c.ga:null,c.fa),y.C){T2(c.b,y);var w=y,b=c.D;b&&w.setTimeout(b),w.o&&(Pg(w),gh(w)),c.a=y}else D2(c);0<n.g.length&&Lg(n)}else i[0]!="stop"&&i[0]!="close"||Ks(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?Ks(n,7):z1(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Mf(4)}catch{}}function CW(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(cE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function j1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(cE(e)||typeof e=="string")VL(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(cE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=CW(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Cl(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Cl)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Z=Cl.prototype;Z.K=function(){V1(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};Z.L=function(){return V1(this),this.a.concat()};function V1(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];pa(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],pa(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}Z.get=function(e,t){return pa(this.b,e)?this.b[e]:t};Z.set=function(e,t){pa(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};Z.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function pa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var m2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function NW(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function va(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof va){this.a=t!==void 0?t:e.a,bv(this,e.f),this.j=e.j,Iv(this,e.c),Tv(this,e.h),this.g=e.g,t=e.b;var n=new Ff;n.c=t.c,t.a&&(n.a=new Cl(t.a),n.b=t.b),iR(this,n),this.i=e.i}else e&&(n=String(e).match(m2))?(this.a=!!t,bv(this,n[1]||"",!0),this.j=rf(n[2]||""),Iv(this,n[3]||"",!0),Tv(this,n[4]),this.g=rf(n[5]||"",!0),iR(this,n[6]||"",!0),this.i=rf(n[7]||"")):(this.a=!!t,this.b=new Ff(null,this.a))}va.prototype.toString=function(){var e=[],t=this.f;t&&e.push($c(t,oR,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push($c(t,oR,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push($c(n,n.charAt(0)=="/"?OW:DW,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",$c(n,LW)),e.join("")};function Qi(e){return new va(e)}function bv(e,t,n){e.f=n?rf(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Iv(e,t,n){e.c=n?rf(t,!0):t}function Tv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function iR(e,t,n){t instanceof Ff?(e.b=t,MW(e.b,e.a)):(n||(t=$c(t,xW)),e.b=new Ff(t,e.a))}function Ke(e,t,n){e.b.set(t,n)}function Dg(e){return Ke(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^yi()).toString(36)),e}function AW(e){return e instanceof va?Qi(e):new va(e,void 0)}function RW(e,t,n,r){var i=new va(null,void 0);return e&&bv(i,e),t&&Iv(i,t),n&&Tv(i,n),r&&(i.g=r),i}function rf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $c(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,PW),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function PW(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var oR=/[#\/\?@]/g,DW=/[#\?:]/g,OW=/[#\?]/g,xW=/[#\?@]/g,LW=/#/g;function Ff(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function fs(e){e.a||(e.a=new Cl,e.b=0,e.c&&NW(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Z=Ff.prototype;Z.add=function(e,t){fs(this),this.c=null,e=Nl(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function y2(e,t){fs(e),t=Nl(e,t),pa(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,pa(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&V1(e)))}function _2(e,t){return fs(e),t=Nl(e,t),pa(e.a.b,t)}Z.forEach=function(e,t){fs(this),this.a.forEach(function(n,r){VL(n,function(i){e.call(t,i,r,this)},this)},this)};Z.L=function(){fs(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Z.K=function(e){fs(this);var t=[];if(typeof e=="string")_2(this,e)&&(t=KA(t,this.a.get(Nl(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=KA(t,e[n])}return t};Z.set=function(e,t){return fs(this),this.c=null,e=Nl(this,e),_2(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};Z.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function w2(e,t,n){y2(e,t),0<n.length&&(e.c=null,e.a.set(Nl(e,t),I1(n)),e.b+=n.length)}Z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function Nl(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function MW(e,t){t&&!e.f&&(fs(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(y2(this,r),w2(this,i,n))},e)),e.f=t}var FW=function(){function e(t,n){this.b=t,this.a=n}return e}();function E2(e){this.g=e||UW,ue.PerformanceNavigationTiming?(e=ue.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ue.ia&&ue.ia.ya&&ue.ia.ya()&&ue.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var UW=10;function b2(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function I2(e){return e.b?1:e.a?e.a.size:0}function wE(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function B1(e,t){e.a?e.a.add(t):e.b=t}function T2(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}E2.prototype.cancel=function(){var e,t;if(this.c=S2(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=UL(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function S2(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=UL(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return I1(e.c)}function $1(){}$1.prototype.stringify=function(e){return ue.JSON.stringify(e,void 0)};$1.prototype.parse=function(e){return ue.JSON.parse(e,void 0)};function jW(){this.a=new $1}function VW(e,t,n){var r=n||"";try{j1(e,function(i,s){var a=i;fh(i)&&(a=D1(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function BW(e,t){var n=new M1;if(ue.Image){var r=new Image;r.onload=ep(np,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ep(np,n,r,"TestLoadImage: error",!1,t),r.onabort=ep(np,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ep(np,n,r,"TestLoadImage: timeout",!1,t),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function np(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var $W=ue.JSON.parse;function Ct(e){rr.call(this),this.headers=new Cl,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=qW,this.D=this.F=!1}Tn(Ct,rr);var qW="",zW=/^https?$/i,GW=["POST","PUT"];Z=Ct.prototype;Z.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?rR(this.H):rR(f2),this.a.onreadystatechange=Jt(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){sR(this,s);return}e=n||"";var i=new Cl(this.headers);r&&j1(r,function(s,a){i.set(a,s)}),r=iW(i.L()),n=ue.FormData&&e instanceof ue.FormData,!(0<=jL(GW,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{N2(this),0<this.o&&((this.D=HW(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Jt(this.xa,this)):this.m=L1(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){sR(this,s)}};function HW(e){return ts&&HL(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function WW(e){return e.toLowerCase()=="content-type"}Z.xa=function(){typeof b1<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,qt(this,"timeout"),this.abort(8))};function sR(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,k2(e),Og(e)}function k2(e){e.u||(e.u=!0,qt(e,"complete"),qt(e,"error"))}Z.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,qt(this,"complete"),qt(this,"abort"),Og(this))};Z.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Og(this,!0)),Ct.X.G.call(this)};Z.za=function(){this.j||(this.A||this.l||this.g?C2(this):this.Ua())};Z.Ua=function(){C2(this)};function C2(e){if(e.b&&typeof b1<"u"&&(!e.s[1]||xo(e)!=4||e.W()!=2)){if(e.l&&xo(e)==4)L1(e.za,0,e);else if(qt(e,"readystatechange"),xo(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(m2)[1]||null;if(!s&&ue.self&&ue.self.location){var a=ue.self.location.protocol;s=a.substr(0,a.length-1)}i=!zW.test(s?s.toLowerCase():"")}r=i}var l=r}if(l)qt(e,"complete"),qt(e,"success");else{e.h=6;try{var c=2<xo(e)?e.a.statusText:""}catch{c=""}e.f=c+" ["+e.W()+"]",k2(e)}}finally{Og(e)}}}}function Og(e,t){if(e.a){N2(e);var n=e.a,r=e.s[0]?yv:null;e.a=null,e.s=null,t||qt(e,"ready");try{n.onreadystatechange=r}catch{}}}function N2(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(ue.clearTimeout(e.m),e.m=null)}function xo(e){return e.a?e.a.readyState:0}Z.W=function(){try{return 2<xo(this)?this.a.status:-1}catch{return-1}};Z.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};Z.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),$W(t)}};Z.ua=function(){return this.h};Z.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function KW(e){var t="";return T1(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function q1(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=KW(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ke(e,t,n))}function Lc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function A2(e){this.pa=0,this.g=[],this.c=new M1,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Lc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Lc("baseRetryDelayMs",5e3,e),this.Ra=Lc("retryDelaySeedMs",1e4,e),this.Ma=Lc("forwardChannelMaxRetries",2,e),this.ma=Lc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new E2(e&&e.concurrentRequestLimit),this.ka=new jW,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}Z=A2.prototype;Z.ha=8;Z.v=1;function z1(e){if(R2(e),e.v==3){var t=e.R++,n=Qi(e.B);Ke(n,"SID",e.J),Ke(n,"RID",t),Ke(n,"TYPE","terminate"),mh(e,n),t=new vh(e,e.c,t,void 0),t.H=2,t.i=Dg(Qi(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon&&(n=ue.navigator.sendBeacon(t.i.toString(),"")),!n&&ue.Image&&(new Image().src=t.i,n=!0),n||(t.a=U2(t.g,null),t.a.ba(t.i)),t.u=yi(),gh(t)}M2(e)}function xg(e){e.a&&(H1(e),e.a.cancel(),e.a=null)}function R2(e){xg(e),e.j&&(ue.clearTimeout(e.j),e.j=null),Sv(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&ue.clearTimeout(e.h),e.h=null)}function S_(e,t){e.g.push(new FW(e.Oa++,t)),e.v==3&&Lg(e)}function Lg(e){b2(e.b)||e.h||(e.h=!0,e2(e.Ba,e),e.u=0)}function QW(e,t){return I2(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=dh(Jt(e.Ba,e,t),L2(e,e.u)),e.u++,!0)}Z.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new vh(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=BL(n),$L(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=P2(this,t,r),i=Qi(this.B),Ke(i,"RID",e),Ke(i,"CVER",22),this.A&&Ke(i,"X-HTTP-Session-Id",this.A),mh(this,i),this.i&&n&&q1(i,this.i,n),B1(this.b,t),this.Ia&&Ke(i,"TYPE","init"),this.da?(Ke(i,"$req",r),Ke(i,"SID","null"),t.U=!0,yE(t,i,null)):yE(t,i,r),this.v=2}}else this.v==3&&(e?aR(this,e):this.g.length==0||b2(this.b)||aR(this))};function aR(e,t){var n;t?n=t.f:n=e.R++;var r=Qi(e.B);Ke(r,"SID",e.J),Ke(r,"RID",n),Ke(r,"AID",e.P),mh(e,r),e.i&&e.l&&q1(r,e.i,e.l),n=new vh(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=P2(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),B1(e.b,n),yE(n,r,t)}function mh(e,t){e.f&&j1({},function(n,r){Ke(t,r,n)})}function P2(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Jt(e.f.Ja,e.f,e):null;e:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].b,p=i[c].a;if(h-=s,0>h)s=Math.max(0,i[c].b-100),l=!1;else try{VW(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function D2(e){e.a||e.j||(e.T=1,e2(e.Aa,e),e.o=0)}function G1(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=dh(Jt(e.Aa,e),L2(e,e.o)),e.o++,!0)}Z.Aa=function(){if(this.j=null,O2(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=dh(Jt(this.Ta,this),e)}};Z.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,mn(10),xg(this),O2(this))};function H1(e){e.s!=null&&(ue.clearTimeout(e.s),e.s=null)}function O2(e){e.a=new vh(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=Qi(e.la);Ke(t,"RID","rpc"),Ke(t,"SID",e.J),Ke(t,"CI",e.H?"0":"1"),Ke(t,"AID",e.P),mh(e,t),Ke(t,"TYPE","xmlhttp"),e.i&&e.l&&q1(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Dg(Qi(t)),n.j=null,n.I=!0,p2(n,e)}Z.Sa=function(){this.m!=null&&(this.m=null,xg(this),G1(this),mn(19))};function Sv(e){e.m!=null&&(ue.clearTimeout(e.m),e.m=null)}function x2(e,t){var n=null;if(e.a==t){Sv(e),H1(e),e.a=null;var r=2}else if(wE(e.b,t))n=t.s,T2(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=yi()-t.u;var i=e.u;r=Ag(),qt(r,new a2(r)),Lg(e)}else D2(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&QW(e,t)||r==2&&G1(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Ks(e,5);break;case 4:Ks(e,10);break;case 3:Ks(e,6);break;default:Ks(e,2)}}}function L2(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Ks(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=Jt(e.Ya,e);n||(n=new va("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||bv(n,"https"),Dg(n)),BW(n.toString(),r)}else mn(2);e.v=0,e.f&&e.f.ra(t),M2(e),R2(e)}Z.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),mn(2)):(this.c.info("Failed to ping google.com"),mn(1))};function M2(e){e.v=0,e.I=-1,e.f&&((S2(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,I1(e.g),e.g.length=0),e.f.qa())}function F2(e,t,n){var r=AW(n);if(r.c!="")t&&Iv(r,t+"."+r.c),Tv(r,r.h);else{var i=ue.location;r=RW(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&T1(e.V,function(s,a){Ke(r,a,s)}),t=e.A,n=e.na,t&&n&&Ke(r,t,n),Ke(r,"VER",e.ha),mh(e,r),r}function U2(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new Ct(e.Na),t.F=e.C,t}function j2(){}Z=j2.prototype;Z.ta=function(){};Z.sa=function(){};Z.ra=function(){};Z.qa=function(){};Z.Ja=function(){};function kv(){if(ts&&!(10<=Number(WL)))throw Error("Environmental error: no available transport.")}kv.prototype.a=function(e,t){return new ir(e,t)};function ir(e,t){rr.call(this),this.a=new A2(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!_v(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_v(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new Al(this)}Tn(ir,rr);ir.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;mn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=F2(e,null,e.fa),Lg(e)};ir.prototype.close=function(){z1(this.a)};ir.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,S_(this.a,t)}else this.l?(t={},t.__data__=D1(e),S_(this.a,t)):S_(this.a,e)};ir.prototype.G=function(){this.a.f=null,delete this.f,z1(this.a),delete this.a,ir.X.G.call(this)};function V2(e){F1.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}Tn(V2,F1);function B2(){U1.call(this),this.status=1}Tn(B2,U1);function Al(e){this.a=e}Tn(Al,j2);Al.prototype.ta=function(){qt(this.a,"a")};Al.prototype.sa=function(e){qt(this.a,new V2(e))};Al.prototype.ra=function(e){qt(this.a,new B2)};Al.prototype.qa=function(){qt(this.a,"b")};kv.prototype.createWebChannel=kv.prototype.a;ir.prototype.send=ir.prototype.h;ir.prototype.open=ir.prototype.g;ir.prototype.close=ir.prototype.close;Rg.NO_ERROR=0;Rg.TIMEOUT=8;Rg.HTTP_ERROR=6;u2.COMPLETE="complete";c2.EventType=ph;ph.OPEN="a";ph.CLOSE="b";ph.ERROR="c";ph.MESSAGE="d";rr.prototype.listen=rr.prototype.va;Ct.prototype.listenOnce=Ct.prototype.wa;Ct.prototype.getLastError=Ct.prototype.Qa;Ct.prototype.getLastErrorCode=Ct.prototype.ua;Ct.prototype.getStatus=Ct.prototype.W;Ct.prototype.getResponseJson=Ct.prototype.Pa;Ct.prototype.getResponseText=Ct.prototype.$;Ct.prototype.send=Ct.prototype.ba;var YW=function(){return new kv},XW=function(){return Ag()},k_=Rg,JW=u2,ZW=Ca,uR={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},rp=c2,eK=Ct;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Jn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr=new bl("@firebase/firestore");function EE(){return zr.logLevel}function $(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zr.logLevel<=pe.DEBUG){var r=t.map(W1);zr.debug.apply(zr,ve(["Firestore (8.3.1): "+e],r))}}function gt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zr.logLevel<=pe.ERROR){var r=t.map(W1);zr.error.apply(zr,ve(["Firestore (8.3.1): "+e],r))}}function Cv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zr.logLevel<=pe.WARN){var r=t.map(W1);zr.warn.apply(zr,ve(["Firestore (8.3.1): "+e],r))}}function W1(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+e;throw gt(t),new Error(t)}function oe(e,t){e||J()}function z(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $2=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=tK(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function _e(e,t){return e<t?-1:e>t?1:0}function Zu(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function q2(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function z2(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(e){return e==null}function Nv(e){return e===0&&1/e==-1/0}function G2(e){return typeof e=="number"&&Number.isInteger(e)&&!Nv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return q(t,e),t}(Error),H2=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&J(),r===void 0?r=t.length-n:r>t.length-n&&J(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ne=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new F(O.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(H2),nK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return nK.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new F(O.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new F(O.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new F(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new F(O.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(H2),te=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ne.fromString(t))},e.fromName=function(t){return new e(Ne.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ne.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ne.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ne(t.slice()))},e}(),wn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return _e(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();wn.EMPTY_BYTE_STRING=new wn("");var rK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(e){if(oe(!!e),typeof e=="string"){var t=0,n=rK.exec(e);if(oe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pt(e.seconds),nanos:pt(e.nanos)}}function pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function el(e){return typeof e=="string"?wn.fromBase64String(e):wn.fromUint8Array(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?_e(this.nanoseconds,t.nanoseconds):_e(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function W2(e){var t=e.mapValue.fields.__previous_value__;return K1(t)?W2(t):t}function Uf(e){var t=ns(e.mapValue.fields.__local_write_time__.timestampValue);return new Un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?K1(e)?4:10:J()}function mi(e,t){var n=rs(e);if(n!==rs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uf(e).isEqual(Uf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ns(r.timestampValue),a=ns(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return el(r.bytesValue).isEqual(el(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return pt(r.geoPointValue.latitude)===pt(i.geoPointValue.latitude)&&pt(r.geoPointValue.longitude)===pt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pt(r.integerValue)===pt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=pt(r.doubleValue),a=pt(i.doubleValue);return s===a?Nv(s)===Nv(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Zu(e.arrayValue.values||[],t.arrayValue.values||[],mi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(lR(s)!==lR(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!mi(s[l],a[l])))return!1;return!0}(e,t);default:return J()}}function jf(e,t){return(e.values||[]).find(function(n){return mi(n,t)})!==void 0}function tl(e,t){var n=rs(e),r=rs(t);if(n!==r)return _e(n,r);switch(n){case 0:return 0;case 1:return _e(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=pt(i.integerValue||i.doubleValue),l=pt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return cR(e.timestampValue,t.timestampValue);case 4:return cR(Uf(e),Uf(t));case 5:return _e(e.stringValue,t.stringValue);case 6:return function(i,s){var a=el(i),l=el(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=_e(a[c],l[c]);if(h!==0)return h}return _e(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=_e(pt(i.latitude),pt(s.latitude));return a!==0?a:_e(pt(i.longitude),pt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=tl(a[c],l[c]);if(h)return h}return _e(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var g=_e(l[p],h[p]);if(g!==0)return g;var m=tl(a[l[p]],c[h[p]]);if(m!==0)return m}return _e(l.length,h.length)}(e.mapValue,t.mapValue);default:throw J()}}function cR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _e(e,t);var n=ns(e),r=ns(t),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Q1(e){return bE(e)}function bE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ns(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?el(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,te.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=bE(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+bE(r.fields[c])}return i+"}"}(e.mapValue):J();var t,n}function Av(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function IE(e){return!!e&&"integerValue"in e}function Y1(e){return!!e&&"arrayValue"in e}function fR(e){return!!e&&"nullValue"in e}function hR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function X1(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J1=function(e,t){this.key=e,this.version=t},Fe=function(e){function t(n,r,i,s){var a=this;return(a=e.call(this,n,r)||this).objectValue=i,a.hasLocalMutations=!!s.hasLocalMutations,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return q(t,e),t.prototype.field=function(n){return this.objectValue.field(n)},t.prototype.data=function(){return this.objectValue},t.prototype.toProto=function(){return this.objectValue.proto},t.prototype.isEqual=function(n){return n instanceof t&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.hasLocalMutations===n.hasLocalMutations&&this.hasCommittedMutations===n.hasCommittedMutations&&this.objectValue.isEqual(n.objectValue)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(J1),Tt=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return q(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(J1),Z1=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(J1),iK=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};function dR(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new iK(e,t,n,r,i,s,a)}function _h(e){var t=z(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Q1(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Na(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Pv(t.startAt)),t.endAt&&(n+="|ub:",n+=Pv(t.endAt)),t.h=n}return t.h}function Mg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hK(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!mi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vR(e.startAt,t.startAt)&&vR(e.endAt,t.endAt)}function Rv(e){return te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Zn=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return q(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new oK(n,r,i):r==="array-contains"?new uK(n,i):r==="in"?new lK(n,i):r==="not-in"?new cK(n,i):r==="array-contains-any"?new fK(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new sK(n,i):new aK(n,i)},t.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.m(tl(r,this.value)):r!==null&&rs(this.value)===rs(r)&&this.m(tl(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return J()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),oK=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=te.fromName(i.referenceValue),s}return q(t,e),t.prototype.matches=function(n){var r=te.comparator(n.key,this.key);return this.m(r)},t}(Zn),sK=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=K2("in",r),i}return q(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Zn),aK=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=K2("not-in",r),i}return q(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Zn);function K2(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return te.fromName(r.referenceValue)})}var uK=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return q(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return Y1(r)&&jf(r.arrayValue,this.value)},t}(Zn),lK=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return q(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&jf(this.value.arrayValue,r)},t}(Zn),cK=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return q(t,e),t.prototype.matches=function(n){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!jf(this.value.arrayValue,r)},t}(Zn),fK=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return q(t,e),t.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!Y1(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return jf(r.value.arrayValue,s)})},t}(Zn),Vf=function(e,t){this.position=e,this.before=t};function Pv(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Q1(t)}).join(",")}var Fu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function hK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function pR(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?te.comparator(te.fromName(a.referenceValue),n.key):tl(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function vR(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!mi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function Q2(e,t,n,r,i,s,a,l){return new eo(e,t,n,r,i,s,a,l)}function Rl(e){return new eo(e)}function Cp(e){return!Na(e.limit)&&e.limitType==="F"}function Dv(e){return!Na(e.limit)&&e.limitType==="L"}function eI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tI(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function nI(e){return e.collectionGroup!==null}function nl(e){var t=z(e);if(t.p===null){t.p=[];var n=tI(t),r=eI(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Fu(n)),t.p.push(new Fu(Kr.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Fu(Kr.keyField(),c))}}}return t.p}function Tr(e){var t=z(e);if(!t.T)if(t.limitType==="F")t.T=dR(t.path,t.collectionGroup,nl(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=nl(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Fu(s.field,a))}var l=t.endAt?new Vf(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Vf(t.startAt.position,!t.startAt.before):null;t.T=dR(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function Y2(e,t,n){return new eo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wh(e,t){return Mg(Tr(e),Tr(t))&&e.limitType===t.limitType}function X2(e){return _h(Tr(e))+"|lt:"+e.limitType}function TE(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Q1(i.value);var i}).join(", ")+"]"),Na(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Pv(t.startAt)),t.endAt&&(n+=", endAt: "+Pv(t.endAt)),"Target("+n+")"}(Tr(e))+"; limitType="+e.limitType+")"}function Eh(e,t){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):te.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!pR(n.startAt,nl(n),r))&&(!n.endAt||!pR(n.endAt,nl(n),r))}(e,t)}function J2(e){return function(t,n){for(var r=!1,i=0,s=nl(e);i<s.length;i++){var a=s[i],l=dK(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function dK(e,t,n){var r=e.field.isKeyField()?te.comparator(t.key,n.key):function(i,s,a){var l=s.field(i),c=a.field(i);return l!==null&&c!==null?tl(l,c):J()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Un(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}(),rl=function(){function e(t){this.fields=t,t.sort(Kr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Zu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),is=function(){function e(t){this.proto=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var n=this.proto,r=0;r<t.length-1;++r)if(!n.mapValue.fields||!X1(n=n.mapValue.fields[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.isEqual=function(t){return mi(this.proto,t.proto)},e}(),bh=function(){function e(t){t===void 0&&(t=is.empty()),this.I=t,this.A=new Map}return e.prototype.set=function(t,n){return this.R(t,n),this},e.prototype.delete=function(t){return this.R(t,null),this},e.prototype.R=function(t,n){for(var r=this.A,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&rs(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.lastSegment(),n)},e.prototype.v=function(){var t=this.P(Kr.emptyPath(),this.A);return t!=null?new is(t):this.I},e.prototype.P=function(t,n){var r=this,i=!1,s=this.I.field(t),a=X1(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var h=r.P(t.child(c),l);h!=null&&(a[c]=h,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(e){var t=[];return yh(e.fields||{},function(n,r){var i=new Kr([n]);if(X1(r)){var s=Z2(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new rl(t)}function eM(e,t){if(e.V){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nv(t)?"-0":t}}function tM(e){return{integerValue:""+e}}function nM(e,t){return G2(t)?tM(t):eM(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fg=function(){this._=void 0};function pK(e,t,n){return e instanceof il?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof ga?iM(e,t):e instanceof ma?oM(e,t):function(r,i){var s=rM(r,i),a=gR(s)+gR(r.S);return IE(s)&&IE(r.S)?tM(a):eM(r.D,a)}(e,t)}function vK(e,t,n){return e instanceof ga?iM(e,t):e instanceof ma?oM(e,t):n}function rM(e,t){return e instanceof ol?IE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var il=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t}(Fg),ga=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return q(t,e),t}(Fg);function iM(e,t){for(var n=sM(t),r=function(a){n.some(function(l){return mi(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ma=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return q(t,e),t}(Fg);function oM(e,t){for(var n=sM(t),r=function(a){n=n.filter(function(l){return!mi(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ol=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).D=n,i.S=r,i}return q(t,e),t}(Fg);function gR(e){return pt(e.integerValue||e.doubleValue)}function sM(e){return Y1(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ih=function(e,t){this.field=e,this.transform=t},gK=function(e,t){this.version=e,this.transformResults=t},Yt=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Np(e,t){return e.updateTime!==void 0?t instanceof Fe&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t instanceof Fe}var Ug=function(){};function mK(e,t,n){return e instanceof Th?function(r,i,s){var a=r.value,l=_R(r.fieldTransforms,i,s.transformResults);return a=rI(r.fieldTransforms,a,l),new Fe(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):e instanceof hs?function(r,i,s){if(!Np(r.precondition,i))return new Z1(r.key,s.version);var a=aM(r,i,_R(r.fieldTransforms,i,s.transformResults));return new Fe(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):function(r,i,s){return new Tt(r.key,s.version,{hasCommittedMutations:!0})}(e,0,n)}function SE(e,t,n){return e instanceof Th?function(r,i,s){if(!Np(r.precondition,i))return i;var a=r.value,l=wR(r.fieldTransforms,s,i);a=rI(r.fieldTransforms,a,l);var c=yR(i);return new Fe(r.key,c,a,{hasLocalMutations:!0})}(e,t,n):e instanceof hs?function(r,i,s){if(!Np(r.precondition,i))return i;var a=yR(i),l=aM(r,i,wR(r.fieldTransforms,s,i));return new Fe(r.key,a,l,{hasLocalMutations:!0})}(e,t,n):function(r,i){return Np(r.precondition,i)?new Tt(r.key,ge.min()):i}(e,t)}function yK(e,t){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var l=a[s],c=r instanceof Fe?r.field(l.field):void 0,h=rM(l.transform,c||null);h!=null&&(i=i==null?new bh().set(l.field,h):i.set(l.field,h))}return i?i.v():null}(e.fieldTransforms,t)}function mR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Zu(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof ga&&h instanceof ga||c instanceof ma&&h instanceof ma?Zu(c.elements,h.elements,mi):c instanceof ol&&h instanceof ol?mi(c.S,h.S):c instanceof il&&h instanceof il}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function yR(e){return e instanceof Fe?e.version:ge.min()}var Th=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return q(t,e),t}(Ug),hs=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return q(t,e),t}(Ug);function aM(e,t,n){var r;return r=function(i,s){var a=new bh(s);return i.fieldMask.fields.forEach(function(l){if(!l.isEmpty()){var c=i.data.field(l);c!==null?a.set(l,c):a.delete(l)}}),a.v()}(e,r=t instanceof Fe?t.data():is.empty()),r=rI(e.fieldTransforms,r,n)}function _R(e,t,n){var r=[];oe(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=null;t instanceof Fe&&(l=t.field(s.field)),r.push(vK(a,l,n[i]))}return r}function wR(e,t,n){for(var r=[],i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=null;n instanceof Fe&&(c=n.field(a.field)),r.push(pK(l,c,t))}return r}function rI(e,t,n){for(var r=new bh(t),i=0;i<e.length;i++){var s=e[i];r.set(s.field,n[i])}return r.v()}var dt,be,Sh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return q(t,e),t}(Ug),iI=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return q(t,e),t}(Ug),_K=function(e){this.count=e};function uM(e){switch(e){case O.OK:return J();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return J()}}function lM(e){if(e===void 0)return gt("GRPC error has no .code"),O.UNKNOWN;switch(e){case dt.OK:return O.OK;case dt.CANCELLED:return O.CANCELLED;case dt.UNKNOWN:return O.UNKNOWN;case dt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case dt.INTERNAL:return O.INTERNAL;case dt.UNAVAILABLE:return O.UNAVAILABLE;case dt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case dt.NOT_FOUND:return O.NOT_FOUND;case dt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case dt.ABORTED:return O.ABORTED;case dt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case dt.DATA_LOSS:return O.DATA_LOSS;default:return J()}}(be=dt||(dt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=function(){function e(t,n){this.comparator=t,this.root=n||Co.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Co.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Co.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new ip(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new ip(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ip(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new ip(this.root,t,this.comparator,!0)},e}(),ip=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Co=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();var t=this.left.check();if(t!==this.right.check())throw J();return t+(this.isRed()?0:1)},e}();Co.EMPTY=null,Co.RED=!0,Co.BLACK=!1,Co.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw J()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Co(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St=function(){function e(t){this.comparator=t,this.data=new rn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ER(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new ER(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ER=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),wK=new rn(te.comparator);function Yi(){return wK}function Ov(){return Yi()}var EK=new rn(te.comparator);function Bf(){return EK}var bK=new rn(te.comparator);function cM(){return bK}var IK=new St(te.comparator);function De(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=IK,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var TK=new St(_e);function jg(){return TK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oI=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,sI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ge.min(),r,jg(),Yi(),De())},e}(),sI=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(wn.EMPTY_BYTE_STRING,n,De(),De(),De())},e}(),Ap=function(e,t,n,r){this.C=e,this.removedTargetIds=t,this.key=n,this.N=r},fM=function(e,t){this.targetId=e,this.$=t},hM=function(e,t,n,r){n===void 0&&(n=wn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},bR=function(){function e(){this.F=0,this.O=TR(),this.k=wn.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"B",{get:function(){return this.F!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),e.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},e.prototype.K=function(){var t=De(),n=De(),r=De();return this.O.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new sI(this.k,this.M,t,n,r)},e.prototype.W=function(){this.L=!1,this.O=TR()},e.prototype.j=function(t,n){this.L=!0,this.O=this.O.insert(t,n)},e.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},e.prototype.H=function(){this.F+=1},e.prototype.J=function(){this.F-=1},e.prototype.Y=function(){this.L=!0,this.M=!0},e}(),SK=function(){function e(t){this.X=t,this.Z=new Map,this.tt=Yi(),this.et=IR(),this.nt=new St(_e)}return e.prototype.st=function(t){for(var n=0,r=t.C;n<r.length;n++){var i=r[n];t.N instanceof Fe?this.it(i,t.N):t.N instanceof Tt&&this.rt(i,t.key,t.N)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.rt(i,t.key,t.N)},e.prototype.ot=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.ct(r);switch(t.state){case 0:n.at(r)&&i.U(t.resumeToken);break;case 1:i.J(),i.B||i.W(),i.U(t.resumeToken);break;case 2:i.J(),i.B||n.removeTarget(r);break;case 3:n.at(r)&&(i.Y(),i.U(t.resumeToken));break;case 4:n.at(r)&&(n.ut(r),i.U(t.resumeToken));break;default:J()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.Z.forEach(function(i,s){r.at(s)&&n(s)})},e.prototype.ht=function(t){var n=t.targetId,r=t.$.count,i=this.lt(n);if(i){var s=i.target;if(Rv(s))if(r===0){var a=new te(s.path);this.rt(n,a,new Tt(a,ge.min()))}else oe(r===1);else this.ft(n)!==r&&(this.ut(n),this.nt=this.nt.add(n))}},e.prototype.dt=function(t){var n=this,r=new Map;this.Z.forEach(function(a,l){var c=n.lt(l);if(c){if(a.current&&Rv(c.target)){var h=new te(c.target.path);n.tt.get(h)!==null||n.wt(l,h)||n.rt(l,h,new Tt(h,t))}a.q&&(r.set(l,a.K()),a.W())}});var i=De();this.et.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.lt(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new oI(t,r,this.nt,this.tt,i);return this.tt=Yi(),this.et=IR(),this.nt=new St(_e),s},e.prototype.it=function(t,n){if(this.at(t)){var r=this.wt(t,n.key)?2:0;this.ct(t).j(n.key,r),this.tt=this.tt.insert(n.key,n),this.et=this.et.insert(n.key,this._t(n.key).add(t))}},e.prototype.rt=function(t,n,r){if(this.at(t)){var i=this.ct(t);this.wt(t,n)?i.j(n,1):i.G(n),this.et=this.et.insert(n,this._t(n).delete(t)),r&&(this.tt=this.tt.insert(n,r))}},e.prototype.removeTarget=function(t){this.Z.delete(t)},e.prototype.ft=function(t){var n=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.H=function(t){this.ct(t).H()},e.prototype.ct=function(t){var n=this.Z.get(t);return n||(n=new bR,this.Z.set(t,n)),n},e.prototype._t=function(t){var n=this.et.get(t);return n||(n=new St(_e),this.et=this.et.insert(t,n)),n},e.prototype.at=function(t){var n=this.lt(t)!==null;return n||$("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.lt=function(t){var n=this.Z.get(t);return n&&n.B?null:this.X.yt(t)},e.prototype.ut=function(t){var n=this;this.Z.set(t,new bR),this.X.getRemoteKeysForTarget(t).forEach(function(r){n.rt(t,r,null)})},e.prototype.wt=function(t,n){return this.X.getRemoteKeysForTarget(t).has(n)},e}();function IR(){return new rn(te.comparator)}function TR(){return new rn(te.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kK={asc:"ASCENDING",desc:"DESCENDING"},CK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NK=function(e,t){this.databaseId=e,this.V=t};function $f(e,t){return e.V?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function dM(e,t){return e.V?t.toBase64():t.toUint8Array()}function AK(e,t){return $f(e,t.toTimestamp())}function xt(e){return oe(!!e),ge.fromTimestamp(function(t){var n=ns(t);return new Un(n.seconds,n.nanos)}(e))}function aI(e,t){return function(n){return new Ne(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function pM(e){var t=Ne.fromString(e);return oe(bM(t)),t}function qf(e,t){return aI(e.databaseId,t.path)}function pi(e,t){var n=pM(t);if(n.get(1)!==e.databaseId.projectId)throw new F(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(gM(n))}function kE(e,t){return aI(e.databaseId,t)}function vM(e){var t=pM(e);return t.length===4?Ne.emptyPath():gM(t)}function zf(e){return new Ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gM(e){return oe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function SR(e,t,n){return{name:qf(e,t),fields:n.proto.mapValue.fields}}function mM(e,t,n){var r=pi(e,t.name),i=xt(t.updateTime),s=new is({mapValue:{fields:t.fields}});return new Fe(r,i,s,{hasCommittedMutations:!!n})}function xv(e,t){var n;if(t instanceof Th)n={update:SR(e,t.key,t.value)};else if(t instanceof Sh)n={delete:qf(e,t.key)};else if(t instanceof hs)n={update:SR(e,t.key,t.data),updateMask:xK(t.fieldMask)};else{if(!(t instanceof iI))return J();n={verify:qf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof il)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ga)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ma)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ol)return{fieldPath:s.field.canonicalString(),increment:a.S};throw J()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:AK(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(e,t.precondition)),n}function kR(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?Yt.updateTime(xt(h.updateTime)):h.exists!==void 0?Yt.exists(h.exists):Yt.none()}(t.currentDocument):Yt.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,g){var m=null;if("setToServerValue"in g)oe(g.setToServerValue==="REQUEST_TIME"),m=new il;else if("appendMissingElements"in g){var y=g.appendMissingElements.values||[];m=new ga(y)}else if("removeAllFromArray"in g){var w=g.removeAllFromArray.values||[];m=new ma(w)}else"increment"in g?m=new ol(p,g.increment):J();var b=Kr.fromServerFormat(g.fieldPath);return new Ih(b,m)}(e,h)}):[];if(t.update){t.update.name;var i=pi(e,t.update.name),s=new is({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new rl(p.map(function(g){return Kr.fromServerFormat(g)}))}(t.updateMask);return new hs(i,s,a,n,r)}return new Th(i,s,n,r)}if(t.delete){var l=pi(e,t.delete);return new Sh(l,n)}if(t.verify){var c=pi(e,t.verify);return new iI(c,n)}return J()}function yM(e,t){return{documents:[kE(e,t.path)]}}function _M(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=kE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(hR(p.value))return{unaryFilter:{field:lu(p.field),op:"IS_NAN"}};if(fR(p.value))return{unaryFilter:{field:lu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(hR(p.value))return{unaryFilter:{field:lu(p.field),op:"IS_NOT_NAN"}};if(fR(p.value))return{unaryFilter:{field:lu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(p.field),op:PK(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:lu(h.field),direction:RK(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.V||Na(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=CR(t.startAt)),t.endAt&&(n.structuredQuery.endAt=CR(t.endAt)),n}function wM(e){var t=vM(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){oe(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=EM(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(m){return new Fu(Nu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(g)}));var c=null;n.limit&&(c=function(g){var m;return Na(m=typeof g=="object"?g.value:g)?null:m}(n.limit));var h=null;n.startAt&&(h=NR(n.startAt));var p=null;return n.endAt&&(p=NR(n.endAt)),Q2(t,i,l,a,c,"F",h,p)}function EM(e){return e?e.unaryFilter!==void 0?[OK(e)]:e.fieldFilter!==void 0?[DK(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return EM(t)}).reduce(function(t,n){return t.concat(n)}):J():[]}function CR(e){return{before:e.before,values:e.position}}function NR(e){var t=!!e.before,n=e.values||[];return new Vf(n,t)}function RK(e){return kK[e]}function PK(e){return CK[e]}function lu(e){return{fieldPath:e.canonicalString()}}function Nu(e){return Kr.fromServerFormat(e.fieldPath)}function DK(e){return Zn.create(Nu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}function OK(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Nu(e.unaryFilter.field);return Zn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Nu(e.unaryFilter.field);return Zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Nu(e.unaryFilter.field);return Zn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Nu(e.unaryFilter.field);return Zn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return J()}}function xK(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function bM(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=AR(t)),t=LK(e.get(n),t);return AR(t)}function LK(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function AR(e){return e+""}function Fi(e){var t=e.length;if(oe(t>=2),t===2)return oe(e.charAt(0)===""&&e.charAt(1)===""),Ne.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&J(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:J()}s=a+2}return new Ne(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MK=function(e,t){this.seconds=e,this.nanoseconds=t},Kn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Kn.store="owner",Kn.key="owner";var Go=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Go.store="mutationQueues",Go.keyPath="userId";var qe=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qe.store="mutations",qe.keyPath="batchId",qe.userMutationsIndex="userMutationsIndex",qe.userMutationsKeyPath=["userId","batchId"];var Qt=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Gr(n)]},e.key=function(t,n,r){return[t,Gr(n),r]},e}();Qt.store="documentMutations",Qt.PLACEHOLDER=new Qt;var FK=function(e,t){this.path=e,this.readTime=t},UK=function(e,t){this.path=e,this.version=t},st=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};st.store="remoteDocuments",st.readTimeIndex="readTimeIndex",st.readTimeIndexPath="readTime",st.collectionReadTimeIndex="collectionReadTimeIndex",st.collectionReadTimeIndexPath=["parentPath","readTime"];var ci=function(e){this.byteSize=e};ci.store="remoteDocumentGlobal",ci.key="remoteDocumentGlobalKey";var On=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};On.store="targets",On.keyPath="targetId",On.queryTargetsIndexName="queryTargetsIndex",On.queryTargetsKeyPath=["canonicalId","targetId"];var Bt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Bt.store="targetDocuments",Bt.keyPath=["targetId","path"],Bt.documentTargetsIndex="documentTargetsIndex",Bt.documentTargetsKeyPath=["path","targetId"];var Qn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qn.key="targetGlobalKey",Qn.store="targetGlobal";var na=function(e,t){this.collectionId=e,this.parent=t};na.store="collectionParents",na.keyPath=["collectionId","parent"];var Vi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Vi.store="clientMetadata",Vi.keyPath="clientId";var sl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};sl.store="bundles",sl.keyPath="bundleId";var al=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};al.store="namedQueries",al.keyPath="name";var jK=ve(ve([],ve(ve([],ve(ve([],ve(ve([],[Go.store,qe.store,Qt.store,st.store,On.store,Kn.store,Qn.store,Bt.store]),[Vi.store])),[ci.store])),[na.store])),[sl.store,al.store]),IM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",TM=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),En=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},j=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),SM=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.gt=new En,this.transaction.oncomplete=function(){r.gt.resolve()},this.transaction.onabort=function(){n.error?r.gt.reject(new of(t,n.error)):r.gt.resolve()},this.transaction.onerror=function(i){var s=uI(i.target.error);r.gt.reject(new of(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new of(n,s)}},Object.defineProperty(e.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||($("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new BK(n)},e}(),ul=function(){function e(t,n,r){this.name=t,this.version=n,this.Tt=r,e.It(ha())===12.2&&gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return $("SimpleDb","Removing database:",t),qs(window.indexedDB.deleteDatabase(t)).toPromise()},e.At=function(){if(typeof indexedDB>"u")return!1;if(e.Rt())return!0;var t=ha(),n=e.It(t),r=0<n&&n<10,i=e.bt(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.Rt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.vt)==="YES"},e.Pt=function(t,n){return t.store(n)},e.It=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.bt=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.Vt=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:($("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new of(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new F(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new of(t,h))},l.onupgradeneeded=function(c){$("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.Tt.St(h,l.transaction,c.oldVersion,r.version).next(function(){$("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(s){return r.Dt(s)}),this.db)]}})})},e.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var g,m,y,w,b;return N(this,function(C){switch(C.label){case 0:++a,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,c.Vt(t)];case 2:return c.db=C.sent(),g=SM.open(c.db,t,s?"readonly":"readwrite",r),m=i(g).catch(function(T){return g.abort(T),j.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,g.Et];case 3:return[2,(y.value=(C.sent(),m),y)];case 4:return w=C.sent(),b=w.name!=="FirebaseError"&&a<3,$("SimpleDb","Transaction failed with error:",w.message,"Retrying:",b),c.close(),b?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),VK=function(){function e(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Nt=!0},e.prototype.Ot=function(t){this.$t=t},e.prototype.delete=function(){return qs(this.xt.delete())},e}(),of=function(e){function t(n,r){var i=this;return(i=e.call(this,O.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return q(t,e),t}(F);function Aa(e){return e.name==="IndexedDbTransactionError"}var BK=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?($("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):($("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),qs(r)},e.prototype.add=function(t){return $("SimpleDb","ADD",this.store.name,t,t),qs(this.store.add(t))},e.prototype.get=function(t){var n=this;return qs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),$("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return $("SimpleDb","DELETE",this.store.name,t),qs(this.store.delete(t))},e.prototype.count=function(){return $("SimpleDb","COUNT",this.store.name),qs(this.store.count())},e.prototype.kt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.Mt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.Lt=function(t,n){$("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Bt=!1;var i=this.cursor(r);return this.Mt(i,function(s,a,l){return l.delete()})},e.prototype.qt=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.Mt(i,n)},e.prototype.Ut=function(t){var n=this.cursor({});return new j(function(r,i){n.onerror=function(s){var a=uI(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.Mt=function(t,n){var r=[];return new j(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new VK(l),h=n(l.primaryKey,l.value,c);if(h instanceof j){var p=h.catch(function(g){return c.done(),j.reject(g)});r.push(p)}c.isDone?i():c.Ft===null?l.continue():l.continue(c.Ft)}else i()}}).next(function(){return j.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Bt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function qs(e){return new j(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=uI(r.target.error);n(i)}})}var RR=!1;function uI(e){var t=ul.It(ha());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new F("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return RR||(RR=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PR=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qt=n,i.currentSequenceNumber=r,i}return q(t,e),t}(TM);function $n(e,t){var n=z(e);return ul.Pt(n.Qt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lI=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n,r){for(var i=r.mutationResults,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(t)&&(n=mK(a,n,i[s]))}return n},e.prototype.applyToLocalView=function(t,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(l=i[r]).key.isEqual(t)&&(n=SE(l,n,this.localWriteTime));for(var s=0,a=this.mutations;s<a.length;s++){var l;(l=a[s]).key.isEqual(t)&&(n=SE(l,n,this.localWriteTime))}return n},e.prototype.applyToLocalDocumentSet=function(t){var n=this,r=t;return this.mutations.forEach(function(i){var s=n.applyToLocalView(i.key,t.get(i.key));s&&(r=r.insert(i.key,s))}),r},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},De())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Zu(this.mutations,t.mutations,function(n,r){return mR(n,r)})&&Zu(this.baseMutations,t.baseMutations,function(n,r){return mR(n,r)})},e}(),$K=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){oe(t.mutations.length===r.length);for(var i=cM(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),Vg=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=ge.min()),a===void 0&&(a=ge.min()),l===void 0&&(l=wn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),kM=function(e){this.Kt=e};function CE(e,t){if(t.document)return mM(e.Kt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=te.fromSegments(t.noDocument.path),r=cl(t.noDocument.readTime);return new Tt(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=te.fromSegments(t.unknownDocument.path);return r=cl(t.unknownDocument.version),new Z1(i,r)}return J()}function DR(e,t,n){var r=cI(n),i=t.key.path.popLast().toArray();if(t instanceof Fe){var s=function(g,m){return{name:qf(g,m.key),fields:m.toProto().mapValue.fields,updateTime:$f(g,m.version.toTimestamp())}}(e.Kt,t),a=t.hasCommittedMutations;return new st(null,null,s,a,r,i)}if(t instanceof Tt){var l=t.key.path.toArray(),c=ll(t.version);return a=t.hasCommittedMutations,new st(null,new FK(l,c),null,a,r,i)}if(t instanceof Z1){var h=t.key.path.toArray(),p=ll(t.version);return new st(new UK(h,p),null,null,!0,r,i)}return J()}function cI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function CM(e){var t=new Un(e[0],e[1]);return ge.fromTimestamp(t)}function ll(e){var t=e.toTimestamp();return new MK(t.seconds,t.nanoseconds)}function cl(e){var t=new Un(e.seconds,e.nanoseconds);return ge.fromTimestamp(t)}function du(e,t){for(var n=(t.baseMutations||[]).map(function(c){return kR(e.Kt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return kR(e.Kt,c)}),l=Un.fromMillis(t.localWriteTimeMs);return new lI(t.batchId,l,n,a)}function qc(e){var t,n,r=cl(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?cl(e.lastLimboFreeSnapshotVersion):ge.min();return e.query.documents!==void 0?(oe((n=e.query).documents.length===1),t=Tr(Rl(vM(n.documents[0])))):t=function(s){return Tr(wM(s))}(e.query),new Vg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,wn.fromBase64String(e.resumeToken))}function NM(e,t){var n,r=ll(t.snapshotVersion),i=ll(t.lastLimboFreeSnapshotVersion);n=Rv(t.target)?yM(e.Kt,t.target):_M(e.Kt,t.target);var s=t.resumeToken.toBase64();return new On(t.targetId,_h(t.target),r,s,t.sequenceNumber,i,n)}function fI(e){var t=wM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Y2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qK=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return OR(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:cl(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return OR(t).put({bundleId:(r=n).id,createTime:ll(xt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return xR(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:fI(i.bundledQuery),readTime:cl(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return xR(t).put(function(r){return{name:r.name,readTime:ll(xt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function OR(e){return $n(e,sl.store)}function xR(e){return $n(e,al.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zK=function(){function e(){this.Wt=new hI}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Wt.add(n),j.resolve()},e.prototype.getCollectionParents=function(t,n){return j.resolve(this.Wt.getEntries(n))},e}(),hI=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new St(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new St(Ne.comparator)).toArray()},e}(),GK=function(){function e(){this.jt=new hI}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.jt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.jt.add(n)});var a={collectionId:i,parent:Gr(s)};return LR(t).put(a)}return j.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[q2(n),""],!1,!0);return LR(t).kt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Fi(c.parent))}return r})},e}();function LR(e){return $n(e,na.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},si=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(e,t,n){var r=e.store(qe.store),i=e.store(Qt.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.qt({range:a},function(w,b,C){return l++,C.delete()});s.push(c.next(function(){oe(l===1)}));for(var h=[],p=0,g=n.mutations;p<g.length;p++){var m=g[p],y=Qt.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return j.waitFor(s).next(function(){return h})}function Lv(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw J();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(41943040,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);var HK=function(){function e(t,n,r,i){this.userId=t,this.D=n,this.Gt=r,this.referenceDelegate=i,this.zt={}}return e.Ht=function(t,n,r,i){return oe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mo(t).qt({index:qe.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=pu(t),l=mo(t);return l.add({}).next(function(c){oe(typeof c=="number");for(var h=new lI(c,n,r,i),p=function(T,I,S){var D=S.baseMutations.map(function(P){return xv(T.Kt,P)}),L=S.mutations.map(function(P){return xv(T.Kt,P)});return new qe(I,S.batchId,S.localWriteTime.toMillis(),D,L)}(s.D,s.userId,h),g=[],m=new St(function(T,I){return _e(T.canonicalString(),I.canonicalString())}),y=0,w=i;y<w.length;y++){var b=w[y],C=Qt.key(s.userId,b.key.path,c);m=m.add(b.key.path.popLast()),g.push(l.put(p)),g.push(a.put(C,Qt.PLACEHOLDER))}return m.forEach(function(T){g.push(s.Gt.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.zt[c]=h.keys()}),j.waitFor(g).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return mo(t).get(n).next(function(i){return i?(oe(i.userId===r.userId),du(r.D,i)):null})},e.prototype.Jt=function(t,n){var r=this;return this.zt[n]?j.resolve(this.zt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.zt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return mo(t).qt({index:qe.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(oe(c.batchId>=i),a=du(r.D,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return mo(t).qt({index:qe.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mo(t).kt(qe.userMutationsIndex,r).next(function(i){return i.map(function(s){return du(n.D,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=Qt.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return pu(t).qt({range:s},function(l,c,h){var p=l[0],g=l[1],m=l[2],y=Fi(g);if(p===r.userId&&n.path.isEqual(y))return mo(t).get(m).next(function(w){if(!w)throw J();oe(w.userId===r.userId),a.push(du(r.D,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new St(_e),s=[];return n.forEach(function(a){var l=Qt.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=pu(t).qt({range:c},function(p,g,m){var y=p[0],w=p[1],b=p[2],C=Fi(w);y===r.userId&&a.path.isEqual(C)?i=i.add(b):m.done()});s.push(h)}),j.waitFor(s).next(function(){return r.Yt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=Qt.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new St(_e);return pu(t).qt({range:l},function(h,p,g){var m=h[0],y=h[1],w=h[2],b=Fi(y);m===r.userId&&i.isPrefixOf(b)?b.length===s&&(c=c.add(w)):g.done()}).next(function(){return r.Yt(t,c)})},e.prototype.Yt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(mo(t).get(a).next(function(l){if(l===null)throw J();oe(l.userId===r.userId),i.push(du(r.D,l))}))}),j.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return AM(t.Qt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Xt(n.batchId)}),j.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Xt=function(t){delete this.zt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return j.resolve();var i=IDBKeyRange.lowerBound(Qt.prefixForUser(n.userId)),s=[];return pu(t).qt({range:i},function(a,l,c){if(a[0]===n.userId){var h=Fi(a[1]);s.push(h)}else c.done()}).next(function(){oe(s.length===0)})})},e.prototype.containsKey=function(t,n){return RM(t,this.userId,n)},e.prototype.Zt=function(t){var n=this;return PM(t).get(this.userId).next(function(r){return r||new Go(n.userId,-1,"")})},e}();function RM(e,t,n){var r=Qt.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return pu(e).qt({range:s,Bt:!0},function(l,c,h){var p=l[0],g=l[1];l[2],p===t&&g===i&&(a=!0),h.done()}).next(function(){return a})}function mo(e){return $n(e,qe.store)}function pu(e){return $n(e,Qt.store)}function PM(e){return $n(e,Go.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mv=function(){function e(t){this.te=t}return e.prototype.next=function(){return this.te+=2,this.te},e.ee=function(){return new e(0)},e.ne=function(){return new e(-1)},e}(),WK=function(){function e(t,n){this.referenceDelegate=t,this.D=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.se(t).next(function(r){var i=new Mv(r.highestTargetId);return r.highestTargetId=i.next(),n.ie(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(n){return ge.fromTimestamp(new Un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.se(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.ie(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.re(t,n).next(function(){return r.se(t).next(function(i){return i.targetCount+=1,r.oe(n,i),r.ie(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.re(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return cu(t).delete(n.targetId)}).next(function(){return r.se(t)}).next(function(i){return oe(i.targetCount>0),i.targetCount-=1,r.ie(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return cu(t).qt(function(l,c){var h=qc(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return j.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return cu(t).qt(function(r,i){var s=qc(i);n(s)})},e.prototype.se=function(t){return FR(t).get(Qn.key).next(function(n){return oe(n!==null),n})},e.prototype.ie=function(t,n){return FR(t).put(Qn.key,n)},e.prototype.re=function(t,n){return cu(t).put(NM(this.D,n))},e.prototype.oe=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.se(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=_h(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return cu(t).qt({range:i,index:On.queryTargetsIndexName},function(a,l,c){var h=qc(l);Mg(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=No(t);return n.forEach(function(l){var c=Gr(l.path);s.push(a.put(new Bt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),j.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=No(t);return j.forEach(n,function(a){var l=Gr(a.path);return j.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=No(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=No(t),s=De();return i.qt({range:r,Bt:!0},function(a,l,c){var h=Fi(a[1]),p=new te(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Gr(n.path),i=IDBKeyRange.bound([r],[q2(r)],!1,!0),s=0;return No(t).qt({index:Bt.documentTargetsIndex,Bt:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.yt=function(t,n){return cu(t).get(n).next(function(r){return r?qc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e){return $n(e,On.store)}function FR(e){return $n(e,Qn.store)}function No(e){return $n(e,Bt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(e){return A(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==O.FAILED_PRECONDITION||e.message!==IM)throw e;return $("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=_e(n,i);return a===0?_e(r,s):a}var KK=function(){function e(t){this.ce=t,this.buffer=new St(UR),this.ae=0}return e.prototype.ue=function(){return++this.ae},e.prototype.he=function(t){var n=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();UR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),QK=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.le=!1,this.fe=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.de(t)},e.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.fe!==null},enumerable:!1,configurable:!0}),e.prototype.de=function(t){var n=this,r=this.le?3e5:6e4;$("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.fe=null,this.le=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Aa(i=s.sent())?($("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ra(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return s.sent(),[2]}})})})},e}(),YK=function(){function e(t,n){this.we=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.we._e(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return j.resolve(Jn.o);var i=new KK(n);return this.we.forEachTarget(t,function(s){return i.he(s.sequenceNumber)}).next(function(){return r.we.me(t,function(s){return i.he(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.we.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.we.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(MR)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?($("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),MR):r.ye(t,n)})},e.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},e.prototype.ye=function(t,n){var r,i,s,a,l,c,h,p=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),EE()<=pe.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-g)+"ms"),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),XK=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new YK(r,i)}(this,n)}return e.prototype._e=function(t){var n=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.ge=function(t){var n=0;return this.me(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.me=function(t,n){return this.pe(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return op(t,r)},e.prototype.removeReference=function(t,n,r){return op(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return op(t,n)},e.prototype.Ee=function(t,n){return function(r,i){var s=!1;return PM(r).Ut(function(a){return RM(r,a,i).next(function(l){return l&&(s=!0),j.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.pe(t,function(l,c){if(c<=n){var h=r.Ee(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),No(t).delete([0,Gr(l.path)])})});s.push(h)}}).next(function(){return j.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return op(t,n)},e.prototype.pe=function(t,n){var r,i=No(t),s=Jn.o;return i.qt({index:Bt.documentTargetsIndex},function(a,l){var c=a[0],h=(a[1],l.path),p=l.sequenceNumber;c===0?(s!==Jn.o&&n(new te(Fi(r)),s),s=p,r=h):s=Jn.o}).next(function(){s!==Jn.o&&n(new te(Fi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function op(e,t){return No(e).put(function(n,r){return new Bt(0,Gr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){yh(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return z2(this.inner)},e}(),DM=function(){function e(){this.changes=new Pl(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ge.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?j.resolve(r.maybeDocument):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),JK=function(){function e(t,n){this.D=t,this.Gt=n}return e.prototype.addEntry=function(t,n,r){return To(t).put(sp(n),r)},e.prototype.removeEntry=function(t,n){var r=To(t),i=sp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.Te(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return To(t).get(sp(n)).next(function(i){return r.Ie(i)})},e.prototype.Ae=function(t,n){var r=this;return To(t).get(sp(n)).next(function(i){var s=r.Ie(i);return s?{maybeDocument:s,size:Lv(i)}:null})},e.prototype.getEntries=function(t,n){var r=this,i=Ov();return this.Re(t,n,function(s,a){var l=r.Ie(a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.be=function(t,n){var r=this,i=Ov(),s=new rn(te.comparator);return this.Re(t,n,function(a,l){var c=r.Ie(l);c?(i=i.insert(a,c),s=s.insert(a,Lv(l))):(i=i.insert(a,null),s=s.insert(a,0))}).next(function(){return{ve:i,Pe:s}})},e.prototype.Re=function(t,n,r){if(n.isEmpty())return j.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return To(t).qt({range:i},function(l,c,h){for(var p=te.fromSegments(l);a&&te.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ot(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Bf(),a=n.path.length+1,l={};if(r.isEqual(ge.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=cI(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=st.collectionReadTimeIndex}return To(t).qt(l,function(g,m,y){if(g.length===a){var w=CE(i.D,m);n.path.isPrefixOf(w.key.path)?w instanceof Fe&&Eh(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new ZK(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return jR(t).get(ci.key).next(function(n){return oe(!!n),n})},e.prototype.Te=function(t,n){return jR(t).put(ci.key,n)},e.prototype.Ie=function(t){if(t){var n=CE(this.D,t);return n instanceof Tt&&n.version.isEqual(ge.min())?null:n}return null},e}(),ZK=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ve=n,i.trackRemovals=r,i.Se=new Pl(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return q(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new St(function(l,c){return _e(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Se.get(l);if(c.maybeDocument){var p=DR(r.Ve.D,c.maybeDocument,r.getReadTime(l));a=a.add(l.path.popLast());var g=Lv(p);s+=g-h,i.push(r.Ve.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=DR(r.Ve.D,new Tt(l,ge.min()),r.getReadTime(l));i.push(r.Ve.addEntry(n,l,m))}else i.push(r.Ve.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ve.Gt.addToCollectionParentIndex(n,l))}),i.push(this.Ve.updateMetadata(n,s)),j.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ve.Ae(n,r).next(function(s){return s===null?(i.Se.set(r,0),null):(i.Se.set(r,s.size),s.maybeDocument)})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ve.be(n,r).next(function(s){var a=s.ve;return s.Pe.forEach(function(l,c){i.Se.set(l,c)}),a})},t}(DM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(e){return $n(e,ci.store)}function To(e){return $n(e,st.store)}function sp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e5=function(){function e(t){this.D=t}return e.prototype.St=function(t,n,r,i){var s=this;oe(r<i&&r>=0&&i<=11);var a=new SM("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Kn.store)}(t),function(c){c.createObjectStore(Go.store,{keyPath:Go.keyPath}),c.createObjectStore(qe.store,{keyPath:qe.keyPath,autoIncrement:!0}).createIndex(qe.userMutationsIndex,qe.userMutationsKeyPath,{unique:!0}),c.createObjectStore(Qt.store)}(t),VR(t),function(c){c.createObjectStore(st.store)}(t));var l=j.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Bt.store),c.deleteObjectStore(On.store),c.deleteObjectStore(Qn.store)}(t),VR(t)),l=l.next(function(){return function(c){var h=c.store(Qn.store),p=new Qn(0,0,ge.min().toTimestamp(),0);return h.put(Qn.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(qe.store).kt().next(function(p){c.deleteObjectStore(qe.store),c.createObjectStore(qe.store,{keyPath:qe.keyPath,autoIncrement:!0}).createIndex(qe.userMutationsIndex,qe.userMutationsKeyPath,{unique:!0});var g=h.store(qe.store),m=p.map(function(y){return g.put(y)});return j.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(Vi.store,{keyPath:Vi.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.De(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(ci.store)}(t),s.Ce(a)})),r<7&&i>=7&&(l=l.next(function(){return s.xe(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Ne(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(st.store);h.createIndex(st.readTimeIndex,st.readTimeIndexPath,{unique:!1}),h.createIndex(st.collectionReadTimeIndex,st.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.$e(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(sl.store,{keyPath:sl.keyPath})})(t),function(c){c.createObjectStore(al.store,{keyPath:al.keyPath})}(t)})),l},e.prototype.Ce=function(t){var n=0;return t.store(st.store).qt(function(r,i){n+=Lv(i)}).next(function(){var r=new ci(n);return t.store(ci.store).put(ci.key,r)})},e.prototype.De=function(t){var n=this,r=t.store(Go.store),i=t.store(qe.store);return r.kt().next(function(s){return j.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.kt(qe.userMutationsIndex,l).next(function(c){return j.forEach(c,function(h){oe(h.userId===a.userId);var p=du(n.D,h);return AM(t,a.userId,p).next(function(){})})})})})},e.prototype.xe=function(t){var n=t.store(Bt.store),r=t.store(st.store);return t.store(Qn.store).get(Qn.key).next(function(i){var s=[];return r.qt(function(a,l){var c=new Ne(a),h=function(p){return[0,Gr(p)]}(c);s.push(n.get(h).next(function(p){return p?j.resolve():function(g){return n.put(new Bt(0,Gr(g),i.highestListenSequenceNumber))}(c)}))}).next(function(){return j.waitFor(s)})})},e.prototype.Ne=function(t,n){t.createObjectStore(na.store,{keyPath:na.keyPath});var r=n.store(na.store),i=new hI,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Gr(c)})}};return n.store(st.store).qt({Bt:!0},function(a,l){var c=new Ne(a);return s(c.popLast())}).next(function(){return n.store(Qt.store).qt({Bt:!0},function(a,l){a[0];var c=a[1],h=(a[2],Fi(c));return s(h.popLast())})})},e.prototype.$e=function(t){var n=this,r=t.store(On.store);return r.qt(function(i,s){var a=qc(s),l=NM(n.D,a);return r.put(l)})},e}();function VR(e){e.createObjectStore(Bt.store,{keyPath:Bt.keyPath}).createIndex(Bt.documentTargetsIndex,Bt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(On.store,{keyPath:On.keyPath}).createIndex(On.queryTargetsIndexName,On.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qn.store)}var C_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",t5=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=s,this.window=a,this.document=l,this.Oe=h,this.ke=p,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(g){return Promise.resolve()},!e.At())throw new F(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XK(this,i),this.We=n+"main",this.D=new kM(c),this.je=new ul(this.We,11,new e5(this.D)),this.Ge=new WK(this.referenceDelegate,this.D),this.Gt=new GK,this.ze=function(g,m){return new JK(g,m)}(this.D,this.Gt),this.He=new qK,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,p===!1&&gt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new F(O.FAILED_PRECONDITION,C_);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.Ge.getHighestSequenceNumber(n)})}).then(function(n){t.Me=new Jn(n,t.Oe)}).then(function(){t.Le=!0}).catch(function(n){return t.je&&t.je.close(),Promise.reject(n)})},e.prototype.en=function(t){var n=this;return this.Ke=function(r){return A(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.je.Ct(function(r){return A(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return A(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return ap(n).put(new Vi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(n).next(function(r){r||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(n)}).next(function(r){return t.isPrimary&&!r?t.rn(n).next(function(){return!1}):!!r&&t.on(n).next(function(){return!0})})}).catch(function(n){if(Aa(n))return $("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return $("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Fe.enqueueRetryable(function(){return t.Ke(n)}),t.isPrimary=n})},e.prototype.nn=function(t){var n=this;return Mc(t).get(Kn.key).next(function(r){return j.resolve(n.cn(r))})},e.prototype.an=function(t){return ap(t).delete(this.clientId)},e.prototype.un=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=$n(l,Vi.store);return c.kt().next(function(h){var p=s.ln(h,18e5),g=h.filter(function(m){return p.indexOf(m)===-1});return j.forEach(g,function(m){return c.delete(m.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Je)for(n=0,r=t;n<r.length;n++)i=r[n],this.Je.removeItem(this.fn(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},e.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.sn=function(t){var n=this;return this.ke?j.resolve(!0):Mc(t).get(Kn.key).next(function(r){if(r!==null&&n.hn(r.leaseTimestampMs,5e3)&&!n.dn(r.ownerId)){if(n.cn(r)&&n.networkEnabled)return!0;if(!n.cn(r)){if(!r.allowTabSynchronization)throw new F(O.FAILED_PRECONDITION,C_);return!1}}return!(!n.networkEnabled||!n.inForeground)||ap(t).kt().next(function(i){return n.ln(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&$("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return A(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Kn.store,Vi.store],function(r){var i=new PR(r,Jn.o);return t.rn(i).next(function(){return t.an(i)})})];case 1:return n.sent(),this.je.close(),this.yn(),[2]}})})},e.prototype.ln=function(t,n){var r=this;return t.filter(function(i){return r.hn(i.updateTimeMs,n)&&!r.dn(i.clientId)})},e.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return ap(n).kt().next(function(r){return t.ln(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return HK.Ht(t,this.D,this.Gt,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(t,n,r){var i=this;$("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.je.runTransaction(t,a,jK,function(l){return s=new PR(l,i.Me?i.Me.next():Jn.o),n==="readwrite-primary"?i.nn(s).next(function(c){return!!c||i.sn(s)}).next(function(c){if(!c)throw gt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new F(O.FAILED_PRECONDITION,IM);return r(s)}).next(function(c){return i.on(s).next(function(){return c})}):i.pn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.pn=function(t){var n=this;return Mc(t).get(Kn.key).next(function(r){if(r!==null&&n.hn(r.leaseTimestampMs,5e3)&&!n.dn(r.ownerId)&&!n.cn(r)&&!(n.ke||n.allowTabSynchronization&&r.allowTabSynchronization))throw new F(O.FAILED_PRECONDITION,C_)})},e.prototype.on=function(t){var n=new Kn(this.clientId,this.allowTabSynchronization,Date.now());return Mc(t).put(Kn.key,n)},e.At=function(){return ul.At()},e.prototype.rn=function(t){var n=this,r=Mc(t);return r.get(Kn.key).next(function(i){return n.cn(i)?($("IndexedDbPersistence","Releasing primary lease."),r.delete(Kn.key)):j.resolve()})},e.prototype.hn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(gt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.Xe=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground=this.document.visibilityState==="visible")},e.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},e.prototype.Ze=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Be=function(){n.wn(),n.Fe.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Be))},e.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},e.prototype.dn=function(t){var n;try{var r=((n=this.Je)===null||n===void 0?void 0:n.getItem(this.fn(t)))!==null;return $("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return gt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){gt("Failed to set zombie client id.",t)}},e.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch{}},e.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Mc(e){return $n(e,Kn.store)}function ap(e){return $n(e,Vi.store)}function dI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var n5=function(e,t){this.progress=e,this.En=t},OM=function(){function e(t,n,r){this.ze=t,this.Tn=n,this.Gt=r}return e.prototype.In=function(t,n){var r=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.An(t,n,i)})},e.prototype.An=function(t,n,r){return this.ze.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].applyToLocalView(n,i);return i})},e.prototype.Rn=function(t,n,r){var i=Ov();return n.forEach(function(s,a){for(var l=0,c=r;l<c.length;l++)a=c[l].applyToLocalView(s,a);i=i.insert(s,a)}),i},e.prototype.bn=function(t,n){var r=this;return this.ze.getEntries(t,n).next(function(i){return r.vn(t,i)})},e.prototype.vn=function(t,n){var r=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){var s=r.Rn(t,n,i),a=Yi();return s.forEach(function(l,c){c||(c=new Tt(l,ge.min())),a=a.insert(l,c)}),a})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Pn(t,n.path):nI(n)?this.Vn(t,n,r):this.Sn(t,n,r)},e.prototype.Pn=function(t,n){return this.In(t,new te(n)).next(function(r){var i=Bf();return r instanceof Fe&&(i=i.insert(r.key,r)),i})},e.prototype.Vn=function(t,n,r){var i=this,s=n.collectionGroup,a=Bf();return this.Gt.getCollectionParents(t,s).next(function(l){return j.forEach(l,function(c){var h=function(p,g){return new eo(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.Sn(t,h,r).next(function(p){p.forEach(function(g,m){a=a.insert(g,m)})})}).next(function(){return a})})},e.prototype.Sn=function(t,n,r){var i,s,a=this;return this.ze.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a.Tn.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Dn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var g=p[h],m=0,y=g.mutations;m<y.length;m++){var w=y[m],b=w.key,C=SE(w,i.get(b),g.localWriteTime);i=C instanceof Fe?i.insert(b,C):i.remove(b)}})}).next(function(){return i.forEach(function(l,c){Eh(n,c)||(i=i.remove(l))}),i})},e.prototype.Dn=function(t,n,r){for(var i=De(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof hs&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.ze.getEntries(t,i).next(function(g){return g.forEach(function(m,y){y!==null&&y instanceof Fe&&(p=p.insert(m,y))}),p})},e}(),r5=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.Cn=r,this.xn=i}return e.Nn=function(t,n){for(var r=De(),i=De(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),xM=function(){function e(){}return e.prototype.$n=function(t){this.Fn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ge.min())?this.On(t,n):this.Fn.bn(t,i).next(function(a){var l=s.kn(n,a);return(Cp(n)||Dv(n))&&s.Mn(n.limitType,l,i,r)?s.On(t,n):(EE()<=pe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),TE(n)),s.Fn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.kn=function(t,n){var r=new St(J2(t));return n.forEach(function(i,s){s instanceof Fe&&Eh(t,s)&&(r=r.add(s))}),r},e.prototype.Mn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.On=function(t,n){return EE()<=pe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",TE(n)),this.Fn.getDocumentsMatchingQuery(t,n,ge.min())},e}(),i5=function(){function e(t,n,r,i){this.persistence=t,this.Ln=n,this.D=i,this.Bn=new rn(_e),this.qn=new Pl(function(s){return _h(s)},Mg),this.Un=ge.min(),this.Tn=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new OM(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Bn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(e,t,n,r){return new i5(e,t,n,r)}function MM(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=z(e),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n.Tn.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new OM(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],g=[],m=De(),y=0,w=c;y<w.length;y++){var b=w[y];p.push(b.batchId);for(var C=0,T=b.mutations;C<T.length;C++){var I=T[C];m=m.add(I.key)}}for(var S=0,D=h;S<D.length;S++){var L=D[S];g.push(L.batchId);for(var P=0,U=L.mutations;P<U.length;P++){var H=U[P];m=m.add(H.key)}}return i.bn(l,m).next(function(W){return{Wn:W,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return s=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),s)]}})})}function o5(e,t){var n=z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.Qn.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,g=p.keys(),m=j.resolve();return g.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(w){var b=w,C=c.docVersions.get(y);oe(C!==null),(!b||b.version.compareTo(C)<0)&&(b=p.applyToRemoteDocument(y,b,c))&&h.addEntry(b,c.commitVersion)})}),m.next(function(){return a.Tn.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n.Tn.performConsistencyCheck(r)}).next(function(){return n.Kn.bn(r,i)})})}function FM(e){var t=z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.Ge.getLastRemoteSnapshotVersion(n)})}function s5(e,t){var n=z(e),r=t.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var l=[];t.targetChanges.forEach(function(p,g){var m=i.get(g);if(m){l.push(n.Ge.removeMatchingKeys(s,p.removedDocuments,g).next(function(){return n.Ge.addMatchingKeys(s,p.addedDocuments,g)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var w=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(g,w),function(b,C,T){return oe(C.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,w,p)&&l.push(n.Ge.updateTargetData(s,w))}}});var c=Yi();if(t.documentUpdates.forEach(function(p,g){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(UM(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(ge.min())){var h=n.Ge.getLastRemoteSnapshotVersion(s).next(function(p){return n.Ge.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return j.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Kn.vn(s,c)})}).then(function(s){return n.Bn=i,s})}function UM(e,t,n,r,i){var s=De();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Yi();return n.forEach(function(c,h){var p=a.get(c),g=(i==null?void 0:i.get(c))||r;h instanceof Tt&&h.version.isEqual(ge.min())?(t.removeEntry(c,g),l=l.insert(c,h)):p==null||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,g),l=l.insert(c,h)):$("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function a5(e,t){var n=z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n.Tn.getNextMutationBatchAfterBatchId(r,t)})}function fl(e,t){var n=z(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.Ge.getTargetData(r,t).next(function(s){return s?(i=s,j.resolve(i)):n.Ge.allocateTargetId(r).next(function(a){return i=new Vg(t,a,0,r.currentSequenceNumber),n.Ge.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Bn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(r.targetId,r),n.qn.set(t,r.targetId)),r})}function hl(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=z(e),i=r.Bn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Aa(a=l.sent()))throw a;return $("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(t),r.qn.delete(i.target),[2]}})})}function Fv(e,t,n){var r=z(e),i=ge.min(),s=De();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=z(l),g=p.qn.get(h);return g!==void 0?j.resolve(p.Bn.get(g)):p.Ge.getTargetData(c,h)}(r,a,Tr(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.Ln.getDocumentsMatchingQuery(a,t,n?i:ge.min(),n?s:De())}).next(function(l){return{documents:l,jn:s}})})}function jM(e,t){var n=z(e),r=z(n.Ge),i=n.Bn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.yt(s,t).next(function(a){return a?a.target:null})})}function VM(e){var t=z(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=z(r),l=Yi(),c=cI(s),h=To(i),p=IDBKeyRange.lowerBound(c,!0);return h.qt({index:st.readTimeIndex,range:p},function(g,m){var y=CE(a.D,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{En:l,readTime:CM(c)}})}(t.Qn,n,t.Un)}).then(function(n){var r=n.En,i=n.readTime;return t.Un=i,r})}function u5(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=z(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=To(i),a=ge.min();return s.qt({index:st.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=CM(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.Un=r})]})})}function l5(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y;return N(this,function(w){switch(w.label){case 0:for(i=z(e),s=De(),a=Yi(),l=cM(),c=0,h=n;c<h.length;c++)p=h[c],g=t.Gn(p.metadata.name),p.document&&(s=s.add(g)),a=a.insert(g,t.zn(p)),l=l.insert(g,t.Hn(p.metadata.readTime));return m=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,fl(i,function(b){return Tr(Rl(Ne.fromString("__bundle__/docs/"+b)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(b){return UM(b,m,a,ge.min(),l).next(function(C){return m.apply(b),C}).next(function(C){return i.Ge.removeMatchingKeysForTargetId(b,y.targetId).next(function(){return i.Ge.addMatchingKeys(b,s,y.targetId)}).next(function(){return i.Kn.vn(b,C)})})})]}})})}function c5(e,t,n){return n===void 0&&(n=De()),A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,fl(e,Tr(fI(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=z(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=xt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.He.saveNamedQuery(a,t);var c=r.withResumeToken(wn.EMPTY_BYTE_STRING,l);return i.Bn=i.Bn.insert(c.targetId,c),i.Ge.updateTargetData(a,c).next(function(){return i.Ge.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f5=function(){function e(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return e.prototype.getBundleMetadata=function(t,n){return j.resolve(this.Jn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:xt(r.createTime)}),j.resolve()},e.prototype.getNamedQuery=function(t,n){return j.resolve(this.Yn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:fI(r.bundledQuery),readTime:xt(r.readTime)}}(n)),j.resolve()},e}(),pI=function(){function e(){this.Xn=new St(Rt.Zn),this.ts=new St(Rt.es)}return e.prototype.isEmpty=function(){return this.Xn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Rt(t,n);this.Xn=this.Xn.add(r),this.ts=this.ts.add(r)},e.prototype.ns=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.ss(new Rt(t,n))},e.prototype.rs=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.os=function(t){var n=this,r=new te(new Ne([])),i=new Rt(r,t),s=new Rt(r,t+1),a=[];return this.ts.forEachInRange([i,s],function(l){n.ss(l),a.push(l.key)}),a},e.prototype.cs=function(){var t=this;this.Xn.forEach(function(n){return t.ss(n)})},e.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},e.prototype.us=function(t){var n=new te(new Ne([])),r=new Rt(n,t),i=new Rt(n,t+1),s=De();return this.ts.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Rt(t,0),r=this.Xn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Rt=function(){function e(t,n){this.key=t,this.hs=n}return e.Zn=function(t,n){return te.comparator(t.key,n.key)||_e(t.hs,n.hs)},e.es=function(t,n){return _e(t.hs,n.hs)||te.comparator(t.key,n.key)},e}(),h5=function(){function e(t,n){this.Gt=t,this.referenceDelegate=n,this.Tn=[],this.ls=1,this.fs=new St(Rt.Zn)}return e.prototype.checkEmpty=function(t){return j.resolve(this.Tn.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var a=new lI(s,n,r,i);this.Tn.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.fs=this.fs.add(new Rt(h.key,s)),this.Gt.addToCollectionParentIndex(t,h.key.path.popLast())}return j.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return j.resolve(this.ds(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.ws(r),s=i<0?0:i;return j.resolve(this.Tn.length>s?this.Tn[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return j.resolve(this.Tn.length===0?-1:this.ls-1)},e.prototype.getAllMutationBatches=function(t){return j.resolve(this.Tn.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),a=[];return this.fs.forEachInRange([i,s],function(l){var c=r.ds(l.hs);a.push(c)}),j.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new St(_e);return n.forEach(function(s){var a=new Rt(s,0),l=new Rt(s,Number.POSITIVE_INFINITY);r.fs.forEachInRange([a,l],function(c){i=i.add(c.hs)})}),j.resolve(this._s(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));var a=new Rt(new te(s),0),l=new St(_e);return this.fs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.hs)),!0)},a),j.resolve(this._s(l))},e.prototype._s=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.ds(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;oe(this.ys(n.batchId,"removed")===0),this.Tn.shift();var i=this.fs;return j.forEach(n.mutations,function(s){var a=new Rt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.fs=i})},e.prototype.Xt=function(t){},e.prototype.containsKey=function(t,n){var r=new Rt(n,0),i=this.fs.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this.Tn.length,j.resolve()},e.prototype.ys=function(t,n){return this.ws(t)},e.prototype.ws=function(t){return this.Tn.length===0?0:t-this.Tn[0].batchId},e.prototype.ds=function(t){var n=this.ws(t);return n<0||n>=this.Tn.length?null:this.Tn[n]},e}(),d5=function(){function e(t,n){this.Gt=t,this.gs=n,this.docs=new rn(te.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.gs(n);return this.docs=this.docs.insert(i,{maybeDocument:n,size:l,readTime:r}),this.size+=l-a,this.Gt.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return j.resolve(r?r.maybeDocument:null)},e.prototype.getEntries=function(t,n){var r=this,i=Ov();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.maybeDocument:null)}),j.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Bf(),s=new te(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.maybeDocument,g=h.readTime;if(!n.path.isPrefixOf(c.path))break;g.compareTo(r)<=0||p instanceof Fe&&Eh(n,p)&&(i=i.insert(p.key,p))}return j.resolve(i)},e.prototype.ps=function(t,n){return j.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new p5(this)},e.prototype.getSize=function(t){return j.resolve(this.size)},e}(),p5=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ve=n,r}return q(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a&&a.maybeDocument?i.push(r.Ve.addEntry(n,a.maybeDocument,r.getReadTime(s))):r.Ve.removeEntry(s)}),j.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ve.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ve.getEntries(n,r)},t}(DM),v5=function(){function e(t){this.persistence=t,this.Es=new Pl(function(n){return _h(n)},Mg),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Ts=0,this.Is=new pI,this.targetCount=0,this.As=Mv.ee()}return e.prototype.forEachTarget=function(t,n){return this.Es.forEach(function(r,i){return n(i)}),j.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return j.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return j.resolve(this.Ts)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),j.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ts&&(this.Ts=n),j.resolve()},e.prototype.re=function(t){this.Es.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.As=new Mv(n),this.highestTargetId=n),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.re(n),this.targetCount+=1,j.resolve()},e.prototype.updateTargetData=function(t,n){return this.re(n),j.resolve()},e.prototype.removeTargetData=function(t,n){return this.Es.delete(n.target),this.Is.os(n.targetId),this.targetCount-=1,j.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.Es.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.Es.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),j.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return j.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.Es.get(n)||null;return j.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this.Is.ns(n,r),j.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this.Is.rs(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),j.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this.Is.os(n),j.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this.Is.us(n);return j.resolve(r)},e.prototype.containsKey=function(t,n){return j.resolve(this.Is.containsKey(n))},e}(),g5=function(){function e(t,n){var r=this;this.Rs={},this.Me=new Jn(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new v5(this),this.Gt=new zK,this.ze=function(i,s){return new d5(i,function(a){return r.referenceDelegate.bs(a)})}(this.Gt),this.D=new kM(n),this.He=new f5(this.D)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getMutationQueue=function(t){var n=this.Rs[t.toKey()];return n||(n=new h5(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(t,n,r){var i=this;$("MemoryPersistence","Starting transaction:",t);var s=new m5(this.Me.next());return this.referenceDelegate.vs(),r(s).next(function(a){return i.referenceDelegate.Ps(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Vs=function(t,n){return j.or(Object.values(this.Rs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),m5=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return q(t,e),t}(TM),y5=function(){function e(t){this.persistence=t,this.Ss=new pI,this.Ds=null}return e.Cs=function(t){return new e(t)},Object.defineProperty(e.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw J()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.Ss.addReference(r,n),this.xs.delete(r.toString()),j.resolve()},e.prototype.removeReference=function(t,n,r){return this.Ss.removeReference(r,n),this.xs.add(r.toString()),j.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.xs.add(n.toString()),j.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.Ss.os(n.targetId).forEach(function(s){return r.xs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.xs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.vs=function(){this.Ds=new Set},e.prototype.Ps=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.xs,function(i){var s=te.fromPath(i);return n.Ns(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Ds=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ns(t,n).next(function(i){i?r.xs.delete(n.toString()):r.xs.add(n.toString())})},e.prototype.bs=function(t){return 0},e.prototype.Ns=function(t,n){var r=this;return j.or([function(){return j.resolve(r.Ss.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Vs(t,n)}])},e}(),Yn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(e,t){return"firestore_clients_"+e+"_"+t}function $R(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function N_(e,t){return"firestore_targets_"+e+"_"+t}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid");var qR=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.$s=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new F(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(gt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),A_=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.$s=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new F(i.error.code,i.error.message)),s?new e(t,i.state,r):(gt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),zR=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.$s=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=jg(),a=0;i&&a<r.activeTargetIds.length;++a)i=G2(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(gt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),_5=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.$s=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(gt("SharedClientState","Failed to parse online state: "+t),null)},e}(),NE=function(){function e(){this.activeTargetIds=jg()}return e.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),R_=function(){function e(t,n,r,i,s){this.window=t,this.Fe=n,this.persistenceKey=r,this.Ms=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new rn(_e),this.started=!1,this.Us=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Qs=BR(this.persistenceKey,this.Ms),this.Ks=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new NE),this.Ws=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.zs=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Hs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return e.At=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,g,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ms&&(s=this.getItem(BR(this.persistenceKey,i)))&&(a=zR.$s(i,s))&&(this.qs=this.qs.insert(a.clientId,a));for(this.Js(),(l=this.storage.getItem(this.zs))&&(c=this.Ys(l))&&this.Xs(c),h=0,p=this.Us;h<p.length;h++)g=p[h],this.Bs(g);return this.Us=[],this.window.addEventListener("unload",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.qs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.ti(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.ti(t,n,r),this.ei(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(N_(this.persistenceKey,t));if(r){var i=A_.$s(t,r);i&&(n=i.state)}}return this.ni.Os(t),this.Js(),n},e.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},e.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(N_(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.si(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.ei(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.ii(t)},e.prototype.notifyBundleLoaded=function(){this.ri()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return $("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){$("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){$("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Bs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if($("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return A(n,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){if(this.started){if(r.key!==null){if(this.Ws.test(r.key)){if(r.newValue==null)return i=this.oi(r.key),[2,this.ci(i,null)];if(s=this.ai(r.key,r.newValue))return[2,this.ci(s.clientId,s)]}else if(this.js.test(r.key)){if(r.newValue!==null&&(a=this.ui(r.key,r.newValue)))return[2,this.hi(a)]}else if(this.Gs.test(r.key)){if(r.newValue!==null&&(l=this.li(r.key,r.newValue)))return[2,this.fi(l)]}else if(r.key===this.zs){if(r.newValue!==null&&(c=this.Ys(r.newValue)))return[2,this.Xs(c)]}else if(r.key===this.Ks)(h=function(g){var m=Jn.o;if(g!=null)try{var y=JSON.parse(g);oe(typeof y=="number"),m=y}catch(w){gt("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(r.newValue))!==Jn.o&&this.sequenceNumberHandler(h);else if(r.key===this.Hs)return[2,this.syncEngine.di()]}}else this.Us.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),e.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},e.prototype.ti=function(t,n,r){var i=new qR(this.currentUser,t,n,r),s=$R(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Fs())},e.prototype.ei=function(t){var n=$R(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.ii=function(t){var n={clientId:this.Ms,onlineState:t};this.storage.setItem(this.zs,JSON.stringify(n))},e.prototype.si=function(t,n,r){var i=N_(this.persistenceKey,t),s=new A_(t,n,r);this.setItem(i,s.Fs())},e.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},e.prototype.oi=function(t){var n=this.Ws.exec(t);return n?n[1]:null},e.prototype.ai=function(t,n){var r=this.oi(t);return zR.$s(r,n)},e.prototype.ui=function(t,n){var r=this.js.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return qR.$s(new Yn(s),i,n)},e.prototype.li=function(t,n){var r=this.Gs.exec(t),i=Number(r[1]);return A_.$s(i,n)},e.prototype.Ys=function(t){return _5.$s(t)},e.prototype.hi=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:($("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},e.prototype.ci=function(t,n){var r=this,i=n?this.qs.insert(t,n):this.qs.remove(t),s=this.Zs(this.qs),a=this.Zs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.mi(l,c).then(function(){r.qs=i})},e.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Zs=function(t){var n=jg();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),BM=function(){function e(){this.yi=new NE,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.gi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},e.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.gi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},e.prototype.start=function(){return this.yi=new NE,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),w5=function(){function e(){}return e.prototype.pi=function(t){},e.prototype.shutdown=function(){},e}(),GR=function(){function e(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return e.prototype.pi=function(t){this.Ri.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},e.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},e.prototype.Ti=function(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.Ri;t<n.length;t++)(0,n[t])(0)},e.prototype.Ai=function(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.Ri;t<n.length;t++)(0,n[t])(1)},e.At=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),E5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},b5=function(){function e(t){this.vi=t.vi,this.Pi=t.Pi}return e.prototype.Vi=function(t){this.Si=t},e.prototype.Di=function(t){this.Ci=t},e.prototype.onMessage=function(t){this.xi=t},e.prototype.close=function(){this.Pi()},e.prototype.send=function(t){this.vi(t)},e.prototype.Ni=function(){this.Si()},e.prototype.$i=function(t){this.Ci(t)},e.prototype.Fi=function(t){this.xi(t)},e}(),I5=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return q(t,e),t.prototype.qi=function(n,r,i,s){return new Promise(function(a,l){var c=new eK;c.listenOnce(JW.COMPLETE,function(){try{switch(c.getLastErrorCode()){case k_.NO_ERROR:var p=c.getResponseJson();$("Connection","XHR received:",JSON.stringify(p)),a(p);break;case k_.TIMEOUT:$("Connection",'RPC "'+n+'" timed out'),l(new F(O.DEADLINE_EXCEEDED,"Request time out"));break;case k_.HTTP_ERROR:var g=c.getStatus();if($("Connection",'RPC "'+n+'" failed with status:',g,"response text:",c.getResponseText()),g>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(w){var b=w.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(b)>=0?b:O.UNKNOWN}(m.status);l(new F(y,m.message))}else l(new F(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new F(O.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{$("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Qi=function(n,r){var i=[this.Oi,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=YW(),a=XW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(l.initMessageHeaders,r),Fb()||ux()||Cq()||Nq()||Aq()||Ub()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");$("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,g=!1,m=new b5({vi:function(w){g?$("Connection","Not sending because WebChannel is closed:",w):(p||($("Connection","Opening WebChannel transport."),h.open(),p=!0),$("Connection","WebChannel sending:",w),h.send(w))},Pi:function(){return h.close()}}),y=function(w,b,C){w.listen(b,function(T){try{C(T)}catch(I){setTimeout(function(){throw I},0)}})};return y(h,rp.EventType.OPEN,function(){g||$("Connection","WebChannel transport opened.")}),y(h,rp.EventType.CLOSE,function(){g||(g=!0,$("Connection","WebChannel transport closed"),m.$i())}),y(h,rp.EventType.ERROR,function(w){g||(g=!0,Cv("Connection","WebChannel transport errored:",w),m.$i(new F(O.UNAVAILABLE,"The operation could not be completed")))}),y(h,rp.EventType.MESSAGE,function(w){var b;if(!g){var C=w.data[0];oe(!!C);var T=C,I=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(I){$("Connection","WebChannel received error:",I);var S=I.status,D=function(P){var U=dt[P];if(U!==void 0)return lM(U)}(S),L=I.message;D===void 0&&(D=O.INTERNAL,L="Unknown error status: "+S+" with message "+I.message),g=!0,m.$i(new F(D,L)),h.close()}else $("Connection","WebChannel received:",C),m.Fi(C)}}),y(a,ZW.STAT_EVENT,function(w){w.stat===uR.PROXY?$("Connection","Detected buffering proxy"):w.stat===uR.NOPROXY&&$("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Ni()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Oi=n+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Mi=function(t,n,r,i){var s=this.Li(t,n);$("RestConnection","Sending: ",s,r);var a={};return this.Bi(a,i),this.qi(t,s,a,r).then(function(l){return $("RestConnection","Received: ",l),l},function(l){throw Cv("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Ui=function(t,n,r,i){return this.Mi(t,n,r,i)},e.prototype.Bi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.Li=function(t,n){var r=E5[t];return this.Oi+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){return typeof window<"u"?window:null}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(e){return new NK(e,!0)}var vI=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Fe=t,this.timerId=n,this.Ki=r,this.Wi=i,this.ji=s,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return e.prototype.reset=function(){this.Gi=0},e.prototype.Ji=function(){this.Gi=this.ji},e.prototype.Yi=function(t){var n=this;this.cancel();var r=Math.floor(this.Gi+this.Xi()),i=Math.max(0,Date.now()-this.Hi),s=Math.max(0,r-i);s>0&&$("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,s,function(){return n.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},e.prototype.Zi=function(){this.zi!==null&&(this.zi.skipDelay(),this.zi=null)},e.prototype.cancel=function(){this.zi!==null&&(this.zi.cancel(),this.zi=null)},e.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},e}(),qM=function(){function e(t,n,r,i,s,a){this.Fe=t,this.tr=r,this.er=i,this.nr=s,this.listener=a,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new vI(t,n)}return e.prototype.cr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.ar=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.ur()},e.prototype.stop=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.hr=function(){this.state=0,this.rr.reset()},e.prototype.lr=function(){var t=this;this.ar()&&this.ir===null&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},e.prototype.wr=function(t){this._r(),this.stream.send(t)},e.prototype.dr=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},e.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},e.prototype.close=function(t,n){return A(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this._r(),this.rr.cancel(),this.sr++,t!==3?this.rr.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):n&&n.code===O.UNAUTHENTICATED&&this.nr.invalidateToken(),this.stream!==null&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(n)];case 1:return r.sent(),[2]}})})},e.prototype.mr=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.yr(this.sr),r=this.sr;this.nr.getToken().then(function(i){t.sr===r&&t.gr(i)},function(i){n(function(){var s=new F(O.UNKNOWN,"Fetching auth token failed: "+i.message);return t.pr(s)})})},e.prototype.gr=function(t){var n=this,r=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){r(function(){return n.state=2,n.listener.Vi()})}),this.stream.Di(function(i){r(function(){return n.pr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return A(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.pr=function(t){return $("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.yr=function(t){var n=this;return function(r){n.Fe.enqueueAndForget(function(){return n.sr===t?r():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),T5=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).D=s,l}return q(t,e),t.prototype.Er=function(n){return this.er.Qi("Listen",n)},t.prototype.onMessage=function(n){this.rr.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:J()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(C,T){return C.V?(oe(T===void 0||typeof T=="string"),wn.fromBase64String(T||"")):(oe(T===void 0||T instanceof Uint8Array),wn.fromUint8Array(T||new Uint8Array))}(s,a.targetChange.resumeToken),g=(m=a.targetChange.cause)&&function(C){var T=C.code===void 0?O.UNKNOWN:lM(C.code);return new F(T,C.message||"")}(m);l=new hM(c,h,p,g||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=pi(s,c.document.name),p=xt(c.document.updateTime);var m=new is({mapValue:{fields:c.document.fields}}),y=(g=new Fe(h,p,m,{}),c.targetIds||[]),w=c.removedTargetIds||[];l=new Ap(y,w,g.key,g)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=pi(s,c.document),p=c.readTime?xt(c.readTime):ge.min(),m=new Tt(h,p),g=c.removedTargetIds||[],l=new Ap([],g,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=pi(s,c.document),p=c.removedTargetIds||[],l=new Ap([],p,h,null);else{if(!("filter"in a))return J();a.filter;var b=a.filter;b.targetId,c=b.count||0,h=new _K(c),p=b.targetId,l=new fM(p,h)}return l}(this.D,n),i=function(s){if(!("targetChange"in s))return ge.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ge.min():a.readTime?xt(a.readTime):ge.min()}(n);return this.listener.Tr(r,i)},t.prototype.Ir=function(n){var r={};r.database=zf(this.D),r.addTarget=function(s,a){var l,c=a.target;return(l=Rv(c)?{documents:yM(s,c)}:{query:_M(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=dM(s,a.resumeToken):a.snapshotVersion.compareTo(ge.min())>0&&(l.readTime=$f(s,a.snapshotVersion.toTimestamp())),l}(this.D,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return J()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.D,n);i&&(r.labels=i),this.wr(r)},t.prototype.Ar=function(n){var r={};r.database=zf(this.D),r.removeTarget=n,this.wr(r)},t}(qM),S5=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).D=s,l.Rr=!1,l}return q(t,e),Object.defineProperty(t.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mr=function(){this.Rr&&this.vr([])},t.prototype.Er=function(n){return this.er.Qi("Write",n)},t.prototype.onMessage=function(n){if(oe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();var r=function(s,a){return s&&s.length>0?(oe(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?xt(c.updateTime):xt(h);return p.isEqual(ge.min())&&(p=xt(h)),new gK(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=xt(n.commitTime);return this.listener.Pr(i,r)}return oe(!n.writeResults||n.writeResults.length===0),this.Rr=!0,this.listener.Vr()},t.prototype.Sr=function(){var n={};n.database=zf(this.D),this.wr(n)},t.prototype.vr=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return xv(r.D,s)})};this.wr(i)},t}(qM),k5=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.er=r,s.D=i,s.Dr=!1,s}return q(t,e),t.prototype.Cr=function(){if(this.Dr)throw new F(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Mi=function(n,r,i){var s=this;return this.Cr(),this.credentials.getToken().then(function(a){return s.er.Mi(n,r,i,a)}).catch(function(a){throw a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a})},t.prototype.Ui=function(n,r,i){var s=this;return this.Cr(),this.credentials.getToken().then(function(a){return s.er.Ui(n,r,i,a)}).catch(function(a){throw a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a})},t.prototype.terminate=function(){this.Dr=!1},t}(function(){}),C5=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return e.prototype.Or=function(){var t=this;this.Nr===0&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},e.prototype.Lr=function(t){this.state==="Online"?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},e.prototype.set=function(t){this.Br(),this.Nr=0,t==="Online"&&(this.Fr=!1),this.kr(t)},e.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Mr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Fr?(gt(n),this.Fr=!1):$("OnlineStateTracker",n)},e.prototype.Br=function(){this.$r!==null&&(this.$r.cancel(),this.$r=null)},e}(),N5=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(a){n.enqueueAndForget(function(){return A(s,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return ds(this)?($("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return A(this,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return(h=z(c)).Qr.add(4),[4,Dl(h)];case 1:return p.sent(),h.jr.set("Unknown"),h.Qr.delete(4),[4,Ch(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.jr=new C5(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!ds(e))return[3,4];t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Dl(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Bg(e,t){var n=z(e);n.Ur.has(t.targetId)||(n.Ur.set(t.targetId,t),yI(n)?mI(n):xl(n).ar()&&gI(n,t))}function Gf(e,t){var n=z(e),r=xl(n);n.Ur.delete(t),r.ar()&&zM(n,t),n.Ur.size===0&&(r.ar()?r.lr():ds(n)&&n.jr.set("Unknown"))}function gI(e,t){e.Gr.H(t.targetId),xl(e).Ir(t)}function zM(e,t){e.Gr.H(t),xl(e).Ar(t)}function mI(e){e.Gr=new SK({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},yt:function(t){return e.Ur.get(t)||null}}),xl(e).start(),e.jr.Or()}function yI(e){return ds(e)&&!xl(e).cr()&&e.Ur.size>0}function ds(e){return z(e).Qr.size===0}function GM(e){e.Gr=void 0}function A5(e){return A(this,void 0,void 0,function(){return N(this,function(t){return e.Ur.forEach(function(n,r){gI(e,n)}),[2]})})}function R5(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){return GM(e),yI(e)?(e.jr.Lr(t),mI(e)):e.jr.set("Unknown"),[2]})})}function P5(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.jr.set("Online"),!(t instanceof hM&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return A(this,void 0,void 0,function(){var h,p,g,m;return N(this,function(y){switch(y.label){case 0:h=c.cause,p=0,g=c.targetIds,y.label=1;case 1:return p<g.length?(m=g[p],l.Ur.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.Ur.delete(m),l.Gr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),$("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Uv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ap?e.Gr.st(t):t instanceof fM?e.Gr.ht(t):e.Gr.ot(t),n.isEqual(ge.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,FM(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.Gr.dt(c);return h.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var m=l.Ur.get(g);m&&l.Ur.set(g,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var g=l.Ur.get(p);if(g){l.Ur.set(p,g.withResumeToken(wn.EMPTY_BYTE_STRING,g.snapshotVersion)),zM(l,p);var m=new Vg(g.target,p,1,g.sequenceNumber);gI(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return $("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Uv(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Uv(e,t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Aa(t))throw t;return e.Qr.add(1),[4,Dl(e)];case 1:return i.sent(),e.jr.set("Offline"),n||(n=function(){return FM(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return $("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Qr.delete(1),[4,Ch(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function HM(e,t){return t().catch(function(n){return Uv(e,n,t)})}function Ol(e){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=z(e),n=os(t),r=t.qr.length>0?t.qr[t.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return ds(l)&&l.qr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,a5(t.localStore,r)];case 3:return(i=a.sent())===null?(t.qr.length===0&&n.lr(),[3,7]):(r=i.batchId,function(l,c){l.qr.push(c);var h=os(l);h.ar()&&h.br&&h.vr(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,Uv(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return WM(t)&&KM(t),[2]}})})}function WM(e){return ds(e)&&!os(e).cr()&&e.qr.length>0}function KM(e){os(e).start()}function D5(e){return A(this,void 0,void 0,function(){return N(this,function(t){return os(e).Sr(),[2]})})}function O5(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=os(e),n=0,r=e.qr;n<r.length;n++)i=r[n],t.vr(i.mutations);return[2]})})}function x5(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.qr.shift(),i=$K.from(r,t,n),[4,HM(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Ol(e)];case 2:return s.sent(),[2]}})})}function L5(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&os(e).br?[4,function(r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return uM(a=i.code)&&a!==O.ABORTED?(s=r.qr.shift(),os(r).hr(),[4,HM(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Ol(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return WM(e)&&KM(e),[2]}})})}function AE(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=z(e),t?(n.Qr.delete(2),[4,Ch(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Qr.add(2),[4,Dl(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xl(e){var t=this;return e.zr||(e.zr=function(n,r,i){var s=z(n);return s.Cr(),new T5(r,s.er,s.credentials,s.D,i)}(e.datastore,e.asyncQueue,{Vi:A5.bind(null,e),Di:R5.bind(null,e),Tr:P5.bind(null,e)}),e.Kr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.zr.hr(),yI(e)?mI(e):e.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.zr.stop()];case 2:r.sent(),GM(e),r.label=3;case 3:return[2]}})})})),e.zr}function os(e){var t=this;return e.Hr||(e.Hr=function(n,r,i){var s=z(n);return s.Cr(),new S5(r,s.er,s.credentials,s.D,i)}(e.datastore,e.asyncQueue,{Vi:D5.bind(null,e),Di:L5.bind(null,e),Vr:O5.bind(null,e),Pr:x5.bind(null,e)}),e.Kr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Hr.hr(),[4,Ol(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Hr.stop()];case 3:r.sent(),e.qr.length>0&&($("RemoteStore","Stopping write stream with "+e.qr.length+" pending writes"),e.qr=[]),r.label=4;case 4:return[2]}})})})),e.Hr}var M5=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ll(e,t){if(gt("AsyncQueue",t+": "+e),Aa(e))return new F(O.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QM=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||te.comparator(n.key,r.key)}:function(n,r){return te.comparator(n.key,r.key)},this.keyedMap=Bf(),this.sortedSet=new rn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),HR=function(){function e(){this.Jr=new rn(te.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Jr.get(n);r?t.type!==0&&r.type===3?this.Jr=this.Jr.insert(n,t):t.type===3&&r.type!==1?this.Jr=this.Jr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Jr=this.Jr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Jr=this.Jr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Jr=this.Jr.remove(n):t.type===1&&r.type===2?this.Jr=this.Jr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Jr=this.Jr.insert(n,{type:2,doc:t.doc}):J():this.Jr=this.Jr.insert(n,t)},e.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),jv=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,QM.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),F5=function(){this.Xr=void 0,this.listeners=[]},U5=function(){this.queries=new Pl(function(e){return X2(e)},wh),this.onlineState="Unknown",this.Zr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(n=z(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new F5),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Xr=h.sent(),[3,4];case 3:return l=h.sent(),c=Ll(l,"Initialization of query '"+TE(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&EI(n),[2]}})})}function wI(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){return n=z(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function j5(e,t){for(var n=z(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].no(a)&&(r=!0);c.Xr=a}}r&&EI(n)}function V5(e,t,n){var r=z(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function EI(e){e.Zr.forEach(function(t){t.next()})}var bI=function(){function e(t,n,r){this.query=t,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new jv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.io?this.oo(t)&&(this.so.next(t),a=!0):this.co(t,this.onlineState)&&(this.ao(t),a=!0),this.ro=t,a},e.prototype.onError=function(t){this.so.error(t)},e.prototype.eo=function(t){this.onlineState=t;var n=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),n=!0),n},e.prototype.co=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.uo&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.oo=function(t){if(t.docChanges.length>0)return!0;var n=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.ao=function(t){t=jv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},e}(),B5=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.ho=function(){return"metadata"in this.payload},e}(),WR=function(){function e(t){this.D=t}return e.prototype.Gn=function(t){return pi(this.D,t)},e.prototype.zn=function(t){return t.metadata.exists?mM(this.D,t.document,!1):new Tt(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},e.prototype.Hn=function(t){return xt(t)},e}(),$5=function(){function e(t,n,r){this.lo=t,this.localStore=n,this.D=r,this.queries=[],this.documents=[],this.progress=YM(t)}return e.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.wo=function(t){for(var n=new Map,r=new WR(this.D),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.Gn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],g=(n.get(p)||De()).add(l);n.set(p,g)}}return n},e.prototype.complete=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,l5(this.localStore,new WR(this.D),this.documents,this.lo.id)];case 1:t=a.sent(),n=this.wo(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,c5(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new n5(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XM=function(e){this.key=e},JM=function(e){this.key=e},ZM=function(){function e(t,n){this.query=t,this._o=n,this.mo=null,this.current=!1,this.yo=De(),this.mutatedKeys=De(),this.po=J2(t),this.Eo=new QM(this.po)}return Object.defineProperty(e.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),e.prototype.Io=function(t,n){var r=this,i=n?n.Ao:new HR,s=n?n.Eo:this.Eo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Cp(this.query)&&s.size===this.query.limit?s.last():null,p=Dv(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var w=s.get(m),b=y instanceof Fe?y:null;b&&(b=Eh(r.query,b)?b:null);var C=!!w&&r.mutatedKeys.has(w.key),T=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),I=!1;w&&b?w.data().isEqual(b.data())?C!==T&&(i.track({type:3,doc:b}),I=!0):r.Ro(w,b)||(i.track({type:2,doc:b}),I=!0,(h&&r.po(b,h)>0||p&&r.po(b,p)<0)&&(c=!0)):!w&&b?(i.track({type:0,doc:b}),I=!0):w&&!b&&(i.track({type:1,doc:w}),I=!0,(h||p)&&(c=!0)),I&&(b?(l=l.add(b),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Cp(this.query)||Dv(this.query))for(;l.size>this.query.limit;){var g=Cp(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{Eo:l,Ao:i,Mn:c,mutatedKeys:a}},e.prototype.Ro=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var a=t.Ao.Yr();a.sort(function(p,g){return function(m,y){var w=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return w(m)-w(y)}(p.type,g.type)||i.po(p.doc,g.doc)}),this.bo(r);var l=n?this.vo():[],c=this.yo.size===0&&this.current?1:0,h=c!==this.mo;return this.mo=c,a.length!==0||h?{snapshot:new jv(this.query,t.Eo,s,a,t.mutatedKeys,c===0,h,!1),Po:l}:{Po:l}},e.prototype.eo=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new HR,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},e.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},e.prototype.bo=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n._o=n._o.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n._o=n._o.delete(r)}),this.current=t.current)},e.prototype.vo=function(){var t=this;if(!this.current)return[];var n=this.yo;this.yo=De(),this.Eo.forEach(function(i){t.Vo(i.key)&&(t.yo=t.yo.add(i.key))});var r=[];return n.forEach(function(i){t.yo.has(i)||r.push(new JM(i))}),this.yo.forEach(function(i){n.has(i)||r.push(new XM(i))}),r},e.prototype.So=function(t){this._o=t.jn,this.yo=De();var n=this.Io(t.documents);return this.applyChanges(n,!0)},e.prototype.Do=function(){return jv.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,this.mo===0)},e}(),q5=function(e,t,n){this.query=e,this.targetId=t,this.view=n},z5=function(e){this.key=e,this.Co=!1},G5=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.xo={},this.No=new Pl(function(l){return X2(l)},wh),this.$o=new Map,this.Fo=new Set,this.Oo=new rn(te.comparator),this.ko=new Map,this.Mo=new pI,this.Lo={},this.Bo=new Map,this.qo=Mv.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Uo===!0},enumerable:!1,configurable:!0}),e}();function H5(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=CI(e),(s=n.No.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do(),[3,4]):[3,1];case 1:return[4,fl(n.localStore,Tr(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,II(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&Bg(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function II(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return e.Qo=function(g,m,y){return function(w,b,C,T){return A(this,void 0,void 0,function(){var I,S,D;return N(this,function(L){switch(L.label){case 0:return I=b.view.Io(C),I.Mn?[4,Fv(w.localStore,b.query,!1).then(function(P){var U=P.documents;return b.view.Io(U,I)})]:[3,2];case 1:I=L.sent(),L.label=2;case 2:return S=T&&T.targetChanges.get(b.targetId),D=b.view.applyChanges(I,w.isPrimaryClient,S),[2,(RE(w,b.targetId,D.Po),D.snapshot)]}})})}(e,g,m,y)},[4,Fv(e.localStore,t,!0)];case 1:return i=p.sent(),s=new ZM(t,i.jn),a=s.Io(i.documents),l=sI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),RE(e,n,c.Po),h=new q5(t,n,s),[2,(e.No.set(t,h),e.$o.has(n)?e.$o.get(n).push(t):e.$o.set(n,[t]),c.snapshot)]}})})}function W5(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=z(e),r=n.No.get(t),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(a){return!wh(a,t)})),void n.No.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,hl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Gf(n.remoteStore,r.targetId),dl(n,r.targetId)}).catch(Ra)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return dl(n,r.targetId),[4,hl(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function K5(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=NI(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,g=z(c),m=Un.now(),y=h.reduce(function(w,b){return w.add(b.key)},De());return g.persistence.runTransaction("Locally write mutations","readwrite",function(w){return g.Kn.bn(w,y).next(function(b){p=b;for(var C=[],T=0,I=h;T<I.length;T++){var S=I[T],D=yK(S,p.get(S.key));D!=null&&C.push(new hs(S.key,D,Z2(D.proto.mapValue),Yt.exists(!0)))}return g.Tn.addMutationBatch(w,m,C,h)})}).then(function(w){var b=w.applyToLocalDocumentSet(p);return{batchId:w.batchId,changes:b}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var g=c.Lo[c.currentUser.toKey()];g||(g=new rn(_e)),g=g.insert(h,p),c.Lo[c.currentUser.toKey()]=g}(r,i.batchId,n),[4,to(r,i.changes)];case 3:return l.sent(),[4,Ol(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Ll(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function eF(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=z(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,s5(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.ko.get(a);l&&(oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Co=!0:s.modifiedDocuments.size>0?oe(l.Co):s.removedDocuments.size>0&&(oe(l.Co),l.Co=!1))}),[4,to(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ra(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function KR(e,t,n){var r=z(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.No.forEach(function(s,a){var l=a.view.eo(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=z(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var g=0,m=p.listeners;g<m.length;g++)m[g].eo(a)&&(c=!0)}),c&&EI(l)}(r.eventManager,t),i.length&&r.xo.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Q5(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return(r=z(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.ko.get(t),(s=i&&i.key)?(a=(a=new rn(te.comparator)).insert(s,new Tt(s,ge.min())),l=De().add(s),c=new oI(ge.min(),new Map,new St(_e),a,l),[4,eF(r,c)]):[3,2];case 1:return h.sent(),r.Oo=r.Oo.remove(s),r.ko.delete(t),kI(r),[3,4];case 2:return[4,hl(r.localStore,t,!1).then(function(){return dl(r,t,n)}).catch(Ra)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function Y5(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=z(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,o5(n.localStore,t)];case 2:return i=s.sent(),SI(n,r,null),TI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,to(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ra(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function X5(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=z(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=z(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c.Tn.lookupMutationBatch(h,l).next(function(g){return oe(g!==null),p=g.keys(),c.Tn.removeMutationBatch(h,g)}).next(function(){return c.Tn.performConsistencyCheck(h)}).next(function(){return c.Kn.bn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),SI(r,t,n),TI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,to(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ra(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function J5(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:ds((n=z(e)).remoteStore)||$("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=z(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h.Tn.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Bo.get(r)||[]).push(t),n.Bo.set(r,i),[3,4]);case 3:return s=l.sent(),a=Ll(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function TI(e,t){(e.Bo.get(t)||[]).forEach(function(n){n.resolve()}),e.Bo.delete(t)}function SI(e,t,n){var r=z(e),i=r.Lo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function dl(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.$o.get(t);r<i.length;r++){var s=i[r];e.No.delete(s),n&&e.xo.Ko(s,n)}e.$o.delete(t),e.isPrimaryClient&&e.Mo.os(t).forEach(function(a){e.Mo.containsKey(a)||tF(e,a)})}function tF(e,t){e.Fo.delete(t.path.canonicalString());var n=e.Oo.get(t);n!==null&&(Gf(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.ko.delete(n),kI(e))}function RE(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof XM?(e.Mo.addReference(s.key,t),Z5(e,s)):s instanceof JM?($("SyncEngine","Document no longer in limbo: "+s.key),e.Mo.removeReference(s.key,t),e.Mo.containsKey(s.key)||tF(e,s.key)):J()}}function Z5(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.Fo.has(r)||($("SyncEngine","New document in limbo: "+n),e.Fo.add(r),kI(e))}function kI(e){for(;e.Fo.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.Fo.values().next().value;e.Fo.delete(t);var n=new te(Ne.fromString(t)),r=e.qo.next();e.ko.set(r,new z5(n)),e.Oo=e.Oo.insert(n,r),Bg(e.remoteStore,new Vg(Tr(Rl(n.path)),r,2,Jn.o))}}function to(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r=z(e),i=[],s=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(c,h){a.push(r.Qo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var g=r5.Nn(h.targetId,p);s.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.xo.Tr(i),[4,function(c,h){return A(this,void 0,void 0,function(){var p,g,m,y,w,b,C,T,I;return N(this,function(S){switch(S.label){case 0:p=z(c),S.label=1;case 1:return S.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(D){return j.forEach(h,function(L){return j.forEach(L.Cn,function(P){return p.persistence.referenceDelegate.addReference(D,L.targetId,P)}).next(function(){return j.forEach(L.xn,function(P){return p.persistence.referenceDelegate.removeReference(D,L.targetId,P)})})})})];case 2:return S.sent(),[3,4];case 3:if(!Aa(g=S.sent()))throw g;return $("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(m=0,y=h;m<y.length;m++)w=y[m],b=w.targetId,w.fromCache||(C=p.Bn.get(b),T=C.snapshotVersion,I=C.withLastLimboFreeSnapshotVersion(T),p.Bn=p.Bn.insert(b,I));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function e8(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=z(e)).currentUser.isEqual(t)?[3,3]:($("SyncEngine","User change. New user:",t.toKey()),[4,MM(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Bo.forEach(function(l){l.forEach(function(c){c.reject(new F(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,to(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function t8(e,t){var n=z(e),r=n.ko.get(t);if(r&&r.Co)return De().add(r.key);var i=De(),s=n.$o.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.No.get(c);i=i.unionWith(h.view.To)}return i}function n8(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Fv((n=z(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.So(r),[2,(n.isPrimaryClient&&RE(n,t.targetId,i.Po),i)]}})})}function r8(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,VM((t=z(e)).localStore).then(function(r){return to(t,r)})]})})}function i8(e,t,n,r){return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=z(l),p=z(h.Tn);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.Jt(g,c).next(function(m){return m?h.Kn.bn(g,m):j.resolve(null)})})}((i=z(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Ol(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(SI(i,t,r||null),TI(i,t),function(l,c){z(z(l).Tn).Xt(c)}(i.localStore,t)):J(),a.label=4;case 4:return[4,to(i,s)];case 5:return a.sent(),[3,7];case 6:$("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function o8(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return CI(n=z(e)),NI(n),t!==!0||n.Uo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,QR(n,r.toArray())]);case 1:return i=p.sent(),n.Uo=!0,[4,AE(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],Bg(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.Uo===!1?[3,7]:(c=[],h=Promise.resolve(),n.$o.forEach(function(g,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return dl(n,m),hl(n.localStore,m,!0)}),Gf(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,QR(n,c)];case 5:return p.sent(),function(g){var m=z(g);m.ko.forEach(function(y,w){Gf(m.remoteStore,w)}),m.Mo.cs(),m.ko=new Map,m.Oo=new rn(te.comparator)}(n),n.Uo=!1,[4,AE(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function QR(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m,y,w,b,C;return N(this,function(T){switch(T.label){case 0:r=z(e),i=[],s=[],a=0,l=t,T.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.$o.get(c))&&p.length!==0?[4,fl(r.localStore,Tr(p[0]))]:[3,7]):[3,13];case 2:h=T.sent(),g=0,m=p,T.label=3;case 3:return g<m.length?(y=m[g],w=r.No.get(y),[4,n8(r,w)]):[3,6];case 4:(b=T.sent()).snapshot&&s.push(b.snapshot),T.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,jM(r.localStore,c)];case 8:return C=T.sent(),[4,fl(r.localStore,C)];case 9:return h=T.sent(),[4,II(r,nF(C),c,!1)];case 10:T.sent(),T.label=11;case 11:i.push(h),T.label=12;case 12:return a++,[3,1];case 13:return[2,(r.xo.Tr(s),i)]}})})}function nF(e){return Q2(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function s8(e){var t=z(e);return z(z(t.localStore).persistence).gn()}function a8(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return(i=z(e)).Uo?($("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,VM(i.localStore)];case 3:return s=l.sent(),a=oI.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,to(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,hl(i.localStore,t,!0)];case 6:return l.sent(),dl(i,t,r),[3,8];case 7:J(),l.label=8;case 8:return[2]}})})}function u8(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:if(!(r=CI(e)).Uo)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.$o.has(a)?($("SyncEngine","Adding an already active target "+a),[3,5]):[4,jM(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,fl(r.localStore,l)];case 3:return c=y.sent(),[4,II(r,nF(l),c.targetId,!1)];case 4:y.sent(),Bg(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return N(this,function(b){switch(b.label){case 0:return r.$o.has(w)?[4,hl(r.localStore,w,!1).then(function(){Gf(r.remoteStore,w),dl(r,w)}).catch(Ra)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},p=0,g=n,y.label=7;case 7:return p<g.length?(m=g[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function CI(e){var t=z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q5.bind(null,t),t.xo.Tr=j5.bind(null,t.eventManager),t.xo.Ko=V5.bind(null,t.eventManager),t}function NI(e){var t=z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Y5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=X5.bind(null,t),t}function l8(e,t,n){var r=z(e);(function(i,s,a){return A(this,void 0,void 0,function(){var l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,b){var C=z(w),T=xt(b.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",function(I){return C.He.getBundleMetadata(I,b.id)}).then(function(I){return!!I&&I.createTime.compareTo(T)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(YM(l)),c=new $5(l,i.localStore,s.D),[4,s.Wo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.fo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Wo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return g=y.sent(),[4,to(i,g.En,void 0)];case 12:return y.sent(),[4,function(w,b){var C=z(w);return C.persistence.runTransaction("Save bundle","readwrite",function(T){return C.He.saveBundleMetadata(T,b)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(g.progress),[3,15];case 14:return Cv("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var rF=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.D=kh(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},e.prototype.zo=function(t){return null},e.prototype.Ho=function(t){return LM(this.persistence,new xM,t.initialUser,this.D)},e.prototype.Go=function(t){return new g5(y5.Cs,this.D)},e.prototype.jo=function(t){return new BM},e.prototype.terminate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),iF=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Jo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return q(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,u5(this.localStore)];case 2:return r.sent(),[4,this.Jo.initialize(this,n)];case 3:return r.sent(),[4,NI(this.Jo.syncEngine)];case 4:return r.sent(),[4,Ol(this.Jo.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Ho=function(n){return LM(this.persistence,new xM,n.initialUser,this.D)},t.prototype.zo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new QK(r,n.asyncQueue)},t.prototype.Go=function(n){var r=dI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?si.withCacheSize(this.cacheSizeBytes):si.DEFAULT;return new t5(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,$M(),Rp(),this.D,this.sharedClientState,!!this.forceOwnership)},t.prototype.jo=function(n){return new BM},t}(rF),c8=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Jo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return q(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Jo.syncEngine,this.sharedClientState instanceof R_?(this.sharedClientState.syncEngine={wi:i8.bind(null,r),_i:a8.bind(null,r),mi:u8.bind(null,r),gn:s8.bind(null,r),di:r8.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.en(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,o8(this.Jo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.jo=function(n){var r=$M();if(!R_.At(r))throw new F(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=dI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new R_(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(iF),PE=function(){function e(){}return e.prototype.initialize=function(t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return KR(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=e8.bind(null,this.syncEngine),[4,AE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new U5},e.prototype.createDatastore=function(t){var n,r=kh(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new I5(n));return function(s,a,l){return new k5(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return KR(l.syncEngine,c,0)},a=GR.At()?new GR:new w5,new N5(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new G5(r,i,s,a,l,c);return h&&(p.Uo=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=z(t),$("RemoteStore","RemoteStore shutting down."),n.Qr.add(5),[4,Dl(n)];case 1:return r.sent(),n.Wr.shutdown(),n.jr.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return A(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return A(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $g=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Xo=function(){this.muted=!0},e.prototype.Yo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),f8=function(){function e(t,n){var r=this;this.Zo=t,this.D=n,this.metadata=new En,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(i){i&&i.ho()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Zo.cancel()},e.prototype.getMetadata=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Wo=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},e.prototype.ec=function(){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.nc()];case 1:return(t=s.sent())===null?[2,null]:(n=this.tc.decode(t),r=Number(n),isNaN(r)&&this.sc("length string ("+n+") is not valid number"),[4,this.ic(r)]);case 2:return i=s.sent(),[2,new B5(JSON.parse(i),t.length+r)]}})})},e.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.nc=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.ic=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:r.sent()&&this.sc("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.oc=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.Zo.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),h8=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new F(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return A(this,void 0,void 0,function(){var l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return l=z(s),c=zf(l.D)+"/documents",h={documents:a.map(function(w){return qf(l.D,w)})},[4,l.Ui("BatchGetDocuments",c,h)];case 1:return p=y.sent(),g=new Map,p.forEach(function(w){var b=function(C,T){return"found"in T?function(I,S){oe(!!S.found),S.found.name,S.found.updateTime;var D=pi(I,S.found.name),L=xt(S.found.updateTime),P=new is({mapValue:{fields:S.found.fields}});return new Fe(D,L,P,{})}(C,T):"missing"in T?function(I,S){oe(!!S.missing),oe(!!S.readTime);var D=pi(I,S.missing),L=xt(S.readTime);return new Tt(D,L)}(C,T):J()}(l.D,w);g.set(b.key.toString(),b)}),m=[],[2,(a.forEach(function(w){var b=g.get(w.toString());oe(!!b),m.push(b)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof Tt||s instanceof Fe?r.recordVersion(s):J()}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Sh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=te.fromPath(s);n.mutations.push(new iI(a,n.precondition(a)))}),[4,function(i,s){return A(this,void 0,void 0,function(){var a,l,c;return N(this,function(h){switch(h.label){case 0:return a=z(i),l=zf(a.D)+"/documents",c={writes:s.map(function(p){return xv(a.D,p)})},[4,a.Mi("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t instanceof Fe)n=t.version;else{if(!(t instanceof Tt))throw J();n=ge.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new F(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Yt.updateTime(n):Yt.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ge.min()))throw new F(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yt.updateTime(n)}return Yt.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),d8=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.cc=5,this.rr=new vI(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ac()},e.prototype.ac=function(){var t=this;this.rr.Yi(function(){return A(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new h8(this.datastore),(r=this.uc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.hc(l)})})}).catch(function(a){i.hc(a)}),[2]})})})},e.prototype.uc=function(t){try{var n=this.updateFunction(t);return!Na(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.hc=function(t){var n=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return n.ac(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.lc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!uM(n)}return!1},e}(),p8=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yn.UNAUTHENTICATED,this.clientId=$2.u(),this.credentialListener=function(){},this.receivedInitialUser=new En,this.credentials.setChangeListener(function(s){$("FirestoreClient","Received user=",s.uid),i.user=s,i.credentialListener(s),i.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new F(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return A(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Ll(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e,t){return A(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){r.isEqual(a)||(r=a,e.asyncQueue.enqueueRetryable(function(){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,MM(t.localStore,a)];case 1:return l.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function sF(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,AI(e)];case 1:return n=i.sent(),$("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(a,l){return A(this,void 0,void 0,function(){var c,h;return N(this,function(p){switch(p.label){case 0:return(c=z(a)).asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials"),h=ds(c),c.Qr.add(3),[4,Dl(c)];case 1:return p.sent(),h&&c.jr.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.Qr.delete(3),[4,Ch(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function AI(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:($("FirestoreClient","Using default OfflineComponentProvider"),[4,oF(e,new rF)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function qg(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:($("FirestoreClient","Using default OnlineComponentProvider"),[4,sF(e,new PE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function XR(e){return AI(e).then(function(t){return t.persistence})}function RI(e){return AI(e).then(function(t){return t.localStore})}function JR(e){return qg(e).then(function(t){return t.remoteStore})}function PI(e){return qg(e).then(function(t){return t.syncEngine})}function pl(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,qg(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=H5.bind(null,t.syncEngine),n.onUnlisten=W5.bind(null,t.syncEngine),n)]}})})}function ZR(e,t,n){var r=this;n===void 0&&(n={});var i=new En;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,g){var m=new $g({next:function(w){c.enqueueAndForget(function(){return wI(l,y)});var b=w.docs.has(h);!b&&w.fromCache?g.reject(new F(O.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&p&&p.source==="server"?g.reject(new F(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:function(w){return g.reject(w)}}),y=new bI(Rl(h.path),m,{includeMetadataChanges:!0,uo:!0});return _I(l,y)},[4,pl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function eP(e,t,n){var r=this;n===void 0&&(n={});var i=new En;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,g){var m=new $g({next:function(w){c.enqueueAndForget(function(){return wI(l,y)}),w.fromCache&&p.source==="server"?g.reject(new F(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:function(w){return g.reject(w)}}),y=new bI(h,m,{includeMetadataChanges:!0,uo:!0});return _I(l,y)},[4,pl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var v8=function(e,t,n,r,i,s){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=s},Vv=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),tP=new Map,g8=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},nP=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(Yn.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),m8=function(){function e(t){var n=this;this.fc=null,this.currentUser=Yn.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){n.dc++,n.currentUser=n.wc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(r){n.auth=r,n.fc&&n.auth.addAuthTokenListener(n.fc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.dc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.dc!==n?($("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(oe(typeof i.accessToken=="string"),new g8(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},e.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return oe(t===null||typeof t=="string"),new Yn(t)},e}(),y8=function(){function e(t,n){this._c=t,this.mc=n,this.type="FirstParty",this.user=Yn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},n=this._c.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),t},enumerable:!1,configurable:!0}),e}(),_8=function(){function e(t,n){this._c=t,this.mc=n}return e.prototype.getToken=function(){return Promise.resolve(new y8(this._c,this.mc))},e.prototype.setChangeListener=function(t){t(Yn.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(e,t,n){if(!n)throw new F(O.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function OI(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new F(O.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function aF(e,t,n,r){if(t===!0&&r===!0)throw new F(O.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function rP(e){if(!te.isDocumentKey(e))throw new F(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function iP(e){if(te.isDocumentKey(e))throw new F(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function zg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":J()}function ke(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zg(e);throw new F(O.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function oP(e,t){if(t<=0)throw new F(O.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sP=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new F(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,aF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),Hf=function(){function e(t,n){this._persistenceKey="(lite)",this._settings=new sP({}),this._settingsFrozen=!1,t instanceof Vv?(this._databaseId=t,this._credentials=new nP):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new F(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vv(r.options.projectId)}(t),this._credentials=new m8(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new F(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new F(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sP(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new nP;switch(n.type){case"gapi":var r=n.client;return oe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new _8(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new F(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=tP.get(t))&&($("ComponentProvider","Removing Datastore"),tP.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ie=function(e){this._delegate=e},Ze=function(){function e(t,n,r){this._converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ho(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),jn=function(){function e(t,n,r){this._converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ho=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Rl(i))||this).firestore=n,s._path=i,s.type="collection",s}return q(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ze(this.firestore,null,new te(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(jn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Ie&&(e=e._delegate),DI("collection","path",t),e instanceof Hf)return iP(n=Ne.fromString.apply(Ne,ve([t],r))),new Ho(e,null,n);if(!(e instanceof Ze||e instanceof Ho))throw new F(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return iP(n=Ne.fromString.apply(Ne,ve([e.path],r)).child(Ne.fromString(t))),new Ho(e.firestore,null,n)}function Pp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Ie&&(e=e._delegate),arguments.length===1&&(t=$2.u()),DI("doc","path",t),e instanceof Hf)return rP(n=Ne.fromString.apply(Ne,ve([t],r))),new Ze(e,null,new te(n));if(!(e instanceof Ze||e instanceof Ho))throw new F(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rP(n=e._path.child(Ne.fromString.apply(Ne,ve([t],r)))),new Ze(e.firestore,e instanceof Ho?e._converter:null,new te(n))}function lF(e,t){return e instanceof Ie&&(e=e._delegate),t instanceof Ie&&(t=t._delegate),(e instanceof Ze||e instanceof Ho)&&(t instanceof Ze||t instanceof Ho)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function cF(e,t){return e instanceof Ie&&(e=e._delegate),t instanceof Ie&&(t=t._delegate),e instanceof jn&&t instanceof jn&&e.firestore===t.firestore&&wh(e._query,t._query)&&e._converter===t._converter}var w8=function(){function e(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new vI(this,"async_queue_retry"),this.bc=function(){var r=Rp();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),t.rr.Zi()};var n=Rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},e.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bc)}},e.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(n){}):this.Pc(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.gc.push(t),n.Vc()})},e.prototype.Vc=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.gc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return r.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Aa(t=r.sent()))throw t;return $("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return n.Vc()}),r.label=5;case 5:return[2]}})})},e.prototype.Pc=function(t){var n=this,r=this.yc.then(function(){return n.Ac=!0,t().catch(function(i){throw n.Ic=i,n.Ac=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.Ac=!1,i})});return this.yc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.vc(),this.Rc.indexOf(t)>-1&&(n=0);var s=M5.createAndSchedule(this,t,n,r,function(a){return i.Sc(a)});return this.Tc.push(s),s},e.prototype.vc=function(){this.Ic&&J()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Dc=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.yc];case 1:n.sent(),n.label=2;case 2:if(t!==this.yc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Cc=function(t){for(var n=0,r=this.Tc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.xc=function(t){var n=this;return this.Dc().then(function(){n.Tc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.Tc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Dc()})},e.prototype.Nc=function(t){this.Rc.push(t)},e.prototype.Sc=function(t){var n=this.Tc.indexOf(t);this.Tc.splice(n,1)},e}();function vl(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var E8=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new En,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),b8=-1,ft=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._queue=new w8,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return q(t,e),t.prototype._terminate=function(){return this._firestoreClient||fF(this),this._firestoreClient.terminate()},t}(Hf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(e){return e._firestoreClient||fF(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fF(e){var t=e._freezeSettings(),n=function(r,i,s){return new v8(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(e._databaseId,e._persistenceKey,t);e._firestoreClient=new p8(e._credentials,e._queue,n)}function aP(e,t,n){var r=this,i=new En;return e.asyncQueue.enqueue(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,oF(e,n)];case 1:return a.sent(),[4,sF(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===O.FAILED_PRECONDITION||l.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function uP(e){if(e._initialized||e._terminated)throw new F(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new F(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ya=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(wn.fromBase64String(t))}catch(n){throw new F(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(wn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Pa=function(e){this._methodName=e},Gg=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return _e(this._lat,t._lat)||_e(this._long,t._long)},e}(),I8=/^__.*__$/,T8=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Th(t,this.data,n,this.fieldTransforms)},e}(),hF=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new hs(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var pF=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.D=r,this.ignoreUndefinedProperties=i,s===void 0&&this.$c(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),e.prototype.Oc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Oc({path:r,Mc:!1});return i.Lc(t),i},e.prototype.Bc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Oc({path:r,Mc:!1});return i.$c(),i},e.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},e.prototype.Uc=function(t){return Bv(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},e.prototype.Lc=function(t){if(t.length===0)throw this.Uc("Document fields must not be empty");if(dF(this.Fc)&&I8.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},e}(),S8=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.D=r||kh(t)}return e.prototype.Wc=function(t,n,r,i){return i===void 0&&(i=!1),new pF({Fc:t,methodName:n,Kc:r,path:Kr.emptyPath(),Mc:!1,Qc:i},this.databaseId,this.D,this.ignoreUndefinedProperties)},e}();function Da(e){var t=e._freezeSettings(),n=kh(e._databaseId);return new S8(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hg(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Wc(s.merge||s.mergeFields?2:0,t,n,i);FI("Data must be an object, but it was:",a,r);var l,c,h=mF(r,a);if(s.merge)l=new rl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],g=0,m=s.mergeFields;g<m.length;g++){var y=DE(t,m[g],n);if(!a.contains(y))throw new F(O.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");_F(p,y)||p.push(y)}l=new rl(p),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new T8(new is(h),l,c)}var xI=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype._toFieldTransform=function(n){if(n.Fc!==2)throw n.Fc===1?n.Uc(this._methodName+"() can only appear at the top level of your update data"):n.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Pa);function vF(e,t,n){return new pF({Fc:3,Kc:t.settings.Kc,methodName:e._methodName,Mc:n},t.databaseId,t.D,t.ignoreUndefinedProperties)}var k8=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype._toFieldTransform=function(n){return new Ih(n.path,new il)},t.prototype.isEqual=function(n){return n instanceof t},t}(Pa),C8=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).jc=r,i}return q(t,e),t.prototype._toFieldTransform=function(n){var r=vF(this,n,!0),i=this.jc.map(function(a){return Oa(a,r)}),s=new ga(i);return new Ih(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Pa),N8=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).jc=r,i}return q(t,e),t.prototype._toFieldTransform=function(n){var r=vF(this,n,!0),i=this.jc.map(function(a){return Oa(a,r)}),s=new ma(i);return new Ih(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Pa),A8=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Gc=r,i}return q(t,e),t.prototype._toFieldTransform=function(n){var r=new ol(n.D,nM(n.D,this.Gc));return new Ih(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Pa);function LI(e,t,n,r){var i=e.Wc(1,t,n);FI("Data must be an object, but it was:",i,r);var s=[],a=new bh;yh(r,function(c,h){var p=UI(t,c,n);h instanceof Ie&&(h=h._delegate);var g=i.Bc(p);if(h instanceof xI)s.push(p);else{var m=Oa(h,g);m!=null&&(s.push(p),a.set(p,m))}});var l=new rl(s);return new hF(a.v(),l,i.fieldTransforms)}function MI(e,t,n,r,i,s){var a=e.Wc(1,t,n),l=[DE(t,r,n)],c=[i];if(s.length%2!=0)throw new F(O.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(DE(t,s[h])),c.push(s[h+1]);for(var p=[],g=new bh,m=l.length-1;m>=0;--m)if(!_F(p,l[m])){var y=l[m],w=c[m];w instanceof Ie&&(w=w._delegate);var b=a.Bc(y);if(w instanceof xI)p.push(y);else{var C=Oa(w,b);C!=null&&(p.push(y),g.set(y,C))}}var T=new rl(p);return new hF(g.v(),T,a.fieldTransforms)}function gF(e,t,n,r){return r===void 0&&(r=!1),Oa(n,e.Wc(r?4:3,t))}function Oa(e,t){if(e instanceof Ie&&(e=e._delegate),yF(e))return FI("Unsupported field value:",t,e),mF(e,t);if(e instanceof Pa)return function(n,r){if(!dF(r.Fc))throw r.Uc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Uc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Mc&&t.Fc!==4)throw t.Uc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Oa(l[a],r.qc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if(n instanceof Ie&&(n=n._delegate),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nM(r.D,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Un.fromDate(n);return{timestampValue:$f(r.D,i)}}if(n instanceof Un)return i=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:$f(r.D,i)};if(n instanceof Gg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ya)return{bytesValue:dM(r.D,n._byteString)};if(n instanceof Ze){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Uc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:aI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Uc("Unsupported field value: "+zg(n))}(e,t)}function mF(e,t){var n={};return z2(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yh(e,function(r,i){var s=Oa(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yF(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Un||e instanceof Gg||e instanceof ya||e instanceof Ze||e instanceof Pa)}function FI(e,t,n){if(!yF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=zg(n);throw r==="an object"?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}}function DE(e,t,n){if(t instanceof Ie&&(t=t._delegate),t instanceof Bi)return t._internalPath;if(typeof t=="string")return UI(e,t);throw Bv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var R8=new RegExp("[~\\*/\\[\\]]");function UI(e,t,n){if(t.search(R8)>=0)throw Bv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Bi.bind.apply(Bi,ve([void 0],t.split("."))))()._internalPath}catch{throw Bv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Bv(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new F(O.INVALID_ARGUMENT,(l+=". ")+e+c)}function _F(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wf=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ze(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new P8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data().field($v("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),P8=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Wf);function $v(e,t){return typeof t=="string"?UI(e,t):t instanceof Ie?t._delegate._internalPath:t._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),$i=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return q(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data().field($v("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Wf),sf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}($i),Ao=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qs(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new sf(r._firestore,r._userDataWriter,i.key,i,new Qs(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query._converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){var c=new sf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Qs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query._converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new sf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Qs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query._converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:D8(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function D8(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function wF(e,t){return e instanceof $i&&t instanceof $i?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ao&&t instanceof Ao&&e._firestore===t._firestore&&cF(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(e){if(Dv(e)&&e.explicitOrderBy.length===0)throw new F(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nh=function(){};function yo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var O8=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).zc=n,s.Hc=r,s.Jc=i,s.type="where",s}return q(t,e),t.prototype._apply=function(n){var r=Da(n.firestore),i=function(s,a,l,c,h,p,g){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new F(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){dP(g,p);for(var y=[],w=0,b=g;w<b.length;w++){var C=b[w];y.push(hP(c,s,C))}m={arrayValue:{values:y}}}else m=hP(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||dP(g,p),m=gF(l,"where",g,p==="in"||p==="not-in");var T=Zn.create(h,p,m);return function(I,S){if(S.g()){var D=tI(I);if(D!==null&&!D.isEqual(S.field))throw new F(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+D.toString()+"' and '"+S.field.toString()+"'");var L=eI(I);L!==null&&IF(I,S.field,L)}var P=function(U,H){for(var W=0,le=U.filters;W<le.length;W++){var R=le[W];if(H.indexOf(R.op)>=0)return R.op}return null}(I,function(U){switch(U){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(S.op));if(P!==null)throw P===S.op?new F(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+S.op.toString()+"' filter."):new F(O.INVALID_ARGUMENT,"Invalid query. You cannot use '"+S.op.toString()+"' filters with '"+P.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.zc,this.Hc,this.Jc);return new jn(n.firestore,n._converter,function(s,a){var l=s.filters.concat([a]);return new eo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Nh),x8=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).zc=n,i.Yc=r,i.type="orderBy",i}return q(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new F(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Fu(s,a);return function(c,h){if(eI(c)===null){var p=tI(c);p!==null&&IF(c,p,h.field)}}(i,l),l}(n._query,this.zc,this.Yc);return new jn(n.firestore,n._converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new eo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Nh),lP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Xc=r,s.Zc=i,s}return q(t,e),t.prototype._apply=function(n){return new jn(n.firestore,n._converter,Y2(n._query,this.Xc,this.Zc))},t}(Nh),cP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ta=r,s.ea=i,s}return q(t,e),t.prototype._apply=function(n){var r=bF(n,this.type,this.ta,this.ea);return new jn(n.firestore,n._converter,function(i,s){return new eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Nh),fP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ta=r,s.ea=i,s}return q(t,e),t.prototype._apply=function(n){var r=bF(n,this.type,this.ta,this.ea);return new jn(n.firestore,n._converter,function(i,s){return new eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Nh);function bF(e,t,n,r){if(n[0]instanceof Ie&&(n[0]=n[0]._delegate),n[0]instanceof Wf)return function(s,a,l,c,h){if(!c)throw new F(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],g=0,m=nl(s);g<m.length;g++){var y=m[g];if(y.field.isKeyField())p.push(Av(a,c.key));else{var w=c.field(y.field);if(K1(w))throw new F(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var b=y.field.canonicalString();throw new F(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}p.push(w)}}return new Vf(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Da(e.firestore);return function(s,a,l,c,h,p){var g=s.explicitOrderBy;if(h.length>g.length)throw new F(O.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var w=h[y];if(g[y].field.isKeyField()){if(typeof w!="string")throw new F(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!nI(s)&&w.indexOf("/")!==-1)throw new F(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var b=s.path.child(Ne.fromString(w));if(!te.isDocumentKey(b))throw new F(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var C=new te(b);m.push(Av(a,C))}else{var T=gF(l,c,w);m.push(T)}}return new Vf(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function hP(e,t,n){if(n instanceof Ie&&(n=n._delegate),typeof n=="string"){if(n==="")throw new F(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!nI(t)&&n.indexOf("/")!==-1)throw new F(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ne.fromString(n));if(!te.isDocumentKey(r))throw new F(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Av(e,new te(r))}if(n instanceof Ze)return Av(e,n._key);throw new F(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zg(n)+".")}function dP(e,t){if(!Array.isArray(e)||e.length===0)throw new F(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new F(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function IF(e,t,n){if(!n.isEqual(t))throw new F(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jI=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(el(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw J()}},e.prototype.convertObject=function(t,n){var r=this,i={};return yh(t.fields||{},function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Gg(pt(t.latitude),pt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=W2(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uf(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ns(t);return new Un(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ne.fromString(t);oe(bM(r));var i=new Vv(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||gt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var L8=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return q(t,e),t.prototype.convertBytes=function(n){return new ya(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ze(this.firestore,null,r)},t}(jI),M8=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Da(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Ro(t,this._firestore),s=Wg(i._converter,n,r),a=Hg(this._dataReader,"WriteBatch.set",i._key,s,i._converter!==null,r);return this._mutations.push(a.toMutation(i._key,Yt.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Ro(t,this._firestore);return n instanceof Ie&&(n=n._delegate),a=typeof n=="string"||n instanceof Bi?MI(this._dataReader,"WriteBatch.update",l._key,n,r,i):LI(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,Yt.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ro(t,this._firestore);return this._mutations=this._mutations.concat(new Sh(n._key,Yt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new F(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e,t){if(e instanceof Ie&&(e=e._delegate),e.firestore!==t)throw new F(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return q(t,e),t.prototype.convertBytes=function(n){return new ya(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ze(this.firestore,null,r)},t}(jI);function pP(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ke(e,Ze);var s=ke(e.firestore,ft),a=Da(s);return t instanceof Ie&&(t=t._delegate),Kf(s,[(typeof t=="string"||t instanceof Bi?MI(a,"updateDoc",e._key,t,n,r):LI(a,"updateDoc",e._key,t)).toMutation(e._key,Yt.exists(!0))])}function TF(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e instanceof Ie&&(e=e._delegate);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||vl(i[l])||(a=i[l],l++);var c,h,p,g={includeMetadataChanges:a.includeMetadataChanges};if(vl(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Ze)h=ke(e.firestore,ft),p=Rl(e._key.path),c={next:function(b){i[l]&&i[l](OE(h,e,b))},error:i[l+1],complete:i[l+2]};else{var y=ke(e,jn);h=ke(y.firestore,ft),p=y._query;var w=new ra(h);c={next:function(b){i[l]&&i[l](new Ao(h,w,y,b))},error:i[l+1],complete:i[l+2]},EF(e._query)}return function(b,C,T,I){var S=this,D=new $g(I),L=new bI(C,D,T);return b.asyncQueue.enqueueAndForget(function(){return A(S,void 0,void 0,function(){var P;return N(this,function(U){switch(U.label){case 0:return P=_I,[4,pl(b)];case 1:return[2,P.apply(void 0,[U.sent(),L])]}})})}),function(){D.Xo(),b.asyncQueue.enqueueAndForget(function(){return A(S,void 0,void 0,function(){var P;return N(this,function(U){switch(U.label){case 0:return P=wI,[4,pl(b)];case 1:return[2,P.apply(void 0,[U.sent(),L])]}})})})}}(Ot(h),p,g,c)}function Kf(e,t){return function(n,r){var i=this,s=new En;return n.asyncQueue.enqueueAndForget(function(){return A(i,void 0,void 0,function(){var a;return N(this,function(l){switch(l.label){case 0:return a=K5,[4,PI(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Ot(e),t)}function OE(e,t,n){var r=n.docs.get(t._key),i=new ra(e);return new $i(e,i,t._key,r,new Qs(n.hasPendingWrites,n.fromCache),t._converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F8=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return q(t,e),t.prototype.get=function(n){var r=this,i=Ro(n,this._firestore),s=new ra(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new $i(r._firestore,s,i._key,a._document,new Qs(!1,!1),i._converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Da(t)}return e.prototype.get=function(t){var n=this,r=Ro(t,this._firestore),i=new L8(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return J();var a=s[0];if(a instanceof Tt)return new Wf(n._firestore,i,r._key,null,r._converter);if(a instanceof Fe)return new Wf(n._firestore,i,a.key,a,r._converter);throw J()})},e.prototype.set=function(t,n,r){var i=Ro(t,this._firestore),s=Wg(i._converter,n,r),a=Hg(this._dataReader,"Transaction.set",i._key,s,i._converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=Ro(t,this._firestore);return n instanceof Ie&&(n=n._delegate),a=typeof n=="string"||n instanceof Bi?MI(this._dataReader,"Transaction.update",l._key,n,r,i):LI(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Ro(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){if(typeof Uint8Array>"u")throw new F(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gP(){if(typeof atob>"u")throw new F(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var SF=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.fromBase64String=function(n){return gP(),new t(ya.fromBase64String(n))},t.fromUint8Array=function(n){return vP(),new t(ya.fromUint8Array(n))},t.prototype.toBase64=function(){return gP(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return vP(),this._delegate.toUint8Array()},t.prototype.isEqual=function(n){return this._delegate.isEqual(n._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(Ie),U8=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){uP(r=ke(r,ft));var s=Ot(r),a=r._freezeSettings(),l=new PE;return aP(s,l,new iF(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){uP(n=ke(n,ft));var r=Ot(n),i=n._freezeSettings(),s=new PE;return aP(r,s,new c8(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new F(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new En;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return ul.At()?(c=l+"main",[4,ul.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(dI(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),VI=function(e){function t(n,r,i){var s=this;return(s=e.call(this,r)||this).na=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof Vv||(s.sa=n),s}return q(t,e),Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this._delegate._getSettings()),n)).merge,this._delegate._setSettings(n)},t.prototype.useEmulator=function(n,r){(function(i,s,a){var l=(i=ke(i,Hf))._getSettings();l.host!=="firestore.googleapis.com"&&l.host!==s&&Cv("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:s+":"+a,ssl:!1}))})(this._delegate,n,r)},t.prototype.enableNetwork=function(){return function(n){var r=this;return n.asyncQueue.enqueue(function(){return A(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,XR(n)];case 1:return i=a.sent(),[4,JR(n)];case 2:return s=a.sent(),[2,(i.setNetworkEnabled(!0),function(l){var c=z(l);return c.Qr.delete(0),Ch(c)}(s))]}})})})}(Ot(ke(this._delegate,ft)))},t.prototype.disableNetwork=function(){return function(n){var r=this;return n.asyncQueue.enqueue(function(){return A(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,XR(n)];case 1:return i=a.sent(),[4,JR(n)];case 2:return s=a.sent(),[2,(i.setNetworkEnabled(!1),function(l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return(c=z(l)).Qr.add(0),[4,Dl(c)];case 1:return h.sent(),c.jr.set("Offline"),[2]}})})}(s))]}})})})}(Ot(ke(this._delegate,ft)))},t.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&aF("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new En;return n.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=J5,[4,PI(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(Ot(ke(this._delegate,ft)))},t.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var l=this,c=new $g(a);return s.asyncQueue.enqueueAndForget(function(){return A(l,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return h=function(g,m){z(g).Zr.add(m),m.next()},[4,pl(s)];case 1:return[2,h.apply(void 0,[p.sent(),c])]}})})}),function(){c.Xo(),s.asyncQueue.enqueueAndForget(function(){return A(l,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return h=function(g,m){z(g).Zr.delete(m)},[4,pl(s)];case 1:return[2,h.apply(void 0,[p.sent(),c])]}})})})}}(Ot(r=ke(r,ft)),vl(i)?i:{next:i})}(this._delegate,n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.sa)throw new F(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new qv(this,uF(this._delegate,n))}catch(r){throw fn(r,"collection()","Firestore.collection()")}},t.prototype.doc=function(n){try{return new ia(this,Pp(this._delegate,n))}catch(r){throw fn(r,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(n){try{return new Ah(this,function(r,i){if(r=ke(r,Hf),DI("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new F(O.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jn(r,null,function(s){return new eo(Ne.emptyPath(),s)}(i))}(this._delegate,n))}catch(r){throw fn(r,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,l){var c=this,h=new En;return a.asyncQueue.enqueueAndForget(function(){return A(c,void 0,void 0,function(){var p;return N(this,function(g){switch(g.label){case 0:return[4,function(m){return qg(m).then(function(y){return y.datastore})}(a)];case 1:return p=g.sent(),new d8(a.asyncQueue,p,l,h).run(),[2]}})})}),h.promise}(Ot(i),function(a){return s(new F8(i,a))})}(this._delegate,function(i){return n(new kF(r,i))})},t.prototype.batch=function(){var n=this;return Ot(this._delegate),new CF(new M8(this._delegate,function(r){return Kf(n._delegate,r)}))},t.prototype.loadBundle=function(n){throw new F(O.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(n){throw new F(O.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(Ie),Kg=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return q(t,e),t.prototype.convertBytes=function(n){return new SF(new ya(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ia.ia(r,this.firestore,null)},t}(jI);function j8(e){var t;t=e,zr.setLogLevel(t)}var kF=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this)._firestore=n,i._userDataWriter=new Kg(n),i}return q(t,e),t.prototype.get=function(n){var r=this,i=Ys(n);return this._delegate.get(i).then(function(s){return new Qf(r._firestore,new $i(r._firestore._delegate,r._userDataWriter,s._key,s._document,s.metadata,i._converter))})},t.prototype.set=function(n,r,i){var s=Ys(n);return i?(OI("Transaction.set",i),this._delegate.set(s,r,i)):this._delegate.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var c=Ys(n);return arguments.length===2?this._delegate.update(c,r):(s=this._delegate).update.apply(s,ve([c,r,i],a)),this},t.prototype.delete=function(n){var r=Ys(n);return this._delegate.delete(r),this},t}(Ie),CF=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype.set=function(n,r,i){var s=Ys(n);return i?(OI("WriteBatch.set",i),this._delegate.set(s,r,i)):this._delegate.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var c=Ys(n);return arguments.length===2?this._delegate.update(c,r):(s=this._delegate).update.apply(s,ve([c,r,i],a)),this},t.prototype.delete=function(n){var r=Ys(n);return this._delegate.delete(r),this},t.prototype.commit=function(){return this._delegate.commit()},t}(Ie),Qg=function(e){function t(n,r,i){var s=this;return(s=e.call(this,i)||this)._firestore=n,s._userDataWriter=r,s}return q(t,e),t.prototype.fromFirestore=function(n,r){var i=new sf(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Yf(this._firestore,i),r??{})},t.prototype.toFirestore=function(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)},t.ra=function(n,r){var i=t.oa,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new t(n,new Kg(n),r),s.set(r,a)),a},t}(Ie);Qg.oa=new WeakMap;var ia=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i._userDataWriter=new Kg(n),i}return q(t,e),t.ca=function(n,r,i){if(n.length%2!=0)throw new F(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.canonicalString()+" has "+n.length);return new t(r,new Ze(r._delegate,i,new te(n)))},t.ia=function(n,r,i){return new t(r,new Ze(r._delegate,i,n))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new qv(this.firestore,uF(this._delegate,n))}catch(r){throw fn(r,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(n){return n instanceof Ie&&(n=n._delegate),n instanceof Ze&&lF(this._delegate,n)},t.prototype.set=function(n,r){r=OI("DocumentReference.set",r);try{return function(i,s,a){i=ke(i,Ze);var l=ke(i.firestore,ft),c=Wg(i._converter,s,a);return Kf(l,[Hg(Da(l),"setDoc",i._key,c,i._converter!==null,a).toMutation(i._key,Yt.none())])}(this._delegate,n,r)}catch(i){throw fn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?pP(this._delegate,n):pP.apply(void 0,ve([this._delegate,n,r],i))}catch(a){throw fn(a,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Kf(ke((n=this._delegate).firestore,ft),[new Sh(n._key,Yt.none())]);var n},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=NF(r),a=AF(r,function(l){return new Qf(n.firestore,new $i(n.firestore._delegate,n._userDataWriter,l._key,l._document,l.metadata,n._delegate._converter))});return TF(this._delegate,s,a)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=ke(i,Ze);var s=ke(i.firestore,ft),a=Ot(s),l=new ra(s);return function(c,h){var p=this,g=new En;return c.asyncQueue.enqueueAndForget(function(){return A(p,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(w,b,C){return A(this,void 0,void 0,function(){var T,I;return N(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(D,L){var P=z(D);return P.persistence.runTransaction("read document","readonly",function(U){return P.Kn.In(U,L)})}(w,b)];case 1:return(I=S.sent())instanceof Fe?C.resolve(I):I instanceof Tt?C.resolve(null):C.reject(new F(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return T=S.sent(),I=Ll(T,"Failed to get document '"+b+" from cache"),C.reject(I),[3,3];case 3:return[2]}})})},[4,RI(c)];case 1:return[2,m.apply(void 0,[y.sent(),h,g])]}})})}),g.promise}(a,i._key).then(function(c){return new $i(s,l,i._key,c,new Qs(c instanceof Fe&&c.hasLocalMutations,!0),i._converter)})}(this._delegate):(n==null?void 0:n.source)==="server"?function(i){i=ke(i,Ze);var s=ke(i.firestore,ft);return ZR(Ot(s),i._key,{source:"server"}).then(function(a){return OE(s,i,a)})}(this._delegate):function(i){i=ke(i,Ze);var s=ke(i.firestore,ft);return ZR(Ot(s),i._key).then(function(a){return OE(s,i,a)})}(this._delegate)).then(function(i){return new Qf(r.firestore,new $i(r.firestore._delegate,r._userDataWriter,i._key,i._document,i.metadata,r._delegate._converter))})},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Qg.ra(this.firestore,n)):this._delegate.withConverter(null))},t}(Ie);function fn(e,t,n){return e.message=e.message.replace(t,n),e}function NF(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!vl(r))return r}return{}}function AF(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=vl(e[0])?e[0]:vl(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Qf=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this)._firestore=n,i}return q(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new ia(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(n){return this._delegate.data(n)},t.prototype.get=function(n,r){return this._delegate.get(n,r)},t.prototype.isEqual=function(n){return wF(this._delegate,n._delegate)},t}(Ie),Yf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Qf),Ah=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i._userDataWriter=new Kg(n),i}return q(t,e),t.prototype.where=function(n,r,i){try{return new t(this.firestore,yo(this._delegate,function(s,a,l){var c=a,h=$v("where",s);return new O8(h,c,l)}(n,r,i)))}catch(s){throw fn(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(n,r){try{return new t(this.firestore,yo(this._delegate,function(i,s){s===void 0&&(s="asc");var a=s,l=$v("orderBy",i);return new x8(l,a)}(n,r)))}catch(i){throw fn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(n){try{return new t(this.firestore,yo(this._delegate,function(r){return oP("limit",r),new lP("limit",r,"F")}(n)))}catch(r){throw fn(r,"limit()","Query.limit()")}},t.prototype.limitToLast=function(n){try{return new t(this.firestore,yo(this._delegate,function(r){return oP("limitToLast",r),new lP("limitToLast",r,"L")}(n)))}catch(r){throw fn(r,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,yo(this._delegate,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new cP("startAt",i,!0)}.apply(void 0,n)))}catch(i){throw fn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,yo(this._delegate,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new cP("startAfter",i,!1)}.apply(void 0,n)))}catch(i){throw fn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,yo(this._delegate,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new fP("endBefore",i,!0)}.apply(void 0,n)))}catch(i){throw fn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,yo(this._delegate,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new fP("endAt",i,!1)}.apply(void 0,n)))}catch(i){throw fn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(n){return cF(this._delegate,n._delegate)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=ke(i,jn);var s=ke(i.firestore,ft),a=Ot(s),l=new ra(s);return function(c,h){var p=this,g=new En;return c.asyncQueue.enqueueAndForget(function(){return A(p,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(w,b,C){return A(this,void 0,void 0,function(){var T,I,S,D,L;return N(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,Fv(w,b,!0)];case 1:return L=P.sent(),T=new ZM(b,L.jn),I=T.Io(L.documents),S=T.applyChanges(I,!1),C.resolve(S.snapshot),[3,3];case 2:return D=P.sent(),L=Ll(D,"Failed to execute query '"+b+" against cache"),C.reject(L),[3,3];case 3:return[2]}})})},[4,RI(c)];case 1:return[2,m.apply(void 0,[y.sent(),h,g])]}})})}),g.promise}(a,i._query).then(function(c){return new Ao(s,l,i,c)})}(this._delegate):(n==null?void 0:n.source)==="server"?function(i){i=ke(i,jn);var s=ke(i.firestore,ft),a=Ot(s),l=new ra(s);return eP(a,i._query,{source:"server"}).then(function(c){return new Ao(s,l,i,c)})}(this._delegate):function(i){i=ke(i,jn);var s=ke(i.firestore,ft),a=Ot(s),l=new ra(s);return EF(i._query),eP(a,i._query).then(function(c){return new Ao(s,l,i,c)})}(this._delegate)).then(function(i){return new xE(r.firestore,new Ao(r.firestore._delegate,r._userDataWriter,r._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=NF(r),a=AF(r,function(l){return new xE(n.firestore,new Ao(n.firestore._delegate,n._userDataWriter,n._delegate,l._snapshot))});return TF(this._delegate,s,a)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Qg.ra(this.firestore,n)):this._delegate.withConverter(null))},t}(Ie),V8=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this)._firestore=n,i}return q(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Yf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(Ie),xE=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this)._firestore=n,i}return q(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new Ah(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var n=this;return this._delegate.docs.map(function(r){return new Yf(n._firestore,r)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(n){var r=this;return this._delegate.docChanges(n).map(function(i){return new V8(r._firestore,i)})},t.prototype.forEach=function(n,r){var i=this;this._delegate.forEach(function(s){n.call(r,new Yf(i._firestore,s))})},t.prototype.isEqual=function(n){return wF(this._delegate,n._delegate)},t}(Ie),qv=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return q(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ia(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ia(this.firestore,n===void 0?Pp(this._delegate):Pp(this._delegate,n))}catch(r){throw fn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=ke(i.firestore,ft),l=Pp(i),c=Wg(i._converter,s);return Kf(a,[Hg(Da(i.firestore),"addDoc",l._key,c,i._converter!==null,{}).toMutation(l._key,Yt.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new ia(r.firestore,i)})},t.prototype.isEqual=function(n){return lF(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Qg.ra(this.firestore,n)):this._delegate.withConverter(null))},t}(Ah);function Ys(e){return e instanceof Ie&&(e=e._delegate),ke(e,Ze)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B8=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call(this,new(Bi.bind.apply(Bi,ve([void 0],n))))||this}return q(t,e),t.documentId=function(){return new t(Kr.keyField().canonicalString())},t.prototype.isEqual=function(n){return n instanceof Ie&&(n=n._delegate),n instanceof Bi&&this._delegate._internalPath.isEqual(n._internalPath)},t}(Ie),$8=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),t.serverTimestamp=function(){var n=new k8("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new t(n)},t.delete=function(){var n=new xI("deleteField");return n._methodName="FieldValue.delete",new t(n)},t.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new C8("arrayUnion",s)}.apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new N8("arrayRemove",s)}.apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(n){var r=function(i){return new A8("increment",i)}(n);return r._methodName="FieldValue.increment",new t(r)},t.prototype.isEqual=function(n){return this._delegate.isEqual(n._delegate)},t}(Ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(e){return function(t,n){var r=Ot(t=ke(t,ft)),i=new E8;return function(s,a,l,c){var h=this,p=function(g,m){return function(y,w){return new f8(y,w)}(function(y,w){if(y instanceof Uint8Array)return YR(y,w);if(y instanceof ArrayBuffer)return YR(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof g=="string"?new TextEncoder().encode(g):g),m)}(l,kh(a));s.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var g;return N(this,function(m){switch(m.label){case 0:return g=l8,[4,PI(s)];case 1:return g.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function z8(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return A(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return l=function(h,p){var g=z(h);return g.persistence.runTransaction("Get named query","readonly",function(m){return g.He.getNamedQuery(m,p)})},[4,RI(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Ot(t=ke(t,ft)),n).then(function(i){return i?new jn(t,null,i.query):null})).then(function(i){return i?new Ah(r,i):null})}var G8={Firestore:VI,GeoPoint:Gg,Timestamp:Un,Blob:SF,Transaction:kF,WriteBatch:CF,DocumentReference:ia,DocumentSnapshot:Qf,Query:Ah,QueryDocumentSnapshot:Yf,QuerySnapshot:xE,CollectionReference:qv,FieldPath:B8,FieldValue:$8,setLogLevel:j8,CACHE_SIZE_UNLIMITED:b8};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(e){(function(t,n){t.INTERNAL.registerComponent(new Bn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},G8)))})(e,function(t,n){return new VI(t,new ft(t,n),new U8)}),e.registerVersion("@firebase/firestore","2.2.1")}H8(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(e){e.prototype.loadBundle=q8,e.prototype.namedQuery=z8}W8(VI);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uu=function(e){q(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function K8(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Q8(e,t,n){var r=K8(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!mP[l])return new Uu("internal","internal");r=mP[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Uu(r,i,s)}var Y8=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},e.prototype.getContext=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X8="type.googleapis.com/google.protobuf.Int64Value",J8="type.googleapis.com/google.protobuf.UInt64Value";function yP(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Z8=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return yP(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case X8:case J8:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?yP(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Uu("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var _P=function(){function e(t,n,r,i,s){var a=this;i===void 0&&(i="us-central1"),this.app_=t,this.fetchImpl=s,this.serializer=new Z8,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Y8(n,r),this.cancelAllRequests=new Promise(function(c){a.deleteService=function(){return c()}});try{var l=new URL(i);this.customDomain=l.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:r["Content-Type"]="application/json",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),[2,{status:0,json:null}];case 4:s=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i.json()];case 6:return s=a.sent(),[3,8];case 7:return a.sent(),[3,8];case 8:return[2,{status:i.status,json:s}]}})})},e.prototype.call=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y,w,b;return N(this,function(C){switch(C.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=C.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=eQ(c),p=h.timer,g=h.promise,[4,Promise.race([wP(p,this.postJSON(i,s,a)),g,wP(p,this.cancelAllRequests)])];case 2:if(m=C.sent(),!m)throw new Uu("cancelled","Firebase Functions instance was deleted.");if(y=Q8(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Uu("internal","Response is not valid JSON object.");if(w=m.json.data,typeof w>"u"&&(w=m.json.result),typeof w>"u")throw new Uu("internal","Response is missing data field.");return b=this.serializer.decode(w),[2,{data:b}]}})})},e}();function wP(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tQ="functions";function nQ(e,t){var n={Functions:_P};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("messaging");return new _P(l,c,h,a,t)}e.INTERNAL.registerComponent(new Bn(tQ,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var rQ="@firebase/functions",iQ="0.6.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nQ(ee,fetch.bind(self));ee.registerVersion(rQ,iQ);function oQ(e){return Array.prototype.slice.call(e)}function RF(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Yg(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),RF(r).then(s,a)});return i.request=r,i}function sQ(e,t,n){var r=Yg(e,t,n);return r.then(function(i){if(i)return new Xf(i,r.request)})}function Ml(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function BI(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Yg(this[t],i,arguments)})})}function Xg(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function PF(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return sQ(this[t],i,arguments)})})}function xa(e){this._index=e}Ml(xa,"_index",["name","keyPath","multiEntry","unique"]);BI(xa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);PF(xa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Xf(e,t){this._cursor=e,this._request=t}Ml(Xf,"_cursor",["direction","key","primaryKey","value"]);BI(Xf,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Xf.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),RF(t._request).then(function(r){if(r)return new Xf(r,t._request)})})})});function _i(e){this._store=e}_i.prototype.createIndex=function(){return new xa(this._store.createIndex.apply(this._store,arguments))};_i.prototype.index=function(){return new xa(this._store.index.apply(this._store,arguments))};Ml(_i,"_store",["name","keyPath","indexNames","autoIncrement"]);BI(_i,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);PF(_i,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Xg(_i,"_store",IDBObjectStore,["deleteIndex"]);function Rh(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Rh.prototype.objectStore=function(){return new _i(this._tx.objectStore.apply(this._tx,arguments))};Ml(Rh,"_tx",["objectStoreNames","mode"]);Xg(Rh,"_tx",IDBTransaction,["abort"]);function Jg(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Rh(n)}Jg.prototype.createObjectStore=function(){return new _i(this._db.createObjectStore.apply(this._db,arguments))};Ml(Jg,"_db",["name","version","objectStoreNames"]);Xg(Jg,"_db",IDBDatabase,["deleteObjectStore","close"]);function Zg(e){this._db=e}Zg.prototype.transaction=function(){return new Rh(this._db.transaction.apply(this._db,arguments))};Ml(Zg,"_db",["name","version","objectStoreNames"]);Xg(Zg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[_i,xa].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=oQ(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[xa,_i].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function $I(e,t,n){var r=Yg(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Jg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Zg(s)})}function P_(e){return Yg(indexedDB,"deleteDatabase",[e])}var aQ="@firebase/installations",DF="0.4.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OF=1e4,xF="w:"+DF,LF="FIS_v2",uQ="https://firebaseinstallations.googleapis.com/v1",lQ=60*60*1e3,cQ="installations",fQ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o,hQ=(_o={},_o["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',_o["not-registered"]="Firebase Installation is not registered.",_o["installation-not-found"]="Firebase Installation not found.",_o["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',_o["app-offline"]="Could not process request. Application offline.",_o["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",_o),Xi=new ls(cQ,fQ,hQ);function MF(e){return e instanceof El&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(e){var t=e.projectId;return uQ+"/projects/"+t+"/installations"}function FF(e){return{token:e.token,requestStatus:2,expiresIn:dQ(e.expiresIn),creationTime:Date.now()}}function zI(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Xi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function UF(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jF(e,t){var n=t.refreshToken,r=UF(e);return r.append("Authorization",pQ(n)),r}function GI(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function dQ(e){return Number(e.replace("s","000"))}function pQ(e){return LF+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vQ(e,t){var n=t.fid;return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return r=qI(e),i=UF(e),s={fid:n,authVersion:LF,appId:e.appId,sdkVersion:xF},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,GI(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:FF(c.authToken)},[2,h];case 3:return[4,zI("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(e){var t=btoa(String.fromCharCode.apply(String,ve([],Fn(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mQ=/^[cdef][\w-]{21}$/,LE="";function yQ(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=_Q(e);return mQ.test(n)?n:LE}catch{return LE}}function _Q(e){var t=gQ(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gl=new Map;function BF(e,t){var n=Fl(e);$F(n,t),bQ(n,t)}function wQ(e,t){qF();var n=Fl(e),r=gl.get(n);r||(r=new Set,gl.set(n,r)),r.add(t)}function EQ(e,t){var n=Fl(e),r=gl.get(n);r&&(r.delete(t),r.size===0&&gl.delete(n),zF())}function $F(e,t){var n,r,i=gl.get(e);if(i)try{for(var s=_n(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function bQ(e,t){var n=qF();n&&n.postMessage({key:e,fid:t}),zF()}var Xs=null;function qF(){return!Xs&&"BroadcastChannel"in self&&(Xs=new BroadcastChannel("[Firebase] FID Change"),Xs.onmessage=function(e){$F(e.data.key,e.data.fid)}),Xs}function zF(){gl.size===0&&Xs&&(Xs.close(),Xs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IQ="firebase-installations-database",TQ=1,_a="firebase-installations-store",D_=null;function HI(){return D_||(D_=$I(IQ,TQ,function(e){switch(e.oldVersion){case 0:e.createObjectStore(_a)}})),D_}function zv(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return n=Fl(e),[4,HI()];case 1:return r=l.sent(),i=r.transaction(_a,"readwrite"),s=i.objectStore(_a),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&BF(e,t.fid),[2,t]}})})}function WI(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=Fl(e),[4,HI()];case 1:return n=i.sent(),r=n.transaction(_a,"readwrite"),[4,r.objectStore(_a).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Ph(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=Fl(e),[4,HI()];case 1:return r=c.sent(),i=r.transaction(_a,"readwrite"),s=i.objectStore(_a),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&BF(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Ph(e,function(s){var a=SQ(s),l=kQ(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==LE?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function SQ(e){var t=e||{fid:yQ(),registrationStatus:0};return GF(t)}function kQ(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Xi.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=CQ(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:NQ(e)}:{installationEntry:t}}function CQ(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,vQ(e,t)];case 1:return n=i.sent(),[2,zv(e,n)];case 2:return r=i.sent(),MF(r)&&r.customData.serverCode===409?[4,WI(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,zv(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function NQ(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,EP(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,VF(100)];case 3:return s.sent(),[4,EP(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,KI(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function EP(e){return Ph(e,function(t){if(!t)throw Xi.create("installation-not-found");return GF(t)})}function GF(e){return AQ(e)?{fid:e.fid,registrationStatus:0}:e}function AQ(e){return e.registrationStatus===1&&e.registrationTime+OF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RQ(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g;return N(this,function(m){switch(m.label){case 0:return i=PQ(n,t),s=jF(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:xF}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,GI(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),g=FF(p),[2,g];case 3:return[4,zI("Generate Auth Token",h)];case 4:throw m.sent()}})})}function PQ(e,t){var n=t.fid;return qI(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,Ph(e.appConfig,function(l){if(!HF(l))throw Xi.create("not-registered");var c=l.authToken;if(!t&&xQ(c))return l;if(c.requestStatus===1)return n=DQ(e,t),l;if(!navigator.onLine)throw Xi.create("app-offline");var h=MQ(l);return n=OQ(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function DQ(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,bP(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,VF(100)];case 3:return i.sent(),[4,bP(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,QI(e,t)]:[2,r]}})})}function bP(e){return Ph(e,function(t){if(!HF(t))throw Xi.create("not-registered");var n=t.authToken;return FQ(n)?Be(Be({},t),{authToken:{requestStatus:0}}):t})}function OQ(e,t){return A(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,RQ(e,t)];case 1:return n=s.sent(),i=Be(Be({},t),{authToken:n}),[4,zv(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),MF(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,WI(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=Be(Be({},t),{authToken:{requestStatus:0}}),[4,zv(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function HF(e){return e!==void 0&&e.registrationStatus===2}function xQ(e){return e.requestStatus===2&&!LQ(e)}function LQ(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+lQ}function MQ(e){var t={requestStatus:1,requestTime:Date.now()};return Be(Be({},e),{authToken:t})}function FQ(e){return e.requestStatus===1&&e.requestTime+OF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,KI(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):QI(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,VQ(e.appConfig)];case 1:return r.sent(),[4,QI(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function VQ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,KI(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=$Q(e,t),r=jF(e,t),i={method:"DELETE",headers:r},[4,GI(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,zI("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function $Q(e,t){var n=t.fid;return qI(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Ph(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Xi.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Xi.create("app-offline");case 3:return[4,BQ(t,n)];case 4:return r.sent(),[4,WI(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zQ(e,t){var n=e.appConfig;return wQ(n,t),function(){EQ(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(e){var t,n;if(!e||!e.options)throw O_("App Configuration");if(!e.name)throw O_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=_n(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw O_(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function O_(e){return Xi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(e){var t="installations";e.INTERNAL.registerComponent(new Bn(t,function(n){var r=n.getProvider("app").getImmediate(),i=GQ(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return UQ(a)},getToken:function(c){return jQ(a,c)},delete:function(){return qQ(a)},onIdChange:function(c){return zQ(a,c)}};return l},"PUBLIC")),e.registerVersion(aQ,DF)}HQ(ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,WQ=(_t={},_t["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',_t["only-available-in-window"]="This method is available in a Window context.",_t["only-available-in-sw"]="This method is available in a service worker context.",_t["permission-default"]="The notification permission was not granted and dismissed instead.",_t["permission-blocked"]="The notification permission was not granted and blocked instead.",_t["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",_t["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",_t["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",_t["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",_t["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",_t["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",_t["token-update-no-token"]="FCM returned no token when updating the user to push.",_t["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",_t["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",_t["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",_t["invalid-vapid-key"]="The public VAPID key must be a string.",_t["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",_t),Pe=new ls("messaging","Messaging",WQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KQ="/firebase-messaging-sw.js",QQ="/firebase-cloud-messaging-push-scope",Gv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YQ="https://fcmregistrations.googleapis.com/v1",WF="FCM_MSG",XQ="FirebaseMessaging: ",JQ="google.c.a.e",KF="google.c.a.c_id",ZQ="google.c.a.ts",eY="google.c.a.c_l",tY=1e3,nY=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var wa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(wa||(wa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,ve([],Fn(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rY(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x_="fcm_token_details_db",iY=5,IP="fcm_token_object_Store";function oY(e){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(x_))return[2,null];a.label=2;case 2:return r=null,[4,$I(x_,iY,function(l){return A(s,void 0,void 0,function(){var c,h,p,p,p,g;return N(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(IP)?(c=l.transaction.objectStore(IP),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(g=p.createTime)!==null&&g!==void 0?g:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Pi(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Pi(p.auth),p256dh:Pi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Pi(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Pi(p.auth),p256dh:Pi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Pi(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,P_(x_)];case 4:return a.sent(),[4,P_("fcm_vapid_details_db")];case 5:return a.sent(),[4,P_("undefined")];case 6:return a.sent(),[2,sY(r)?r:null]}})})}function sY(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aY="firebase-messaging-database",uY=1,Ea="firebase-messaging-store",L_=null;function YI(){return L_||(L_=$I(aY,uY,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ea)}})),L_}function Hv(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=JI(e),[4,YI()];case 1:return n=s.sent(),[4,n.transaction(Ea).objectStore(Ea).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,oY(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,XI(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function XI(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=JI(e),[4,YI()];case 1:return r=s.sent(),i=r.transaction(Ea,"readwrite"),[4,i.objectStore(Ea).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function lY(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=JI(e),[4,YI()];case 1:return n=i.sent(),r=n.transaction(Ea,"readwrite"),[4,r.objectStore(Ea).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function JI(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,eT(e)];case 1:n=h.sent(),r=YF(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(ZI(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Pe.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Pe.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Pe.create("token-subscribe-no-token");return[2,s.token]}})})}function fY(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,eT(e)];case 1:n=h.sent(),r=YF(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(ZI(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Pe.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Pe.create("token-update-failed",{errorInfo:c});if(!s.token)throw Pe.create("token-update-no-token");return[2,s.token]}})})}function QF(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,eT(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(ZI(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Pe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Pe.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function ZI(e){var t=e.projectId;return YQ+"/projects/"+t+"/registrations"}function eT(e){var t=e.appConfig,n=e.installations;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function YF(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Gv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hY=7*24*60*60*1e3;function ME(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Pe.create("permission-blocked");return[4,pY(t,n)];case 1:return r=l.sent(),[4,Hv(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Pi(r.getKey("auth")),p256dh:Pi(r.getKey("p256dh"))},i?[3,3]:[2,TP(e,s)];case 3:if(vY(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,QF(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,TP(e,s)];case 8:return Date.now()>=i.createTime+hY?[2,dY({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function af(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,Hv(e)];case 1:return n=i.sent(),n?[4,QF(e,n.token)]:[3,4];case 2:return i.sent(),[4,lY(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function dY(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,fY(t,e)];case 1:return r=a.sent(),i=Be(Be({},e),{token:r,createTime:Date.now()}),[4,XI(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,af(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function TP(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,cY(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,XI(e,r)];case 2:return i.sent(),[2,r.token]}})})}function pY(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rY(t)})]}})})}function vY(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(e){var t={from:e.from,collapseKey:e.collapse_key};return mY(t,e),yY(t,e),_Y(t,e),t}function mY(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function yY(e,t){t.data&&(e.data=t.data)}function _Y(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(e){return typeof e=="object"&&!!e&&KF in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wY=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Pe.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Hv(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Gv,i.label=2;case 2:return[2,ME(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return af(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Pe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Pe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Pe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Pe.create("only-available-in-window")},e.prototype.onMessage=function(){throw Pe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Pe.create("only-available-in-window")},e.prototype.onPush=function(t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=bY(t),n?[4,JF()]:(console.debug(XQ+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),TY(r)?[2,SY(r,n)]:(i=!1,n.notification?[4,kY(EY(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=gY(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,SP(tY)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,af(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Hv(this.firebaseDependencies)];case 3:return s=a.sent(),[4,af(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,ME(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Gv)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[WF],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=CY(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,IY(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,SP(nY)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=wa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function EY(e){var t,n=Be({},e.notification);return n.data=(t={},t[WF]=e,t),n}function bY(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function IY(e){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,JF()];case 1:t=c.sent();try{for(n=_n(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function TY(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function SY(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=wa.PUSH_RECEIVED;try{for(var i=_n(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function JF(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function kY(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function CY(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(XF(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NY=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===wa.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(RY(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,XF(r)&&r[JQ]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Pe.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,ME(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Gv),[2]})})},e.prototype.updateSwReg=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(KQ,{scope:QQ})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Pe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,af(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Pe.create("permission-blocked"):Pe.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Pe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Pe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");if(this.swRegistration)throw Pe.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Pe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Pe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=AY(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[KF],message_name:n[eY],message_time:n[ZQ],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function AY(e){switch(e){case wa.NOTIFICATION_CLICKED:return"notification_open";case wa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function RY(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(e){var t,n;if(!e||!e.options)throw M_("App Configuration Object");if(!e.name)throw M_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=_n(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw M_(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function M_(e){return Pe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DY="messaging";function OY(e){var t=e.getProvider("app").getImmediate(),n=PY(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!ZF())throw Pe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new wY(s):new NY(s)}var xY={isSupported:ZF};ee.INTERNAL.registerComponent(new Bn(DY,OY,"PUBLIC").setServiceProps(xY));function ZF(){return self&&"ServiceWorkerGlobalScope"in self?MY():LY()}function LY(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function MY(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eU="firebasestorage.googleapis.com",tU="storageBucket",FY=2*60*1e3,UY=10*60*1e3,Nt=function(e){q(t,e);function t(n,r){var i=e.call(this,F_(n),"Firebase Storage: "+r+" ("+F_(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return F_(n)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),t}(El);function F_(e){return"storage/"+e}function tT(){var e="An unknown error occurred, please check the error payload for server response.";return new Nt("unknown",e)}function jY(e){return new Nt("object-not-found","Object '"+e+"' does not exist.")}function VY(e){return new Nt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BY(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt("unauthenticated",e)}function $Y(e){return new Nt("unauthorized","User does not have permission to access '"+e+"'.")}function qY(){return new Nt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function nU(){return new Nt("canceled","User canceled the upload/download.")}function zY(e){return new Nt("invalid-url","Invalid URL '"+e+"'.")}function GY(e){return new Nt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function HY(){return new Nt("no-default-bucket","No default bucket found. Did you set the '"+tU+"' property when initializing the app?")}function rU(){return new Nt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function WY(){return new Nt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function KY(){return new Nt("no-download-url","The given file does not have any download URLs.")}function oa(e){return new Nt("invalid-argument",e)}function iU(){return new Nt("app-deleted","The Firebase app was deleted.")}function oU(e){return new Nt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uf(e,t){return new Nt("invalid-format","String does not match format '"+e+"': "+t)}function up(e){throw new Nt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},U_=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function sU(e,t){switch(e){case gr.RAW:return new U_(aU(t));case gr.BASE64:case gr.BASE64URL:return new U_(uU(e,t));case gr.DATA_URL:return new U_(YY(t),XY(t))}throw tT()}function aU(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function QY(e){var t;try{t=decodeURIComponent(e)}catch{throw uf(gr.DATA_URL,"Malformed data URL.")}return aU(t)}function uU(e,t){switch(e){case gr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw uf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case gr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw uf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(t)}catch{throw uf(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var lU=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw uf(gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=JY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function YY(e){var t=new lU(e);return t.base64?uU(gr.BASE64,t.rest):QY(t.rest)}function XY(e){var t=new lU(e);return t.contentType}function JY(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZY={STATE_CHANGED:"state_changed"},hn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function j_(e){switch(e){case"running":case"pausing":case"canceling":return hn.RUNNING;case"paused":return hn.PAUSED;case"success":return hn.SUCCESS;case"canceled":return hn.CANCELED;case"error":return hn.ERROR;default:return hn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(sa||(sa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e7=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=sa.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=sa.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=sa.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw up("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw up("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw up("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw up("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t7=function(){function e(){}return e.prototype.createXhrIo=function(){return new e7},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch{return new e(t,"")}if(n.path==="")return n;throw GY(t)},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function c(H){H.path_=decodeURIComponent(H.path)}for(var h="v[A-Za-z0-9_]+",p=eU.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp("^https?://"+p+"/"+h+"/b/"+r+"/o"+g,"i"),y={bucket:1,path:3},w="(?:storage.googleapis.com|storage.cloud.google.com)",b="([^?#]*)",C=new RegExp("^https?://"+w+"/"+r+"/"+b,"i"),T={bucket:1,path:2},I=[{regex:a,indices:l,postModify:i},{regex:m,indices:y,postModify:c},{regex:C,indices:T,postModify:c}],S=0;S<I.length;S++){var D=I[S],L=D.regex.exec(t);if(L){var P=L[D.indices.bucket],U=L[D.indices.path];U||(U=""),n=new e(P,U),D.postModify(n);break}}if(n==null)throw zY(t);return n},e}(),n7=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];c||(c=!0,t.apply(null,w))}function p(w){i=setTimeout(function(){i=null,e(g,l())},w)}function g(w){for(var b=[],C=1;C<arguments.length;C++)b[C-1]=arguments[C];if(!c){if(w){h.call.apply(h,ve([null,w],b));return}var T=l()||s;if(T){h.call.apply(h,ve([null,w],b));return}r<64&&(r*=2);var I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,p(I)}}var m=!1;function y(w){m||(m=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),p(0)):w||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function i7(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(e){return e!==void 0}function s7(e){return typeof e=="function"}function a7(e){return typeof e=="object"&&!Array.isArray(e)}function em(e){return typeof e=="string"||e instanceof String}function kP(e){return nT()&&e instanceof Blob}function nT(){return typeof Blob<"u"}function FE(e,t,n,r){if(r<t)throw oa("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw oa("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(e){return"https://"+eU+"/v0"+e}function cU(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u7=function(){function e(t,n,r,i,s,a,l,c,h,p,g){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=g,this.promise_=new Promise(function(y,w){m.resolve_=y,m.reject_=w,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new lp(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(c){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingXhr_=null,c=c;var h=c.getErrorCode()===sa.NO_ERROR,p=c.getStatus();if(!h||t.isRetryStatusCode_(p)){var g=c.getErrorCode()===sa.ABORT;i(!1,new lp(!1,null,g));return}var m=t.successCodes_.indexOf(p)!==-1;i(!0,new lp(m,c))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());o7(h)?a(h):a()}catch(g){l(g)}else if(c!==null){var p=tT();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?iU():nU();l(p)}else{var p=qY();l(p)}}this.canceled_?r(!1,new lp(!1,null,!0)):this.backoffId_=r7(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&i7(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),lp=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function l7(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function c7(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function f7(e,t){t&&(e["X-Firebase-GMPID"]=t)}function h7(e,t,n,r,i){var s=cU(e.urlParams),a=e.url+s,l=Object.assign({},e.headers);return f7(l,t),l7(l,n),c7(l,i),new u7(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function p7(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=d7();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(nT())return new Blob(e);throw new Nt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function v7(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rT=function(){function e(t,n){var r=0,i="";kP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(kP(this.data_)){var r=this.data_,i=v7(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(nT()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(p7.apply(null,r))}else{var i=t.map(function(c){return em(c)?sU(gr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(e){var t;try{t=JSON.parse(e)}catch{return null}return a7(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function m7(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function fU(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(e,t){return t}var un=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||y7}return e}(),cp=null;function _7(e){return!em(e)||e.length<2?e:fU(e)}function tm(){if(cp)return cp;var e=[];e.push(new un("bucket")),e.push(new un("generation")),e.push(new un("metageneration")),e.push(new un("name","fullPath",!0));function t(s,a){return _7(a)}var n=new un("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new un("size");return i.xform=r,e.push(i),e.push(new un("timeCreated")),e.push(new un("updated")),e.push(new un("md5Hash",null,!0)),e.push(new un("cacheControl",null,!0)),e.push(new un("contentDisposition",null,!0)),e.push(new un("contentEncoding",null,!0)),e.push(new un("contentLanguage",null,!0)),e.push(new un("contentType",null,!0)),e.push(new un("metadata","customMetadata",!0)),cp=e,cp}function w7(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Br(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function E7(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return w7(r,e),r}function hU(e,t,n){var r=iT(t);if(r===null)return null;var i=r;return E7(e,i,n)}function b7(e,t){var n=iT(t);if(n===null||!em(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(l){var c=e.bucket,h=e.fullPath,p="/b/"+i(c)+"/o/"+i(h),g=ps(p),m=cU({alt:"media",token:l});return g+m});return a[0]}function oT(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CP="prefixes",NP="items";function I7(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[CP])for(var i=0,s=n[CP];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new Br(t,l));r.prefixes.push(c)}if(n[NP])for(var h=0,p=n[NP];h<p.length;h++){var g=p[h],c=e._makeStorageReference(new Br(t,g.name));r.items.push(c)}return r}function T7(e,t,n){var r=iT(n);if(r===null)return null;var i=r;return I7(e,t,i)}var no=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(e){if(!e)throw tT()}function nm(e,t){function n(r,i){var s=hU(e,i,t);return vi(s!==null),s}return n}function S7(e,t){function n(r,i){var s=T7(e,t,i);return vi(s!==null),s}return n}function k7(e,t){function n(r,i){var s=hU(e,i,t);return vi(s!==null),b7(s,i)}return n}function Ul(e){function t(n,r){var i;return n.getStatus()===401?i=BY():n.getStatus()===402?i=VY(e.bucket):n.getStatus()===403?i=$Y(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function rm(e){var t=Ul(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=jY(e.path)),s.serverResponse=i.serverResponse,s}return n}function dU(e,t,n){var r=t.fullServerUrl(),i=ps(r),s="GET",a=e.maxOperationRetryTime,l=new no(i,s,nm(e,n),a);return l.errorHandler=rm(t),l}function C7(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=ps(a),c="GET",h=e.maxOperationRetryTime,p=new no(l,c,S7(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Ul(t),p}function N7(e,t,n){var r=t.fullServerUrl(),i=ps(r),s="GET",a=e.maxOperationRetryTime,l=new no(i,s,k7(e,n),a);return l.errorHandler=rm(t),l}function A7(e,t,n,r){var i=t.fullServerUrl(),s=ps(i),a="PATCH",l=oT(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new no(s,a,nm(e,r),h);return p.headers=c,p.body=l,p.errorHandler=rm(t),p}function R7(e,t){var n=t.fullServerUrl(),r=ps(n),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new no(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=rm(t),l}function P7(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function pU(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=P7(null,t)),r}function D7(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var S="",D=0;D<2;D++)S=S+Math.random().toString().slice(2);return S}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=pU(t,r,i),p=oT(h,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=rT.getBlob(g,r,m);if(y===null)throw rU();var w={name:h.fullPath},b=ps(s),C="POST",T=e.maxUploadRetryTime,I=new no(b,C,nm(e,n),T);return I.urlParams=w,I.headers=a,I.body=y.uploadData(),I.errorHandler=Ul(t),I}var Wv=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function sT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{vi(!1)}var r=t||["active"];return vi(!!n&&r.indexOf(n)!==-1),n}function O7(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=pU(t,r,i),l={name:a.fullPath},c=ps(s),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=oT(a,n),m=e.maxUploadRetryTime;function y(b){sT(b);var C;try{C=b.getResponseHeader("X-Goog-Upload-URL")}catch{vi(!1)}return vi(em(C)),C}var w=new no(c,h,y,m);return w.urlParams=l,w.headers=p,w.body=g,w.errorHandler=Ul(t),w}function x7(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=sT(h,["active","final"]),g=null;try{g=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vi(!1)}g||vi(!1);var m=Number(g);return vi(!isNaN(m)),new Wv(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new no(n,a,s,l);return c.headers=i,c.errorHandler=Ul(t),c}var AP=256*1024;function L7(e,t,n,r,i,s,a,l){var c=new Wv(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw WY();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var g=c.current,m=g+p,y=p===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":c.current},b=r.slice(g,m);if(b===null)throw rU();function C(D,L){var P=sT(D,["active","final"]),U=c.current+p,H=r.size(),W;return P==="final"?W=nm(t,s)(D,L):W=null,new Wv(U,H,P==="final",W)}var T="POST",I=t.maxUploadRetryTime,S=new no(n,T,C,I);return S.headers=w,S.body=b.uploadData(),S.progressCallback=l||null,S.errorHandler=Ul(e),S}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M7=function(){function e(t,n,r){var i=s7(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vU=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=tm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;this._ref.storage._getAuthToken().then(function(r){switch(n._state){case"running":t(r);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n){var r=O7(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r){var i=x7(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage._makeRequest(i,r);t._request=s,s.getPromise().then(function(a){a=a,t._request=void 0,t._updateProgress(a.current),t._needToFetchStatus=!1,a.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=AP*this._chunkMultiplier,r=new Wv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=L7(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(c){t._error=c,t._transition("error");return}var l=t._ref.storage._makeRequest(a,s);t._request=l,l.getPromise().then(function(c){t._increaseMultiplier(),t._request=void 0,t._updateProgress(c.current),c.finalized?(t._metadata=c.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=AP*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n){var r=dU(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n){var r=D7(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=nU(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=j_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new M7(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(j_(this._state)){case hn.SUCCESS:fu(this._resolve.bind(null,this.snapshot))();break;case hn.CANCELED:case hn.ERROR:var n=this._reject;fu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=j_(this._state);switch(n){case hn.RUNNING:case hn.PAUSED:t.next&&fu(t.next.bind(t,this.snapshot))();break;case hn.SUCCESS:t.complete&&fu(t.complete.bind(t))();break;case hn.CANCELED:case hn.ERROR:t.error&&fu(t.error.bind(t,this._error))();break;default:t.error&&fu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var im=function(){function e(t,n){this._service=t,n instanceof Br?this._location=n:this._location=Br.makeFromUrl(n)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Br(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return fU(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=g7(this._location.path);if(t===null)return null;var n=new Br(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw oU(t)},e}();function F7(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vU(e,new rT(t),n)}function U7(e){var t={prefixes:[],items:[]};return gU(e,t).then(function(){return t})}function gU(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,mU(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,gU(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function mU(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&FE("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=s.sent(),r=t||{},i=C7(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}})})}function j7(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=dU(e.storage,e._location,tm()),[2,e.storage._makeRequest(n,t).getPromise()]}})})}function V7(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=A7(e.storage,e._location,t,tm()),[2,e.storage._makeRequest(r,n).getPromise()]}})})}function B7(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=N7(e.storage,e._location,tm()),[2,e.storage._makeRequest(n,t).getPromise().then(function(i){if(i===null)throw KY();return i})]}})})}function $7(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=R7(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}})})}function yU(e,t){var n=m7(e._location.path,t),r=new Br(e._location.bucket,n);return new im(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e){return/^[A-Za-z]+:\/\//.test(e)}function q7(e,t){return new im(e,t)}function _U(e,t){if(e instanceof om){var n=e;if(n._bucket==null)throw HY();var r=new im(n,n._bucket);return t!=null?_U(r,t):r}else if(t!==void 0){if(t.includes(".."))throw oa('`path` param cannot contain ".."');return yU(e,t)}else return e}function z7(e,t){if(t&&UE(t)){if(e instanceof om)return q7(e,t);throw oa("To use ref(service, url), the first argument must be a Storage instance.")}else return _U(e,t)}function G7(e){var t=e==null?void 0:e[tU];return t==null?null:Br.makeFromBucketSpec(t)}var om=function(){function e(t,n,r,i,s){this.app=t,this._authProvider=n,this._pool=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FY,this._maxUploadRetryTime=UY,this._requests=new Set,i!=null?this._bucket=Br.makeFromBucketSpec(i):this._bucket=G7(this.app.options)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){FE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){FE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new im(this,t)},e.prototype._makeRequest=function(t,n){var r=this;if(this._deleted)return new n7(iU());var i=h7(t,this._appId,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(e,t,n){return F7(e,t,n)}function W7(e){return j7(e)}function K7(e,t){return V7(e,t)}function Q7(e,t){return mU(e,t)}function Y7(e){return U7(e)}function X7(e){return B7(e)}function J7(e){return $7(e)}function RP(e,t){return z7(e,t)}function Z7(e,t){return yU(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PP=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new fp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new fp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new fp(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new fp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),DP=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Jf(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Jf(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jf=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Z7(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new PP(H7(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=gr.RAW),this._throwIfRoot("putString");var i=sU(n,t),s=Be({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new PP(new vU(this._delegate,new rT(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return Y7(this._delegate).then(function(n){return new DP(n,t.storage)})},e.prototype.list=function(t){var n=this;return Q7(this._delegate,t||void 0).then(function(r){return new DP(r,n.storage)})},e.prototype.getMetadata=function(){return W7(this._delegate)},e.prototype.updateMetadata=function(t){return K7(this._delegate,t)},e.prototype.getDownloadURL=function(){return X7(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),J7(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw oU(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eX=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(UE(t))throw oa("ref() expected a child path but got a URL, use refFromURL instead.");return new Jf(RP(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!UE(t))throw oa("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Br.makeFromUrl(t)}catch{throw oa("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jf(RP(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e}(),tX="@firebase/storage",nX="0.4.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rX="storage";function iX(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=new eX(r,new om(r,i,new t7,n,ee.SDK_VERSION));return s}function oX(e){var t={TaskState:hn,TaskEvent:ZY,StringFormat:gr,Storage:om,Reference:Jf};e.INTERNAL.registerComponent(new Bn(rX,iX,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(tX,nX)}oX(ee);var sX="@firebase/performance",wU="0.4.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EU=wU,aX="FB-PERF-TRACE-START",uX="FB-PERF-TRACE-STOP",jE="FB-PERF-TRACE-MEASURE",bU="_wt_",IU="_fp",TU="_fcp",SU="_fid",kU="@firebase/performance/config",CU="@firebase/performance/configexpire",lX="performance",NU="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,cX=(Ft={},Ft["trace started"]="Trace {$traceName} was started before.",Ft["trace stopped"]="Trace {$traceName} is not running.",Ft["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ft["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ft["no window"]="Window is not available.",Ft["no app id"]="App id is not available.",Ft["no project id"]="Project id is not available.",Ft["no api key"]="Api key is not available.",Ft["invalid cc log"]="Attempted to queue invalid cc event",Ft["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ft["RC response not ok"]="RC response is not ok",Ft["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ft["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ft["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ft["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ft),Wt=new ls(lX,NU,cX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji=new bl(NU);Ji.logLevel=pe.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V_,AU,en=function(){function e(t){if(this.window=t,!t)throw Wt.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Ji.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):jb()?!0:(Ji.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return V_===void 0&&(V_=new e(AU)),V_},e}();function fX(e){AU=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(e,t){var n=e.length-t.length;if(n<0||n>1)throw Wt.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B_,It=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=OP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=OP("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Wt.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Wt.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Wt.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return B_===void 0&&(B_=new e),B_},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RU;function hX(){var e=It.getInstance().installationsService.getId();return e.then(function(t){RU=t}),e}function aT(){return RU}function dX(){var e=It.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ju;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(ju||(ju={}));var pX=["firebase_","google_","ga_"],vX=new RegExp("^[a-zA-Z]\\w*$"),gX=40,mX=100;function yX(){var e=en.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function PU(){var e=en.getInstance().document,t=e.visibilityState;switch(t){case"visible":return ju.VISIBLE;case"hidden":return ju.HIDDEN;default:return ju.UNKNOWN}}function _X(){var e=en.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function wX(e){if(e.length===0||e.length>gX)return!1;var t=pX.some(function(n){return e.startsWith(n)});return!t&&!!e.match(vX)}function EX(e){return e.length!==0&&e.length<=mX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bX="0.0.1",IX={loggingEnabled:!0},TX="FIREBASE_INSTALLATIONS_AUTH";function SX(e){var t=kX();return t?(xP(t),Promise.resolve()):AX(e).then(xP).then(function(n){return CX(n)},function(){})}function kX(){var e=en.getInstance().localStorage;if(e){var t=e.getItem(CU);if(!(!t||!RX(t))){var n=e.getItem(kU);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function CX(e){var t=en.getInstance().localStorage;!e||!t||(t.setItem(kU,JSON.stringify(e)),t.setItem(CU,String(Date.now()+It.getInstance().configTimeToLive*60*60*1e3)))}var NX="Could not fetch config, will use default configs";function AX(e){return dX().then(function(t){var n=It.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+It.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:TX+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:It.getInstance().getAppId(),app_version:EU,sdk_version:bX})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Wt.create("RC response not ok")})}).catch(function(){Ji.info(NX)})}function xP(e){if(!e)return e;var t=It.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=IX.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=LP(t.tracesSamplingRate),t.logNetworkAfterSampling=LP(t.networkRequestsSamplingRate),e}function RX(e){return Number(e)>Date.now()}function LP(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uT=1,$_;function DU(){return uT=2,$_=$_||DX(),$_}function PX(){return uT===3}function DX(){return OX().then(function(){return hX()}).then(function(e){return SX(e)}).then(function(){return MP()},function(){return MP()})}function OX(){var e=en.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function MP(){uT=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lT=10*1e3,xX=5.5*1e3,OU=3,LX=1e3,Kv=OU,Wo=[],FP=!1;function MX(){FP||(sm(xX),FP=!0)}function sm(e){setTimeout(function(){if(Kv!==0){if(!Wo.length)return sm(lT);FX()}},e)}function FX(){var e=Wo.splice(0,LX),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:It.getInstance().logSource,log_event:t};UX(n,e).catch(function(){Wo=ve(ve([],e),Wo),Kv--,Ji.info("Tries left: "+Kv+"."),sm(lT)})}function UX(e,t){return jX(e).then(function(n){return n.ok||Ji.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=lT;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Wo=ve(ve([],t),Wo),Ji.info("Retry transport request later.")),Kv=OU,sm(i)})}function jX(e){var t=It.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function VX(e){if(!e.eventTime||!e.message)throw Wt.create("invalid cc log");Wo=ve(ve([],Wo),[e])}function BX(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);VX({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q_;function xU(e,t){q_||(q_=BX(qX)),q_(e,t)}function hp(e){var t=It.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||en.getInstance().requiredApisAvailable()&&(e.isAuto&&PU()!==ju.VISIBLE||(PX()?z_(e):DU().then(function(){return z_(e)},function(){return z_(e)})))}function z_(e){if(aT()){var t=It.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return xU(e,1)},0)}}function $X(e){var t=It.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return xU(e,0)},0)}}function qX(e,t){return t===0?zX(e):GX(e)}function zX(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:LU(),network_request_metric:t};return JSON.stringify(n)}function GX(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:LU(),trace_metric:t};return JSON.stringify(r)}function LU(){return{google_app_id:It.getInstance().getAppId(),app_instance_id:aT(),web_app_info:{sdk_version:EU,page_url:en.getInstance().getUrl(),service_worker_status:yX(),visibility_state:PU(),effective_connection_type:_X()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HX=100,WX="_",KX=[IU,TU,SU];function QX(e,t){return e.length===0||e.length>HX?!1:t&&t.startsWith(bU)&&KX.indexOf(e)>-1||!e.startsWith(WX)}function YX(e){var t=Math.floor(e);return t<e&&Ji.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=en.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=aX+"-"+this.randomId+"-"+this.name,this.traceStopMark=uX+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||jE+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw Wt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw Wt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),hp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw Wt.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Wt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=Be({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}hp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(QX(t,this.name))this.counters[t]=YX(n);else throw Wt.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=wX(t),i=EX(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw Wt.create("invalid attribute name",{attributeName:t});if(!i)throw Wt.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return Be({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=en.getInstance().getUrl();if(i){var s=new e(bU+i,!0),a=Math.floor(en.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(g){return g.name===l});h&&h.startTime&&s.putMetric(IU,Math.floor(h.startTime*1e3));var p=n.find(function(g){return g.name===c});p&&p.startTime&&s.putMetric(TU,Math.floor(p.startTime*1e3)),r&&s.putMetric(SU,Math.floor(r*1e3))}hp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);hp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=en.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};$X(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XX=5e3;function jP(){aT()&&(setTimeout(function(){return ZX()},0),setTimeout(function(){return JX()},0),setTimeout(function(){return e9()},0))}function JX(){for(var e=en.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];UP(i)}e.setupObserver("resource",UP)}function ZX(){var e=en.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){lf.createOobTrace(t,n),r=void 0},XX);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),lf.createOobTrace(t,n,i))})}else lf.createOobTrace(t,n)}function e9(){for(var e=en.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];VP(i)}e.setupObserver("measure",VP)}function VP(e){var t=e.name;t.substring(0,jE.length)!==jE&&lf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t9=function(){function e(t){this.app=t,en.getInstance().requiredApisAvailable()&&Vb().then(function(n){n&&(MX(),DU().then(jP,jP))}).catch(function(n){Ji.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new lf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return It.getInstance().instrumentationEnabled},set:function(t){It.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return It.getInstance().dataCollectionEnabled},set:function(t){It.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n9="[DEFAULT]";function r9(e){var t=function(n,r){if(n.name!==n9)throw Wt.create("FB not default");if(typeof window>"u")throw Wt.create("no window");return fX(window),It.getInstance().firebaseAppInstance=n,It.getInstance().installationsService=r,new t9(n)};e.INTERNAL.registerComponent(new Bn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(sX,wU)}r9(ee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i9="firebase_id",o9="origin",s9=60*1e3,a9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MU="https://www.googletagmanager.com/gtag/js",tn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(tn||(tn={}));var VE;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(VE||(VE={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return i&&i.global?(e(tn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=Be(Be({},r),{send_to:s}),e(tn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function l9(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(tn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(tn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function c9(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(tn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(tn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function f9(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(tn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(tn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function h9(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt=new bl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(e,t){var n=document.createElement("script");n.src=MU+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function p9(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function v9(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h;return N(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(g){return g.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),jt.error(h),[3,8];case 8:return e(tn.CONFIG,i,s),[2]}})})}function g9(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h,p,g,m,y;return N(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(b){var C=l.find(function(I){return I.measurementId===b}),T=C&&t[C.appId];if(T)s.push(T);else return s=[],"break"},h=0,p=a;h<p.length&&(g=p[h],m=c(g),m!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(tn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),jt.error(y),[3,5];case 5:return[2]}})})}function m9(e,t,n,r){function i(s,a,l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==tn.EVENT?[3,2]:[4,g9(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==tn.CONFIG?[3,4]:[4,v9(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(tn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),jt.error(c),[3,7];case 7:return[2]}})})}return i}function y9(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=m9(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function _9(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(MU))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr,w9=(xr={},xr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",xr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",xr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",xr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",xr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",xr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",xr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",xr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',xr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',xr),_r=new ls("analytics","Analytics",w9);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E9=30,b9=1e3,I9=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=b9),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),FU=new I9;function T9(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function S9(e){var t;return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:T9(r)},s=a9.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw _r.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function k9(e,t,n){return t===void 0&&(t=FU),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return N(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw _r.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw _r.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new A9,setTimeout(function(){return A(h,void 0,void 0,function(){return N(this,function(g){return c.abort(),[2]})})},n!==void 0?n:s9),[2,UU({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function UU(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=FU),A(this,void 0,void 0,function(){var a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,C9(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return jt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,S9(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!N9(p)){if(r.deleteThrottleMetadata(a),l)return jt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return g=Number(p.customData.httpStatus)===503?$w(s,r.intervalMillis,E9):$w(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1},r.setThrottleMetadata(a,m),jt.debug("Calling attemptFetch again in "+g+" millis"),[2,UU(e,m,n,r)];case 7:return[2]}})})}function C9(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(_r.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function N9(e){if(!(e instanceof El)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var A9=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return jb()?[3,1]:(jt.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Vb()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),jt.warn(_r.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function P9(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return a=k9(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&jt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return jt.error(w)}),t.push(a),l=R9().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],_9()||d9(s,h.measurementId),i("js",new Date),g=(m={},m[o9]="firebase",m.update=!0,m),p!=null&&(g[i9]=p),i(tn.CONFIG,h.measurementId,g),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai={},BP=[],$P={},Dp="dataLayer",jU="gtag",qP,Fc,BE=!1;function D9(e){if(BE)throw _r.create("already-initialized");e.dataLayerName&&(Dp=e.dataLayerName),e.gtagName&&(jU=e.gtagName)}function O9(){var e=[];if(Ub()&&e.push("This is a browser extension environment."),cx()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=_r.create("invalid-analytics-context",{errorInfo:t});jt.warn(n.message)}}function x9(e,t){O9();var n=e.options.appId;if(!n)throw _r.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)jt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw _r.create("no-api-key");if(Ai[n]!=null)throw _r.create("already-exists",{id:n});if(!BE){p9(Dp);var r=y9(Ai,BP,$P,Dp,jU),i=r.wrappedGtag,s=r.gtagCore;Fc=i,qP=s,BE=!0}Ai[n]=P9(e,BP,$P,t,qP,Dp);var a={app:e,logEvent:function(l,c,h){u9(Fc,Ai[n],l,c,h).catch(function(p){return jt.error(p)})},setCurrentScreen:function(l,c){l9(Fc,Ai[n],l,c).catch(function(h){return jt.error(h)})},setUserId:function(l,c){c9(Fc,Ai[n],l,c).catch(function(h){return jt.error(h)})},setUserProperties:function(l,c){f9(Fc,Ai[n],l,c).catch(function(h){return jt.error(h)})},setAnalyticsCollectionEnabled:function(l){h9(Ai[n],l).catch(function(c){return jt.error(c)})},INTERNAL:{delete:function(){return delete Ai[n],Promise.resolve()}}};return a}var L9="@firebase/analytics",M9="0.6.6",zP="analytics";function F9(e){e.INTERNAL.registerComponent(new Bn(zP,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return x9(r,i)},"PUBLIC").setServiceProps({settings:D9,EventName:VE,isSupported:U9})),e.INTERNAL.registerComponent(new Bn("analytics-internal",t,"PRIVATE")),e.registerVersion(L9,M9);function t(n){try{var r=n.getProvider(zP).getImmediate();return{logEvent:r.logEvent}}catch(i){throw _r.create("interop-component-reg-failed",{reason:i})}}}F9(ee);function U9(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(Ub())return[2,!1];if(!cx())return[2,!1];if(!jb())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Vb()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j9=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,V9=(ln={},ln["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",ln["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",ln["registration-api-key"]="Undefined API key. Check Firebase app initialization.",ln["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",ln["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ln["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ln["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ln["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",ln["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ln["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',ln["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',ln["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ln["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ln),mr=new ls("remoteconfig","Remote Config",V9);function B9(e,t){return e instanceof El&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q9=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,g,m,y,w,b,C,T,I,S,D;return N(this,function(L){switch(L.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=L.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:$9()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),g=new Promise(function(P,U){t.signal.addEventListener(function(){var H=new Error("The operation was aborted.");H.name="AbortError",U(H)})}),L.label=2;case 2:return L.trys.push([2,5,,6]),[4,Promise.race([p,g])];case 3:return L.sent(),[4,p];case 4:return m=L.sent(),[3,6];case 5:throw y=L.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),mr.create(w,{originalErrorMessage:y.message});case 6:if(b=m.status,C=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];S=void 0,L.label=7;case 7:return L.trys.push([7,9,,10]),[4,m.json()];case 8:return S=L.sent(),[3,10];case 9:throw D=L.sent(),mr.create("fetch-client-parse",{originalErrorMessage:D.message});case 10:T=S.entries,I=S.state,L.label=11;case 11:if(I==="INSTANCE_STATE_UNSPECIFIED"?b=500:I==="NO_CHANGE"?b=304:(I==="NO_TEMPLATE"||I==="EMPTY_CONFIG")&&(T={}),b!==304&&b!==200)throw mr.create("fetch-status",{httpStatus:b});return[2,{status:b,eTag:C,config:T}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z9=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G9=!1,H9="",GP=0,W9=["1","true","t","yes","y","on"],G_=function(){function e(t,n){n===void 0&&(n=H9),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?G9:W9.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return GP;var t=Number(this._value);return isNaN(t)&&(t=GP),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K9=60*1e3,Q9=12*60*60*1e3,Y9=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:K9,minimumFetchIntervalMillis:Q9},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=pe.DEBUG;break;case"silent":this._logger.logLevel=pe.SILENT;break;default:this._logger.logLevel=pe.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return A(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new z9,setTimeout(function(){return A(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=B9(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return X9(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new G_("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new G_("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new G_("static"))},e}();function X9(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(Be(Be({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(e,t){var n=e.target.error||void 0;return mr.create(t,{originalErrorMessage:n&&n.message})}var Bs="app_namespace_store",J9="firebase_remote_config",Z9=1;function eJ(){return new Promise(function(e,t){var n=indexedDB.open(J9,Z9);n.onerror=function(r){t(Op(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Bs,{keyPath:"compositeKey"})}}})}var tJ=function(){function e(t,n,r,i){i===void 0&&(i=eJ()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Bs],"readonly"),c=l.objectStore(Bs),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(g){a(Op(g,"storage-get"))},p.onsuccess=function(g){var m=g.target.result;s(m?m.value:void 0)}}catch(g){a(mr.create("storage-get",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.set=function(t,n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Bs],"readwrite"),h=c.objectStore(Bs),p=i.createCompositeKey(t);try{var g=h.put({compositeKey:p,value:n});g.onerror=function(m){l(Op(m,"storage-set"))},g.onsuccess=function(){a()}}catch(m){l(mr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Bs],"readwrite"),c=l.objectStore(Bs),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(g){a(Op(g,"storage-delete"))},p.onsuccess=function(){s()}}catch(g){a(mr.create("storage-delete",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nJ=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(mr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function iJ(e){if(!(e instanceof El)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var oJ=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return A(this,void 0,void 0,function(){var s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,rJ(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!iJ(a))throw a;return l={throttleEndTimeMillis:Date.now()+$w(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),HP="@firebase/remote-config",sJ="0.1.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(e){e.INTERNAL.registerComponent(new Bn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(HP,sJ);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw mr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw mr.create("registration-project-id");if(!h)throw mr.create("registration-api-key");if(!p)throw mr.create("registration-app-id");i=i||"firebase";var g=new tJ(p,s.name,i),m=new nJ(g),y=new bl(HP);y.logLevel=pe.ERROR;var w=new q9(a,e.SDK_VERSION,i,c,h,p),b=new oJ(w,g),C=new j9(b,g,m,y),T=new Y9(s,C,m,g,y);return T.ensureInitialized(),T}}aJ(ee);var uJ="firebase",lJ="8.3.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ee.registerVersion(uJ,lJ,"app");var cJ="firebase",fJ="8.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ee.registerVersion(cJ,fJ);const hJ={apiKey:"AIzaSyDzCDBz575Ztr_DHdyI3P6S_i5fFWgtF_o",authDomain:"react-project8-53a24.firebaseapp.com",databaseURL:"https://react-project8-53a24-default-rtdb.europe-west1.firebasedatabase.app",projectId:"react-project8-53a24",storageBucket:"react-project8-53a24.appspot.com",messagingSenderId:"861833486386",appId:"1:861833486386:web:3ba31ab769c3aff8e31c2b"};ee.initializeApp(hJ);var xp=ee.database();const dJ=e=>{const[t,n]=vn.useState(""),[r,i]=vn.useState(""),[s,a]=vn.useState(""),[l,c]=vn.useState(""),h=async y=>{y.preventDefault(),console.log({gate:l,taskName:r,taskPriority:t,result:!1}),await xp.ref("act_tasks").push({id:Math.random().toString(),gate:l,taskName:r,taskPriority:t===""?"non":t,result:!1}),await e.onFetch(),n(""),a(""),i("")},p=y=>{n(y.target.value)},g=y=>{i(y.target.value)},m=y=>{c(y.target.value.split("-").join("")),a(y.target.value)};return G.createElement("form",{className:Hn.form,onSubmit:h},G.createElement("ul",null,G.createElement("li",{className:`${Hn.non} ${t==="non"?`${Hn.selected}`:""}`},G.createElement("button",{type:"button",className:Hn.buttons,value:"non",onClick:p},"None")),G.createElement("li",{className:`${Hn.low} ${t==="low"?`${Hn.selected}`:""}`},G.createElement("button",{type:"button",className:Hn.buttons,value:"low",onClick:p},"Low")),G.createElement("li",{className:`${Hn.med} ${t==="med"?`${Hn.selected}`:""}`},G.createElement("button",{type:"button",className:Hn.buttons,value:"med",onClick:p},"Medium")),G.createElement("li",{className:`${Hn.hig} ${t==="hig"?`${Hn.selected}`:""}`},G.createElement("button",{type:"button",className:Hn.buttons,value:"hig",onClick:p},"High"))),G.createElement(ix,{type:"text",value:r,onChange:g}),G.createElement(Li,null,"Add"),G.createElement("input",{type:"date",value:s,onChange:m,required:!0}))},pJ=e=>{const[t,n]=vn.useState(new Date),r=t.getFullYear();return vn.useEffect(()=>{const i=setInterval(()=>{n(new Date)},5e3);return()=>clearInterval(i)},[]),G.createElement(G.Fragment,null,G.createElement("h1",null,t.getDate()<10?`0${t.getDate()}`:`${t.getDate()}`,".",t.getMonth()<10?`0${t.getMonth()+1}`:`${t.getMonth()+1}`,".",r),G.createElement("h1",null,t.getHours()<10?`0${t.getHours()}`:`${t.getHours()}`,":",t.getUTCMinutes()<10?`0${t.getUTCMinutes()}`:`${t.getUTCMinutes()}`)," ")},vJ=e=>G.createElement("div",{className:uA.headercontainer},G.createElement(pJ,null),G.createElement("div",{className:uA.menu},G.createElement("h3",null,"Find task"),G.createElement(ix,{type:"text"}),G.createElement(Li,null,"Search"),G.createElement("br",null),G.createElement("ul",null,G.createElement("li",null,"Today"),G.createElement("li",null,"Upcoming")),G.createElement("h3",null,"Add task"),"Priority"),G.createElement(dJ,{onFetch:e.onFetch}),G.createElement("h3",null,"Show Days"),G.createElement(Li,{func:()=>e.callback(7)},"7 Days"),G.createElement(Li,{func:()=>e.callback(14)},"14 Days"),G.createElement(Li,{func:()=>e.callback(30)},"30 Days")),gJ="_maincontainer_qkh5h_1",mJ="_wild_main_container_qkh5h_10",yJ="_board_qkh5h_23",_J="_month_qkh5h_33",dp={maincontainer:gJ,wild_main_container:mJ,board:yJ,month:_J},wJ="_wildbox_103qe_1",EJ="_mid_box_103qe_27",bJ="_box_103qe_53",H_={wildbox:wJ,mid_box:EJ,box:bJ},IJ="_cont_1dkek_1",TJ="_non_1dkek_11",SJ="_low_1dkek_15",kJ="_med_1dkek_19",CJ="_hig_1dkek_24",NJ="_del_1dkek_28",AJ="_edi_1dkek_32",RJ="_butt_1dkek_40",wo={cont:IJ,non:TJ,low:SJ,med:kJ,hig:CJ,del:NJ,edi:AJ,butt:RJ},PJ=e=>{const[t,n]=vn.useState(e.result),[r,i]=vn.useState(!1),[s,a]=vn.useState(!1),[l,c]=vn.useState({taskName:e.taskname,gate:`${e.gate.slice(0,4)}-${e.gate.slice(4,6)}-${e.gate.slice(6,8)}`,taskPriority:e.taskPriority}),h=async()=>{n(C=>!C),await xp.ref("act_tasks/"+e.id).update({result:!t}),e.onFetch()},p=async()=>{await xp.ref("act_tasks/"+e.id).remove().catch(alert),e.onFetch()},g=()=>{a(C=>!C),c({taskName:e.taskname,gate:`${e.gate.slice(0,4)}-${e.gate.slice(4,6)}-${e.gate.slice(6,8)}`,taskPriority:e.taskPriority})},m=C=>{c({...l,[C.target.name]:C.target.value})},y=async()=>{await xp.ref("act_tasks/"+e.id).update({taskName:l.taskName,gate:l.gate.split("-").join(""),taskPriority:l.taskPriority}),e.onFetch(),a(C=>!C)},w=()=>{i(C=>!C)},b=e.taskPriority;return G.createElement("div",{className:`${wo.cont} ${wo[b]}`},r&&G.createElement("div",null,"You want to delete task:",G.createElement("div",{className:`${wo.cont} ${wo.del}`},e.taskname),G.createElement(Li,{func:p},"Yes"),G.createElement(Li,{func:w},"No")),s&&G.createElement("div",null,"You want to edit task:",G.createElement("div",{className:`${wo.cont} ${wo.edi}`},G.createElement("input",{type:"text",name:"taskName",value:l.taskName,onChange:m}),G.createElement("input",{type:"date",name:"gate",value:l.gate,onChange:m}),"Priority:"," ",G.createElement("select",{value:l.taskPriority,name:"taskPriority",onChange:m},G.createElement("option",{value:"non"},"None"),G.createElement("option",{value:"low"},"Low"),G.createElement("option",{value:"med"},"Medium"),G.createElement("option",{value:"hig"},"High"))),G.createElement(Li,{func:y},"Edit"),G.createElement(Li,{func:g},"Cancel")),!r&&!s&&G.createElement(G.Fragment,null,G.createElement("input",{type:"checkbox",className:wo.check,onChange:h,checked:e.result}),e.taskname,G.createElement("div",{className:wo.butt},G.createElement("button",{type:"button",title:"Delete task",onClick:w},"X"),G.createElement("button",{type:"button",title:"Delete task",onClick:g},"Edit"))))},DJ=e=>e.daysShow>14?G.createElement("div",{className:H_.box,id:e.id},e.children):e.daysShow>7?G.createElement("div",{className:H_.mid_box,id:e.id},e.children):G.createElement("div",{className:H_.wildbox,id:e.id},e.children),OJ=e=>{const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["January","February","March","April","May","June","July","August","September","October","November","December"];vn.useEffect(()=>{e.fetchTask()},[]);const r=(c,h)=>new Date(c,h,0).getDate(),i=new Date,s=i.getFullYear(),a=i.getMonth()+1,l=r(s,a);return G.createElement("div",{className:e.daysShow>14?dp.maincontainer:dp.wild_main_container},G.createElement("div",{className:dp.board},[...Array(e.daysShow)].map((c,h)=>{const p=new Date(s,a-1,i.getDate()+h),g=p.getDay(),m=p.getMonth(),y=e.tasks.filter(b=>b.gate===`${p.getFullYear()}${p.getMonth()+1<10?`0${p.getMonth()+1}`:`${p.getMonth()+1}`}${p.getDate()<10?`0${p.getDate()}`:`${p.getDate()}`}`),w=p.getDate()<=l?`${p.getFullYear()}${p.getMonth()+1<10?`0${p.getMonth()+1}`:`${p.getMonth()+1}`}${p.getDate()<10?`0${p.getDate()}`:`${p.getDate()}`}`:`${p.getFullYear()}${p.getMonth()+2<10?`0${p.getMonth()+2}`:`${p.getMonth()+2}`}${p.getDate()-l<10?`0${p.getDate()-l}`:`${p.getDate()-l}`}`;return G.createElement(DJ,{key:h,id:w,daysShow:e.daysShow},G.createElement("h4",null,t[g]," ",`${p.getDate()<10?`0${p.getDate()}`:p.getDate()}`),G.createElement("div",{className:dp.month},n[m]),y.map(b=>G.createElement(PJ,{taskname:b.taskName,key:b.id,id:b.id,taskPriority:b.taskPriority,gate:b.gate,result:b.result,onFetch:e.fetchTask})))})))};function xJ(){const[e,t]=vn.useState([]),[n,r]=vn.useState(7),i=a=>{r(parseInt(a))},s=async()=>{const l=await(await fetch("https://react-project8-53a24-default-rtdb.europe-west1.firebasedatabase.app/act_tasks.json")).json(),c=[];for(const h in l)c.push({id:h,taskName:l[h].taskName,gate:l[h].gate,taskPriority:l[h].taskPriority,result:l[h].result});console.log({loadedTasks:c,responseData:l}),t(c)};return G.createElement(G.Fragment,null,G.createElement(vJ,{onFetch:s,callback:i}),G.createElement(OJ,{fetchTask:s,tasks:e,daysShow:n}))}W_.createRoot(document.getElementById("root")).render(G.createElement(G.StrictMode,null,G.createElement(xJ,null)));
